on_actions = {
	on_join_facton = {
	}
	
	on_weekly = {
		effect = {
			if = {
				limit = {				
					tag = MEN
					has_government = fascism
					is_puppet_of = JAP
					has_cosmetic_tag = MMGmen
					NOT = {
						has_country_flag = mengjiang_ed
					}
					621 = {
						controller = { 
							OR = { 
								is_in_faction_with = ROOT
								tag = ROOT
							}
						}
					}
				}
				country_event = { id = jap.65 }
			}
			
			if = {
				limit = {		
					tag = MEN
					has_government = fascism
					is_puppet_of = JAP
					621 = {
						controller = { 
							OR = { 
								is_in_faction_with = ROOT
								tag = ROOT
							}
						}
					}
					615 = {
						controller = { 
							OR = { 
								is_in_faction_with = ROOT
								tag = ROOT
							}
						}
					}
				}
				country_event = { id = jap.66 }
			}
		}
	}
	
	on_monthly_PRC = {
		effect = {
			if = {
				limit = {
					PRC = {
						exists = yes
						has_country_flag = PRC_joined_CHI_against_JAP
						is_puppet = no
						NOT = {
							has_war_with = JAP
						}
					}
					event_target:KMT_central_gov_tag = {
						NOT = {
							has_global_flag = PRC_ded
							has_war_with = JAP
						}
						is_faction_leader = yes
						is_puppet = no
					}
					NOT = { 
						has_global_flag = PRC_restart_CHI_war
						has_global_flag = no_longer_united
					}
				}
				event_target:KMT_central_gov_tag = { country_event = { id = china.107 }}
			}
		}
	}
	
	on_monthly_JAP = {
		effect = {
			
			#taiseiyokusankai
			if = {
				limit = {
					date > 1940.10.6
					JAP = {
						has_government = fascism
						fascism > 0.7
						NOT = { has_country_flag = taiseiyokusankai }
					}
				}
				JAP = { country_event = { id = jap.2 }}
			}
		}
	}
	
	on_peaceconference_ended = {
		effect = {
		}
	}
	
	#FROM.FROM = state
	#FROM = previous controller
	#ROOT = new controller
	on_state_control_changed = {
		effect = {
			#remove cornered fox
			if = {
				limit = {
					tag = PRC
					num_of_controlled_states > 6
					has_country_leader_with_trait = cornered_fox
				}
				country_event = { id = china.5 }
			}
		}
	}
	
	on_war_relation_added = {
		effect = {
			#united_front
			if = {
				limit = {
					tag = JAP
					FROM = { 
						is_chinese_nations_w_HYQ = yes
						OR = {
							is_subject = no
							OVERLORD = { is_chinese_nations_w_HYQ = yes }
						}
					}
					has_global_flag = KMT_united_front_enabled
					NOT = { has_global_flag = CHI_unite }
				}
				event_target:KMT_central_gov_tag = { country_event = { id = china.100 days = 7 random = 25 }}
			}
			
			#cairo conference
			if = {
				limit = {
					OR = {
						AND = {
							OR = {
								tag = USA
								tag = ENG
								tag = event_target:KMT_central_gov_tag
							}
							FROM = { tag = JAP }
						}
						AND = {
							FROM = {
								OR = {
									tag = USA
									tag = ENG
									tag = event_target:KMT_central_gov_tag
								}
							}
							tag = JAP
						}
					}
					ENG = {
						has_war_with = JAP
						NOT = {
							has_government = fascism
						}
						is_puppet = no
						is_major = yes
						has_country_leader = {
							character = ENG_winston_churchill
							ruling_only = yes
						}
					}
					event_target:KMT_central_gov_tag = {
						has_war_with = JAP
						NOT = {
							has_government = fascism
						}
						is_puppet = no
						is_major = yes
						is_faction_leader = yes
					}
					USA = {
						has_government = democratic
						is_puppet = no
						is_major = yes
					}
					JAP = {
						has_government = fascism
					}
				}
				USA = { country_event = { id = cairoC.1 days = 90 random = 30 }}
			}
			
			#tungchow mutiny
			if = {
				limit = {
					OR = {
						AND = {
							tag = JAP
							FROM = { tag = event_target:KMT_central_gov_tag }
						}
						AND = {
							tag = event_target:KMT_central_gov_tag
							FROM = { tag = JAP }
						}
					}
					EHA = {
						is_subject_of = JAP
					}
				}
				EHA = { country_event = { id = jap.6 days = 3 random = 3 }}
			}
		}
	}
}
