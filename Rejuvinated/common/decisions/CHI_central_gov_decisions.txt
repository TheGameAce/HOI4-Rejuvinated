@KMT_CORE_STATE_DURATION_LONG = 90@KMT_CORE_STATE_DURATION_MEDIUM = 60@KMT_CORE_STATE_DURATION_SHORT = 30@KMT_CORE_STATE_PPCOST = 0.1@KMT_CORE_STATE_COST_HIGH = 100@KMT_CORE_STATE_COST_MEDIUM = 75@KMT_CORE_STATE_COST_LOW = 25KMT_dcat_central_government = {		KMT_new_peace_window = {		icon = eng_trade_unions_support				activation = { always = no }				days_mission_timeout = 30				is_good = no				available = { has_war = no }				complete_effect = {			clr_country_flag = KMT_new_peace_window_active		}				timeout_effect = {			clr_country_flag = KMT_new_peace_window_active		}	}		KMT_new_peace_target = {		icon = eng_trade_unions_support				visible = {			event_target:KMT_central_gov_tag = { exists = yes }			has_country_flag = KMT_new_peace_window_active			FROM = {				NOT = { has_country_flag = KMT_new_peace_event_fired }				is_valid_power_struggle_participant = no				has_war_with = ROOT				OR = {					is_in_faction = no					is_faction_leader = yes				}			}		}				available = { FROM = { has_war_with = ROOT }}				ai_will_do = {			base = 0			modifier = {				surrender_progress > 0.25				add = 2			}			modifier = {				surrender_progress > 0.50				add = 5			}			modifier = {				surrender_progress > 0.75				add = 100			}			modifier = {				surrender_progress > 0.9				add = 1000			}			modifier = {				FROM = {					surrender_progress > 0.25				}				add = -2			}			modifier = {				FROM = {					surrender_progress > 0.5				}				add = -2			}			modifier = {				FROM = {					surrender_progress > 0.75				}				add = -2			}			modifier = {				FROM = {					surrender_progress > 0.9				}				add = -2			}			modifier = {				has_defensive_war_with = FROM				add = 10			}			modifier = {				AND = {					NOT = {						any_state = {							is_owned_by = ROOT 							is_coastal = yes						}						any_state = {							is_owned_by = FROM							is_coastal = yes						}					}					NOT = {						any_state = {							is_owned_by = ROOT							any_neighbor_state = {								is_owned_by = FROM							}						}					}				}				add = 1000			}		}				target_trigger = {			FROM = {				NOT = { tag = ROOT }				is_in_array = { ROOT.KMT_ps_alliance_array = THIS }				owns_state = event_target:KMT_central_gov_capital_state			}		}				complete_effect = {			FROM = { 				set_country_flag = KMT_new_peace_event_fired				country_event = { id = claim_central.10 }			}		}	}		KMT_agitate_workers_in_state = {		icon = eng_propaganda_campaigns		allowed = { original_tag = PRC }				visible = {			NOT = { has_global_flag = KMT_disable_power_struggle_mechanics }			OR = {				has_completed_focus = KMT_encourage_class_struggle				has_completed_focus = PRC_agitate_the_workers			}			OR = {				FROM = { has_state_flag = KMT_PRC_state_has_guerrilla_cell }				check_variable = { ROOT.KMT_ps_ip_spent_on_state > 0 }				has_country_flag = KMT_ps_agitating_workers			}			FROM = {				OR = {					industrial_complex > 0					arms_factory > 0					dockyard > 0				}				NOT = { is_owned_by = ROOT }			}		}				cost = 20				ai_will_do = {			base = 5			modifier = {				set_temp_variable = { FROM.KMT_agitate_ai_chance_bonus = 0 }				add_to_temp_variable = { FROM.KMT_agitate_ai_chance_bonus = FROM.industrial_complex }				add_to_temp_variable = { FROM.KMT_agitate_ai_chance_bonus = FROM.arms_factory }				add_to_temp_variable = { FROM.KMT_agitate_ai_chance_bonus = FROM.dockyard }				add = FROM.KMT_agitate_ai_chance_bonus			}			modifier = {				political_power_daily < 0.3				has_political_power < 100				factor = 0			}			modifier = {				FROM = { NOT = { is_controlled_by = event_target:KMT_central_gov_tag }}				factor = 0.01			}		}				target_array = ROOT.KMT_considered_inalienable_parts				state_target = yes				days_remove = 30				on_map_mode = map_only				modifier = { political_power_cost = 0.15 }				available = {			custom_trigger_tooltip = {				tooltip = KMT_less_than_3agitating_states				check_variable = { ROOT.KMT_agitate_workers_limit < 3 }			}		}				complete_effect = {			add_to_variable = { ROOT.KMT_agitate_workers_limit = 1 }			FROM = {				set_temp_variable = { ROOT.KMT_pop_support_decision_increment@THIS = 0 }				add_to_temp_variable = { ROOT.KMT_pop_support_decision_increment@THIS = THIS.industrial_complex }				add_to_temp_variable = { ROOT.KMT_pop_support_decision_increment@THIS = THIS.arms_factory }				add_to_temp_variable = { ROOT.KMT_pop_support_decision_increment@THIS = THIS.dockyard }				set_variable = { KMT_pop_support_increment@ROOT = ROOT.KMT_pop_support_decision_increment@This }				if = {					limit = { NOT = { has_global_flag = KMT_disable_power_struggle_mechanics }}					KMT_increase_pop_supportTHIS = yes				}			}			every_other_country = {				limit = {					any_controlled_state = { any_neighbor_state = { state = FROM }}					is_valid_power_struggle_participant = yes				}				country_event = { id = kmt_powerstruggle.42 }			}		}				remove_effect = {			FROM = {				set_temp_variable = { ROOT.KMT_pop_support_decision_increment@THIS = 0 }				add_to_temp_variable = { ROOT.KMT_pop_support_decision_increment@THIS = THIS.industrial_complex }				add_to_temp_variable = { ROOT.KMT_pop_support_decision_increment@THIS = THIS.arms_factory }				add_to_temp_variable = { ROOT.KMT_pop_support_decision_increment@THIS = THIS.dockyard }				set_temp_variable = { global.KMT_agitate_worker_communism_popularity_increase = ROOT.KMT_pop_support_decision_increment@THIS }				multiply_temp_variable = { global.KMT_agitate_worker_communism_popularity_increase = 0.01 }				CONTROLLER = { 					add_popularity = {						ideology = communism						popularity = global.KMT_agitate_worker_communism_popularity_increase					}				}				multiply_temp_variable = { ROOT.KMT_pop_support_decision_increment@THIS = 5 }				set_variable = { KMT_pop_support_increment@ROOT = ROOT.KMT_pop_support_decision_increment@This }				if = {					limit = { NOT = { has_global_flag = KMT_disable_power_struggle_mechanics }}					KMT_increase_pop_supportTHIS = yes				}			}			subtract_from_variable = { ROOT.KMT_agitate_workers_limit = 1 }		}	}		PRC_demand_national_referendum = {		icon = eng_propaganda_campaigns		allowed = { original_tag = PRC }				visible = {			has_completed_focus = PRC_agitate_the_workers			is_subject_of = event_target:KMT_central_gov_tag			event_target:KMT_central_gov_tag = { NOT = { has_government = communism }}		}				cost = 50				ai_will_do = {			base = 100		}				fire_only_once = yes				available = {			OR = {				event_target:KMT_central_gov_tag = { communism > 0.65 }				has_country_flag = KMT_ps_highest_pop_sup_tag			}		}				complete_effect = {			event_target:KMT_central_gov_tag = {				country_event = { id = kmt_powerstruggle.43 }			}		}	}		PRC_infiltrate_cg = {		icon = eng_propaganda_campaigns		allowed = { original_tag = PRC }				visible = { 			has_completed_focus = PRC_subvert_our_enemies_dominance 			country_exists = event_target:KMT_central_gov_tag		}				priority = 1000				cost = 75				days_remove = 25				days_re_enable = 30				modifier = { political_power_cost = 0.05 }				available = {		}				ai_will_do = {		}				remove_effect = {			event_target:KMT_central_gov_tag = {				random_list = {					seed = random					party_popularity@communism = { country_event = { id = kmt_powerstruggle.47 }}				}				add_popularity = {					ideology = communism					popularity = 0.05				}			}		}	}		KMT_reevaluate_relation_with_cg = {		icon = eng_propaganda_campaigns				visible = { 			OR = {				has_completed_focus = KMT_ostensible_loyalty				has_completed_focus = KMT_neutral_stance				has_completed_focus = KMT_proclaim_opposition			}		}				priority = 1000				cost = 75				days_remove = 25				days_re_enable = 30				modifier = { political_power_cost = 0.05 }				available = {			custom_trigger_tooltip = {				tooltip = KMT_cg_has_changed				NOT = { check_variable = { KMT_cg_stance_target@KMT_central_gov_tag = 1 }}			}		}				ai_will_do = {			base = 0			modifier = {				has_completed_focus = KMT_ostensible_loyalty				add = 5			}			modifier = {				has_completed_focus = KMT_devote_to_the_party_and_state				add = 20			}			modifier = {				has_global_flag = {					flag = KMT_reevaluate_delay_flag					days < 20				}				factor = 0			}		}				remove_effect = {						set_variable = { KMT_warlord_border_war_defender_modifier = 1 }			set_variable = { KMT_warlord_border_war_attacker_modifier = 1 }			if = {				limit = { has_country_flag = KMT_proclaimed_opposition }				clr_country_flag = KMT_proclaimed_opposition			}					if = {				limit = { has_completed_focus = KMT_ostensible_loyalty }				add_stability = -0.05			}			if = {				limit = { has_completed_focus = KMT_neutral_stance }				add_stability = -0.15			}			if = {				limit = { has_completed_focus = KMT_devote_to_the_party_and_state }				add_stability = -0.05				add_war_support = -0.15			}			if = {				limit = { has_completed_focus = KMT_officials_screening }				add_war_support = -0.1			}			if = {				limit = { has_completed_focus = KMT_new_model_region }				subtract_from_variable = { global.KMT_gc_max_ip_from_loyal_warlords = 2 }				add_stability = -0.05			}			if = {				limit = { has_completed_focus = KMT_spread_propaganda }				add_war_support = -0.05			}			if = {				limit = { has_completed_focus = KMT_maintain_regional_presence }				add_stability = -0.05				add_war_support = -0.05			}			if = {				limit = { has_completed_focus = KMT_continue_regional_development }				add_stability = -0.1			}						if = {				limit = { has_idea = KMT_warlord_suppress_dissidents_idea }				remove_ideas = KMT_warlord_suppress_dissidents_idea			}			if = {				limit = { has_idea = KMT_warlord_defensive_posture }				remove_ideas = KMT_warlord_defensive_posture			}			if = {				limit = { has_idea = KMT_warlord_propaganda_effort }				remove_ideas = KMT_warlord_propaganda_effort			}			if = {				limit = { has_idea = KMT_warlord_benefits_from_all_sides_idea }				remove_ideas = KMT_warlord_benefits_from_all_sides_idea			}			if = {				limit = { has_idea = KMT_warlord_regional_elites_idea }				remove_ideas = KMT_warlord_regional_elites_idea			}			if = {				limit = { has_idea = KMT_warlord_home_land_defence_force_idea }				remove_ideas = KMT_warlord_home_land_defence_force_idea			}						load_focus_tree = KMT_warlord_generic_focus		}	}		PRC_proclaim_peoples_republic = {		icon = eng_propaganda_campaigns		allowed = { original_tag = PRC }				visible = { 			OR = {				has_country_flag = PRC_coalition_gov_flag				has_completed_focus = PRC_submit_to_the_united_front 			}		}				available = {			NOT = { is_subject_of = event_target:KMT_central_gov_tag }		}				fire_only_once = yes				ai_will_do = {			base = 100		}				complete_effect = {			hidden_effect = { add_ideas = { PRC_communists_bandits }}			if = {				limit = { 					OR = {						has_focus_tree = PRC_focus_default						has_focus_tree = PRC_focus_zxl_pF_bF					}				}				complete_national_focus = PRC_found_our_nation			}			add_political_power = 500			drop_cosmetic_tag = yes		}	}		KMT_imminent_uprising_mission = {		icon = eng_propaganda_campaigns				activation = { always = no }				days_mission_timeout = 30				priority = 2000				is_good = no		war_with_on_timeout = PRC				available = {			OR = {				NOT = { country_exists = PRC }				has_war_with = PRC			}		}				ai_will_do = {		}				timeout_effect = {			effect_tooltip = { PRC = { declare_war_on = { target = ROOT }}}		}	}		PRC_imminent_uprising_mission = {		icon = eng_propaganda_campaigns				activation = { always = no }		priority = 2000				days_mission_timeout = 30				is_good = no				cancel_trigger = {			FROM = { NOT = { tag = event_target:KMT_central_gov_tag }}		}				available = {			OR = {				NOT = { country_exists = event_target:KMT_central_gov_tag }				has_war_with = event_target:KMT_central_gov_tag			}		}				ai_will_do = {		}				war_with_target_on_timeout = yes				timeout_effect = {			if = {				limit = { is_in_faction_with = event_target:KMT_central_gov_tag }				event_target:KMT_central_gov_tag = { remove_from_faction = ROOT }			}			if = {				limit = { is_subject_of = event_target:KMT_central_gov_tag }				event_target:KMT_central_gov_tag = { end_puppet = ROOT }			}			event_target:KMT_central_gov_tag = { country_event = { id = kmt_powerstruggle.46 }}			declare_war_on = { 				target = event_target:KMT_central_gov_tag				type = civil_war			}			if = {				limit = { NOT = { has_country_flag = PRC_jmcij_flag }}				set_country_flag = PRC_jmcij_flag				division_template = {					name = "Jenmin Ch'iichun"						priority = 0					regiments = { 						militia = { x = 0 y = 0 } 						militia = { x = 0 y = 1 } 						militia = { x = 1 y = 0 } 					}					is_locked = yes				}			}			custom_effect_tooltip = PRC_uprise_in_states_tt			every_state = {				limit = {					CONTROLLER = {						OR = {							AND = {								OR = {									tag = event_target:KMT_central_gov_tag									is_in_faction_with = event_target:KMT_central_gov_tag									is_subject_of = event_target:KMT_central_gov_tag								}								has_war_with = ROOT							}							tag = ROOT						}					}					check_variable = { PRC_state_guerrilla_cell_strength > 19 }				}				PRC_guerrilla_civil_war_uprise = yes			}			every_state = {				limit = {					CONTROLLER = {						OR = {							AND = {								OR = {									tag = event_target:KMT_central_gov_tag									is_in_faction_with = event_target:KMT_central_gov_tag									is_subject_of = event_target:KMT_central_gov_tag								}								has_war_with = ROOT							}							tag = ROOT						}					}					NOT = { is_owned_by = ROOT }					check_variable = { KMT_pop_support@ROOT > KMT_50pc_popsup }				}				ROOT = { transfer_state = PREV }			}			every_state = {				limit = {					CONTROLLER = {						OR = {							AND = {								OR = {									tag = event_target:KMT_central_gov_tag									is_in_faction_with = event_target:KMT_central_gov_tag									is_subject_of = event_target:KMT_central_gov_tag								}								has_war_with = ROOT							}							tag = ROOT						}					}					NOT = { is_core_of = ROOT }					check_variable = { KMT_pop_support@ROOT > KMT_75pc_popsup }				}				add_core_of = ROOT			}		}	}
}
