KMT_dcat_increase_compliance_in_chinese_provinces = {

	KMT_integrate_sinkiang = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			tag = event_target:KMT_central_gov_tag
			SIK = { is_subject_of = ROOT }
			OR = {
				has_country_flag = KMT_finished_unify_china_focus
				has_completed_focus = KMT_warlord_after_civil_war
			}
		}
		
		days_remove = 360
		
		cancel_trigger = {
			OR = {
				SIK = {
					OR = {
						exists = no
						NOT = { is_subject_of = ROOT }
						has_war_with = ROOT
					}
				}
				has_war = yes
			}
		}
		
		available = { has_war = no }
		
		cost = 200
		
		modifier = { political_power_factor = -0.05 }
		
		remove_effect = {
			if = {
				limit = { SIK = { has_character = XIA_zhang_zhizhong }}
				SIK = { XIA_zhang_zhizhong = { set_nationality = ROOT }}
			}
			annex_country = {
				target = SIK
				transfer_troops = yes
			}
			every_owned_state = {
				limit = { 
					is_controlled_by = ROOT
					region = 145
					has_resistance = yes
				}
				add_compliance = 0.45
			}
		}
	}

	KMT_compliance_kwangtung = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 591
					state = 959
					state = 592
					state = 728
					state = 729
					state = 326
					state = 593
					state = 978
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { 
			state = 959
			state = 592
			state = 728
			state = 591
			state = 729
			state = 326
			state = 593
			state = 978
		}		}
		
		cost = 80
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 591
						state = 959
						state = 592
						state = 728
						state = 729
						state = 326
						state = 593
						state = 978
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_kwangsi = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 941
					state = 599
					state = 594
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { 
			state = 941
			state = 599
			state = 594
		}		}
		
		cost = 30
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 941
						state = 599
						state = 594
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_yunnan = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 325
					state = 747
					state = 979
					state = 942
					state = 977
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = {
			state = 325
			state = 747
			state = 979
			state = 942
			state = 977
		}		}
		
		cost = 40
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 325
						state = 747
						state = 979
						state = 942
						state = 977
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_kweichow = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 603
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { state = 603 }		}
		
		cost = 10
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 603
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_hunan = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 602
					state = 958
					state = 944
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { 
			state = 602
			state = 958
			state = 944
		}		}
		
		cost = 30
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 602
						state = 958
						state = 944
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_kiangsi = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 600
					state = 957
					state = 956
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { 
			state = 600
			state = 957
			state = 956
		}		}
		
		cost = 30
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 600
						state = 957
						state = 956
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_fukien = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 595
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { state = 595 }		}
		
		cost = 10
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 595
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_chekiang = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 596
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { state = 596 }		}
		
		cost = 10
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 596
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_kiangsu = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 613
					state = 938
					state = 598
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { 
			state = 613
			state = 938
			state = 598
		}		}
		
		cost = 30
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 613
						state = 938
						state = 598
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_anhwei = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 606
					state = 749
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { 
			state = 606
			state = 749
		}		}
		
		cost = 20
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 606
						state = 749
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_hupeh = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 980
					state = 620
					state = 955
					state = 750
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = {
			state = 980
			state = 620
			state = 955
			state = 750
		}		}
		
		cost = 40
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 980
						state = 620
						state = 955
						state = 750
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_szechwan = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 605
					state = 943
					state = 748
					state = 753
					state = 751
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { 
			state = 605
			state = 943
			state = 748
			state = 753
			state = 751
		}		}
		
		cost = 50
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 605
						state = 943
						state = 748
						state = 753
						state = 751
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_sikang = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 752
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { state = 752 }		}
		
		cost = 10
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 752
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_tibet = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 757
					state = 758
					state = 322
					state = 601
					state = 434
					state = 604
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { 
			state = 757
			state = 758
			state = 322
			state = 601
			state = 434
			state = 604
		}		}
		
		cost = 120
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 60
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 757
						state = 758
						state = 322
						state = 601
						state = 434
						state = 604
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_eturkestan = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 617
					state = 760
					state = 759
					state = 287
					state = 619
					state = 960
					state = 951
					state = 947
					state = 948
					state = 618
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = {
			state = 617
			state = 760
			state = 759
			state = 287
			state = 619
			state = 960
			state = 951
			state = 947
			state = 948
			state = 618
		}		}
		
		cost = 200
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 60
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 617
						state = 760
						state = 759
						state = 287
						state = 619
						state = 960
						state = 951
						state = 947
						state = 948
						state = 618
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_tsinghai = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 754
					state = 755
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { 
			state = 754
			state = 755
		}		}
		
		cost = 20
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 754
						state = 755
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_kansu = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 283
					state = 949
					state = 946
					state = 756
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { 
			state = 283
			state = 949
			state = 946
			state = 756
		}		}
		
		cost = 40
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 283
						state = 949
						state = 946
						state = 756
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_ningsia = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 616
					state = 945
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { 
			state = 616
			state = 945
		}		}
		
		cost = 20
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 616
						state = 945
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_shensi = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 744
					state = 622
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { 
			state = 744
			state = 622
		}		}
		
		cost = 20
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 744
						state = 622
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_honan = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 607
					state = 940
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = {
			state = 607
			state = 940
		}		}
		
		cost = 20
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 607
						state = 940
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_shantung = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 939
					state = 597
					state = 743
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = {
			state = 939
			state = 597
			state = 743
		}		}
		
		cost = 30
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 939
						state = 597
						state = 743
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_hopeh = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 608
					state = 614
					state = 609
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { 
			state = 608
			state = 614
			state = 609
		}		}
		
		cost = 30
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 608
						state = 614
						state = 609
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_shansi = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 615
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { state = 615 }		}
		
		cost = 10
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 615
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_suiyuan = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 621
					state = 746
					state = 966
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		

		highlight_states = {
			highlight_state_targets = {
			state = 621
			state = 966
			state = 746
		}		}
		
		cost = 20
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 621
						state = 746
						state = 966
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_charhar = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 611
					state = 612
					state = 937
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = {
			state = 611
			state = 612
			state = 937
		}		}
		
		cost = 20
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 611
						state = 612
						state = 937
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_jehol = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 610
					state = 715
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { 
			state = 610
			state = 715
		}		}
		
		cost = 20
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 610
						state = 715
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_liaoning = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 716
					state = 964
					state = 745
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { 
			state = 716
			state = 964
			state = 745
		}		}
		
		cost = 30
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 716
						state = 964
						state = 745
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_liaopeh = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 963
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { state = 963 }		}
		
		cost = 10
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 963
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_kirin = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 328
					state = 950
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = {
			state = 328
			state = 950
		}		}
		
		cost = 10
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 328
						state = 950
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_antung = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 965
					state = 976
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { 
			state = 965
			state = 976
		}		}
		
		cost = 20
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 965
						state = 976
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_sungkiang = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 717
					state = 975
					state = 973
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { 
			state = 717
			state = 975
			state = 973
		}		}
		
		cost = 30
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 717
						state = 975
						state = 973
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_hokiang = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 961
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { state = 961 }		}
		
		cost = 10
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 961
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_nunkiang = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 974
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { state = 974 }		}
		
		cost = 10
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 974
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_heilungkiang = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 714
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { state = 714 }		}
		
		cost = 10
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 714
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_sinan = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 761
					state = 936
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { 
			state = 761
			state = 936
		}		}
		
		cost = 20
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 761
						state = 936
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_mongolia = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 330
					state = 819
					state = 817
					state = 818
					state = 329
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { 
			state = 330
			state = 819
			state = 817
			state = 818
			state = 329
		}		}
		
		cost = 100
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 60
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 330
						state = 819
						state = 817
						state = 818
						state = 329
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

	KMT_compliance_taiwan = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = oppression
		
		visible = {
			any_state = {
				OR = {
					state = 524
				}
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		highlight_states = {
			highlight_state_targets = { state = 524 }		}
		
		cost = 10
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		remove_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 524
					}
					NOT = { is_core_of = ROOT }
				}
				add_compliance = 15
			}
		}
	}

}

KMT_dcat_postal_romanisation = {

	KMT_postal_romanisation_decision = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = eng_trade_unions_support
		visible = {
			NOT = { has_global_flag = KMT_use_postal_romanisation }
			is_ai = no
		}

		available = {
			always = yes
		}

		ai_will_do = {
			base = 0
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			custom_effect_tooltip = KMT_use_postal_romanisation_tt
			hidden_effect = { use_postal_romanisation = yes }
		}
	}

	KMT_pinyin_romanisation_decision = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = eng_trade_unions_support
		visible = {
			has_global_flag = KMT_use_postal_romanisation
			is_ai = no
		}

		available = {
			always = yes
		}

		ai_will_do = {
			base = 0
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			custom_effect_tooltip = KMT_use_postal_romanisation_tt
			hidden_effect = { use_hanyu_pinyin = yes }
		}
	}
}

KMT_dcat_incompetent_industry = {

	KMT_warlord_cg_investment = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_factory
		
		activation = {
			has_completed_focus = KMT_attract_central_investments
			OR = {
				AND = {
					event_target:KMT_central_gov_tag = { 
						NOT = {
							has_idea = incompetent_industry_fake
							has_idea = incompetent_industry_real
						}
					}
					OR = {
						has_idea = incompetent_industry_fake
						has_idea = incompetent_industry_real
					}
				}
				AND = {
					event_target:KMT_central_gov_tag = { 
						NOT = {
							has_idea = incompetent_industry_fake
							has_idea = incompetent_industry_real
							has_idea = incompetent_industry_real_2
						}
					}
					has_idea = incompetent_industry_real_2
				}
				AND = {
					event_target:KMT_central_gov_tag = { 
						NOT = {
							has_idea = incompetent_industry_fake
							has_idea = incompetent_industry_real
							has_idea = incompetent_industry_real_2
							has_idea = incompetent_industry_real_3
						}
					}
					has_idea = incompetent_industry_real_3
				}
				AND = {
					event_target:KMT_central_gov_tag = { 
						NOT = {
							has_idea = incompetent_industry_fake
							has_idea = incompetent_industry_real
							has_idea = incompetent_industry_real_2
							has_idea = incompetent_industry_real_3
							has_idea = incompetent_industry_real_4
						}
					}
					has_idea = incompetent_industry_real_4
				}
				AND = {
					event_target:KMT_central_gov_tag = { 
						NOT = {
							has_idea = incompetent_industry_fake
							has_idea = incompetent_industry_real
							has_idea = incompetent_industry_real_2
							has_idea = incompetent_industry_real_3
							has_idea = incompetent_industry_real_4
							has_idea = incompetent_industry_real_5
						}
					}
					has_idea = incompetent_industry_real_5
				}
				AND = {
					event_target:KMT_central_gov_tag = { 
						NOT = {
							has_idea = incompetent_industry_fake_navy
							has_idea = incompetent_industry_real_navy
						}
					}
					OR = {
						has_idea = incompetent_industry_real_navy
						has_idea = incompetent_industry_fake_navy
					}
				}
				AND = {
					event_target:KMT_central_gov_tag = { 
						NOT = {
							has_idea = incompetent_industry_fake_navy
							has_idea = incompetent_industry_real_navy
							has_idea = incompetent_industry_real_2_navy
						}
					}
					has_idea = incompetent_industry_real_2_navy
				}
				AND = {
					event_target:KMT_central_gov_tag = { 
						NOT = {
							has_idea = incompetent_industry_fake_navy
							has_idea = incompetent_industry_real_navy
							has_idea = incompetent_industry_real_2_navy
							has_idea = incompetent_industry_real_3_navy
						}
					}
					has_idea = incompetent_industry_real_3_navy
				}
				AND = {
					event_target:KMT_central_gov_tag = { 
						NOT = {
							has_idea = incompetent_industry_fake_navy
							has_idea = incompetent_industry_real_navy
							has_idea = incompetent_industry_real_2_navy
							has_idea = incompetent_industry_real_3_navy
							has_idea = incompetent_industry_real_4_navy
						}
					}
					has_idea = incompetent_industry_real_4_navy
				}
				AND = {
					event_target:KMT_central_gov_tag = { 
						NOT = {
							has_idea = incompetent_industry_fake_navy
							has_idea = incompetent_industry_real_navy
							has_idea = incompetent_industry_real_2_navy
							has_idea = incompetent_industry_real_3_navy
							has_idea = incompetent_industry_real_4_navy
							has_idea = incompetent_industry_real_5_navy
						}
					}
					has_idea = incompetent_industry_real_5_navy
				}
			}
		}
		
		cancel_trigger = {
			OR = {
				NOT = { has_completed_focus = KMT_attract_central_investments }
				NOT = { country_exists = event_target:KMT_central_gov_tag }
			}
		}
		
		is_good = yes
		
		days_mission_timeout = 30
		
		timeout_effect = {
			custom_effect_tooltip = KMT_lower_incompetent_industry_tt
			hidden_effect = {
				remove_ideas = {
					incompetent_industry_fake
					incompetent_industry_real
					incompetent_industry_real_2
					incompetent_industry_real_3
					incompetent_industry_real_4
					incompetent_industry_real_5
					incompetent_industry_fake_navy
					incompetent_industry_real_navy
					incompetent_industry_real_2_navy
					incompetent_industry_real_3_navy
					incompetent_industry_real_4_navy
					incompetent_industry_real_5_navy
				}
				if = { limit = { event_target:KMT_central_gov_tag = { has_idea = incompetent_industry_real }} add_ideas = incompetent_industry_real }
				if = { limit = { event_target:KMT_central_gov_tag = { has_idea = incompetent_industry_real_2 }} add_ideas = incompetent_industry_real_2 }
				if = { limit = { event_target:KMT_central_gov_tag = { has_idea = incompetent_industry_real_3 }} add_ideas = incompetent_industry_real_3 }
				if = { limit = { event_target:KMT_central_gov_tag = { has_idea = incompetent_industry_real_4 }} add_ideas = incompetent_industry_real_4 }
				if = { limit = { event_target:KMT_central_gov_tag = { has_idea = incompetent_industry_real_5 }} add_ideas = incompetent_industry_real_5 }
				if = { limit = { event_target:KMT_central_gov_tag = { has_idea = incompetent_industry_real_navy }} add_ideas = incompetent_industry_real_navy }
				if = { limit = { event_target:KMT_central_gov_tag = { has_idea = incompetent_industry_real_2_navy }} add_ideas = incompetent_industry_real_2_navy }
				if = { limit = { event_target:KMT_central_gov_tag = { has_idea = incompetent_industry_real_3_navy }} add_ideas = incompetent_industry_real_3_navy }
				if = { limit = { event_target:KMT_central_gov_tag = { has_idea = incompetent_industry_real_4_navy }} add_ideas = incompetent_industry_real_4_navy }
				if = { limit = { event_target:KMT_central_gov_tag = { has_idea = incompetent_industry_real_5_navy }} add_ideas = incompetent_industry_real_5_navy }
			}
		}
	}

	KMT_lower_incompetent_industry_1 = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_construction
		visible = {
			has_idea = incompetent_industry_real
		}
		
		cancel_if_not_visible = yes

		available = {
			has_idea = incompetent_industry_real
			has_tech = basic_machine_tools
			OR = {
				has_tech = concentrated_industry
				has_tech = dispersed_industry
			}
			has_tech = construction1
			OR = {
				AND = {
					num_of_factories > 50
					has_war = no
				}
				AND = {
					num_of_factories > 65
					has_defensive_war = yes
				}
				AND = {
					num_of_factories > 75
					has_offensive_war = yes
				}
			}
		}

		ai_will_do = {
			base = 1000
		}
		
		modifier = {
			consumer_goods_factor = 0.1
		}

		days_remove = 30
		days_re_enable = 0

		cost = 50

		remove_effect = {
			custom_effect_tooltip = KMT_lower_incompetent_industry_tt
			hidden_effect = {
				swap_ideas = {
					remove_idea = incompetent_industry_real
					add_idea = incompetent_industry_real_2
				}
			}
			if = {
				limit = {
					has_idea = incompetent_industry_real_navy
				}
				custom_effect_tooltip = KMT_lower_incompetent_naval_industry_tt
				hidden_effect = {
					swap_ideas = {
						remove_idea = incompetent_industry_real_navy
						add_idea = incompetent_industry_real_2_navy
					}
				}
			}
			if = {
				limit = {
					has_idea = KMT_camco_assembly_plants_1
				}
				swap_ideas = {
					remove_idea = KMT_camco_assembly_plants_1
					add_idea = KMT_camco_assembly_plants_2
				}
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}
		
		remove_effect = {
		}
	}

	KMT_lower_incompetent_industry_2 = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_construction
		visible = {
			has_idea = incompetent_industry_real_2
		}
		
		cancel_if_not_visible = yes

		available = {
			has_idea = incompetent_industry_real_2
			has_tech = improved_machine_tools
			OR = {
				has_tech = concentrated_industry2
				has_tech = dispersed_industry2
			}
			has_tech = construction2
			OR = {
				AND = {
					num_of_factories > 70
					has_war = no
				}
				AND = {
					num_of_factories > 80
					has_defensive_war = yes
				}
				AND = {
					num_of_factories > 90
					has_offensive_war = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = KMT_has_weaker_public_iliteracy_tt
				NOT = { 
					has_idea = public_iliteracy 
				}
			}
			custom_trigger_tooltip = {
				tooltip = KMT_has_3_lowered_lack_skilled_personnel_tt
				NOT = {
					has_idea = PRC_lack_skilled_personnel 
					has_idea = PRC_lack_skilled_personnel_1 
					has_idea = PRC_lack_skilled_personnel_2  
				}
			}
		}

		ai_will_do = {
			base = 1000
		}
		
		modifier = {
			consumer_goods_factor = 0.1
		}

		days_remove = 30
		days_re_enable = 0

		cost = 50

		remove_effect = {
			custom_effect_tooltip = KMT_lower_incompetent_industry_tt
			hidden_effect = {
				swap_ideas = {
					remove_idea = incompetent_industry_real_2
					add_idea = incompetent_industry_real_3
				}
			}
			if = {
				limit = {
					has_idea = incompetent_industry_real_2_navy
				}
				custom_effect_tooltip = KMT_lower_incompetent_naval_industry_tt
				hidden_effect = {
					swap_ideas = {
						remove_idea = incompetent_industry_real_2_navy
						add_idea = incompetent_industry_real_3_navy
					}
				}
			}
			if = {
				limit = {
					has_idea = KMT_camco_assembly_plants_2
				}
				swap_ideas = {
					remove_idea = KMT_camco_assembly_plants_2
					add_idea = KMT_camco_assembly_plants_3
				}
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}
		
		remove_effect = {
		}
	}

	KMT_lower_incompetent_industry_3 = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_construction
		visible = {
			has_idea = incompetent_industry_real_3
		}
		
		cancel_if_not_visible = yes

		available = {
			has_idea = incompetent_industry_real_3
			has_tech = advanced_machine_tools
			OR = {
				has_tech = concentrated_industry3
				has_tech = dispersed_industry3
			}
			has_tech = construction3
			OR = {
				AND = {
					num_of_factories > 90
					has_war = no
				}
				AND = {
					num_of_factories > 115
					has_defensive_war = yes
				}
				AND = {
					num_of_factories > 125
					has_offensive_war = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = KMT_has_weaker_public_iliteracy_tt
				NOT = { 
					has_idea = public_iliteracy 
				}
			}
			custom_trigger_tooltip = {
				tooltip = KMT_has_6_lowered_lack_skilled_personnel_tt
				NOT = { 
					has_idea = PRC_lack_skilled_personnel
					has_idea = PRC_lack_skilled_personnel_1
					has_idea = PRC_lack_skilled_personnel_2
					has_idea = PRC_lack_skilled_personnel_3
					has_idea = PRC_lack_skilled_personnel_4 
					has_idea = PRC_lack_skilled_personnel_5 
				}
			}
		}

		ai_will_do = {
			base = 1000
		}
		
		modifier = {
			consumer_goods_factor = 0.1
		}

		days_remove = 30
		days_re_enable = 0

		cost = 50

		remove_effect = {
			custom_effect_tooltip = KMT_lower_incompetent_industry_tt
			hidden_effect = {
				swap_ideas = {
					remove_idea = incompetent_industry_real_3
					add_idea = incompetent_industry_real_4
				}
			}
			if = {
				limit = {
					has_idea = incompetent_industry_real_3_navy
				}
				custom_effect_tooltip = KMT_lower_incompetent_naval_industry_tt
				hidden_effect = {
					swap_ideas = {
						remove_idea = incompetent_industry_real_3_navy
						add_idea = incompetent_industry_real_4_navy
					}
				}
			}
			if = {
				limit = {
					has_idea = KMT_camco_assembly_plants_4
				}
				remove_ideas = KMT_camco_assembly_plants_4
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
		}
		
		remove_effect = {
		}
	}

	KMT_lower_incompetent_industry_4 = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_construction
		visible = {
			has_idea = incompetent_industry_real_4
		}
		
		cancel_if_not_visible = yes

		available = {
			has_idea = incompetent_industry_real_4
			has_tech = assembly_line_production
			OR = {
				has_tech = concentrated_industry4
				has_tech = dispersed_industry4
			}
			has_tech = construction4
			OR = {
				AND = {
					num_of_factories > 110
					has_war = no
				}
				AND = {
					num_of_factories > 140
					has_defensive_war = yes
				}
				AND = {
					num_of_factories > 150
					has_offensive_war = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = KMT_no_public_iliteracy_tt
				NOT = {
					has_idea = public_iliteracy 
					has_idea = public_iliteracy_2 
				}
			}
			custom_trigger_tooltip = {
				tooltip = KMT_has_9_lowered_lack_skilled_personnel_tt
			}
			hidden_trigger = {
				NOT = {
					has_idea = PRC_lack_skilled_personnel
					has_idea = PRC_lack_skilled_personnel_1
					has_idea = PRC_lack_skilled_personnel_2
					has_idea = PRC_lack_skilled_personnel_3
					has_idea = PRC_lack_skilled_personnel_4 
					has_idea = PRC_lack_skilled_personnel_5 
					has_idea = PRC_lack_skilled_personnel_6
					has_idea = PRC_lack_skilled_personnel_7
					has_idea = PRC_lack_skilled_personnel_8
				}
			}
		}

		ai_will_do = {
			base = 1000
		}
		
		modifier = {
			consumer_goods_factor = 0.1
		}

		days_remove = 30
		days_re_enable = 0

		cost = 50

		remove_effect = {
			custom_effect_tooltip = KMT_lower_incompetent_industry_tt
			hidden_effect = {
				swap_ideas = {
					remove_idea = incompetent_industry_real_4
					add_idea = incompetent_industry_real_5
				}
			}
			if = {
				limit = {
					has_idea = incompetent_industry_real_4_navy
				}
				custom_effect_tooltip = KMT_lower_incompetent_naval_industry_tt
				hidden_effect = {
					swap_ideas = {
						remove_idea = incompetent_industry_real_4_navy
						add_idea = incompetent_industry_real_5_navy
					}
				}
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
		}
		
		remove_effect = {
		}
	}

	KMT_lower_incompetent_industry_5 = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_construction
		visible = {
			has_idea = incompetent_industry_real_5
		}
		
		cancel_if_not_visible = yes

		available = {
			has_idea = incompetent_industry_real_5
			OR = {
				has_tech = flexible_line
				has_tech = streamlined_line
			}
			OR = {
				has_tech = concentrated_industry5
				has_tech = dispersed_industry5
			}
			has_tech = construction5
			OR = {
				AND = {
					num_of_factories > 130
					has_war = no
				}
				AND = {
					num_of_factories > 170
					has_defensive_war = yes
				}
				AND = {
					num_of_factories > 190
					has_offensive_war = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = KMT_no_public_iliteracy_tt
				NOT = {
					has_idea = public_iliteracy 
					has_idea = public_iliteracy_2 
				}
			}
			custom_trigger_tooltip = {
				tooltip = KMT_no_lack_skilled_personnel_tt
			}
			hidden_trigger = {
				NOT = {
					has_idea = PRC_lack_skilled_personnel
					has_idea = PRC_lack_skilled_personnel_1
					has_idea = PRC_lack_skilled_personnel_2
					has_idea = PRC_lack_skilled_personnel_3
					has_idea = PRC_lack_skilled_personnel_4 
					has_idea = PRC_lack_skilled_personnel_5 
					has_idea = PRC_lack_skilled_personnel_6
					has_idea = PRC_lack_skilled_personnel_7
					has_idea = PRC_lack_skilled_personnel_9
					has_idea = PRC_lack_skilled_personnel_10
				}
			}
		}
		
		modifier = {
			consumer_goods_factor = 0.1
		}

		days_remove = 30
		days_re_enable = 0

		cost = 50

		remove_effect = {
			add_stability = 0.01
			add_war_support = 0.01
			remove_ideas = incompetent_industry_real_5
			if = {
				limit = {
					has_idea = incompetent_industry_real_5_navy
				}
				remove_ideas = incompetent_industry_real_5_navy
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
		}
		
		remove_effect = {
		}
	}
}

KMT_dcat_incompetent_army = {
	
	KMT_lower_incompetent_army_1 = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_prepare_civil_war
		visible = {
			OR = {
				has_idea = KMT_weak_army
				has_idea = KMT_weak_army_lesser
				has_idea = KMT_weak_army_lesserer
				has_idea = KMT_weak_army_lesserer2
				has_idea = KMT_weak_army_lesserer3
				has_idea = KMT_weak_army_lesserer4
			}
		}
		
		available = {
			NOT = { has_army_experience < KMT_improve_army_xp_cost }
		}
		
		ai_will_do = {
			factor = 1000
		}

		days_remove = 50
		days_re_enable = 0

		#cost = 50
		
		custom_cost_trigger = { NOT = { has_army_experience < KMT_improve_army_xp_cost }}
		
		custom_cost_text = KMT_cost_350_army_xp_tt
		
		modifier = {
			experience_gain_army = -3
		}
		
		complete_effect = {
			hidden_effect = {
				set_temp_variable = { KMT_improve_army_xp_deduction = KMT_improve_army_xp_cost }
				multiply_temp_variable = { KMT_improve_army_xp_deduction = -1 }
				army_experience = KMT_improve_army_xp_deduction
			}
			custom_effect_tooltip = KMT_reset_improve_army_xp_cost_tt
			set_variable = { KMT_improve_army_xp_cost = 350 }
		}
			
		remove_effect = {
			custom_effect_tooltip = KMT_lower_cost_with_land_doctrines_tt
		
		
			if = {
				limit = {
					has_idea = KMT_weak_army
				}
				swap_ideas = {
					remove_idea = KMT_weak_army
					add_idea = KMT_weak_army_lesser
				}
			}else_if = {
				limit = {
					has_idea = KMT_weak_army_lesser
				}
				swap_ideas = {
					remove_idea = KMT_weak_army_lesser
					add_idea = KMT_weak_army_lesserer
				}
			}else_if = {
				limit = {
					has_idea = KMT_weak_army_lesserer
				}
				swap_ideas = {
					remove_idea = KMT_weak_army_lesserer
					add_idea = KMT_weak_army_lesserer2
				}
			}else_if = {
				limit = {
					has_idea = KMT_weak_army_lesserer2
				}
				swap_ideas = {
					remove_idea = KMT_weak_army_lesserer2
					add_idea = KMT_weak_army_lesserer3
				}
			}else_if = {
				limit = {
					has_idea = KMT_weak_army_lesserer3
				}
				swap_ideas = {
					remove_idea = KMT_weak_army_lesserer3
					add_idea = KMT_weak_army_lesserer4
				}
			}else_if = {
				limit = {
					has_idea = KMT_weak_army_lesserer4
				}
				remove_ideas = KMT_weak_army_lesserer4
			}
			if = {
				limit = { tag = event_target:KMT_central_gov_tag }
				every_other_country = {	
					limit = { has_completed_focus = KMT_tighter_military_cooperation }
					country_event = { id = kmt.653 }
				}
			}
		}
	}
	
	KMT_extensive_drilling = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_industry
		visible = {
			has_completed_focus = KMT_army_reform
		}
		
		available = {
		}
		
		ai_will_do = {
			factor = 10
			modifier = {
				OR = {
					has_idea = KMT_weak_army
					has_idea = KMT_weak_army_lesser
					has_idea = KMT_weak_army_lesserer
				}
				has_war = no
				add = 100
			}
			modifier = {
				has_war = yes
				add = -8
			}
			modifier = {
				any_country = {
					is_major = yes
					has_war_with = ROOT
				}
				factor = 0
			}
		}

		days_remove = 365
		days_re_enable = 0
		
		fire_only_once = yes

		cost = 50
		
		modifier = {
			experience_gain_army = 0.07
			experience_gain_army_factor = 0.5
			army_morale_factor = -0.05
			army_org_factor = -0.05
		}
		
		complete_effect = {
		}
		
		remove_effect = {
			set_country_flag = KMT_extensive_drilling_finished
		}
	}
	
	KMT_tighten_up_recruitment_standard = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_political_discourse
		visible = {
			has_completed_focus = KMT_army_reform
		}
		
		available = {
		}
		
		ai_will_do = {
			factor = 10
			modifier = {
				OR = {
					has_idea = KMT_weak_army
					has_idea = KMT_weak_army_lesser
					has_idea = KMT_weak_army_lesserer
				}
				has_war = no
				add = 100
			}
			modifier = {
				has_war = yes
				add = -8
			}
			modifier = {
				any_country = {
					is_major = yes
					has_war_with = ROOT
				}
				factor = 0
			}
		}

		days_remove = 365
		days_re_enable = 0
		
		fire_only_once = yes

		cost = 50
		
		modifier = {
			experience_gain_army = 0.07
			experience_gain_army_factor = 0.5
			conscription = -0.01
			conscription_factor = -0.25
		}
		
		complete_effect = {
		}
		
		remove_effect = {
			set_country_flag = KMT_tighten_up_recruitment_standard_finished
		}
	}
	
	KMT_officer_reshuffle = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_army_support
		visible = {
			has_completed_focus = KMT_army_reform
		}
		
		available = {
		}
		
		ai_will_do = {
			factor = 10
			modifier = {
				OR = {
					has_idea = KMT_weak_army
					has_idea = KMT_weak_army_lesser
					has_idea = KMT_weak_army_lesserer
				}
				has_war = no
				add = 100
			}
			modifier = {
				has_war = yes
				add = -8
			}
			modifier = {
				any_country = {
					is_major = yes
					has_war_with = ROOT
				}
				factor = 0
			}
		}

		days_remove = 365
		days_re_enable = 0
		
		fire_only_once = yes

		cost = 50
		
		modifier = {
			experience_gain_army = 0.07
			experience_gain_army_factor = 0.5
			military_leader_cost_factor = 0.75
			planning_speed = -0.1
		}
		
		complete_effect = {
		}
		
		remove_effect = {
			set_country_flag = KMT_officer_reshuffle_finished
		}
	}
	
	KMT_extensive_drilling_plus = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_industry
		visible = {
			has_completed_focus = KMT_army_reform
		}
		
		available = {
			has_country_flag = KMT_extensive_drilling_finished
		}
		
		ai_will_do = {
			factor = 100
		}

		days_remove = -1
		days_re_enable = 0

		cost = 75
		
		modifier = {
			experience_gain_army = 0.01
			training_time_army_factor = -0.1
		}
	}
	
	KMT_tighten_up_recruitment_standard_plus = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_political_discourse
		visible = {
			has_completed_focus = KMT_army_reform
		}
		
		available = {
			has_country_flag = KMT_tighten_up_recruitment_standard_finished
		}
		
		ai_will_do = {
			factor = 100
		}

		days_remove = -1
		days_re_enable = 0

		cost = 75
		
		modifier = {
			army_org_factor = 0.025
			army_morale_factor = 0.025
		}
	}
	
	KMT_officer_reshuffle_plus = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_army_support
		visible = {
			has_completed_focus = KMT_army_reform
		}
		
		available = {
			has_country_flag = KMT_officer_reshuffle_finished
		}
		
		ai_will_do = {
			factor = 100
		}

		days_remove = -1
		days_re_enable = 0

		cost = 75
		
		modifier = {
			max_planning = 0.05
			planning_speed = 0.1
		}
	}
}

KMT_dcat_national_treasure = {

	KMT_evacuate_national_treasures = {
		allowed = { always = no }
		icon = generic_nationalism
		visible = {
			tag = CHI
			NOT = { 
				has_country_flag = treasures_abroad 
				has_country_flag = treasure_ransacked 
			}
			event_target:KMT_treasure_state = {
				OR = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
							OR = {
								tag = JAP
								is_puppet_of = JAP
							}
							has_government = fascism
						}
					}
					controller = {
						has_war_with = ROOT
						OR = {
							tag = JAP
							is_puppet_of = JAP
						}
						has_government = fascism
					}
				}
			}
		}

		available = {
			always = yes
		}

		ai_will_do = {
			base = 10000
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			if = {
				limit = {
					event_target:KMT_treasure_state = { state = 938 }
				}
				clear_global_event_target = KMT_treasure_state
				605 = {
					save_global_event_target_as = KMT_treasure_state
					custom_effect_tooltip = KMT_will_be_destination_tt
				}
				else = {
					if = {
						limit = {
							event_target:KMT_treasure_state = { state = 605 }
						}
						clear_global_event_target = KMT_treasure_state
						325 = {
							save_global_event_target_as = KMT_treasure_state
							custom_effect_tooltip = KMT_will_be_destination_tt
						}
						else = {
							if = {
								limit = {
									event_target:KMT_treasure_state = { state = 325 }
								}
								clear_global_event_target = KMT_treasure_state
								add_timed_idea = {
									idea = KMT_treasure_abroad_idea
									days = 365
								}
								set_country_flag = treasures_abroad
							}
						}
					}
				}
			}
		}
		remove_effect = {
		}
	}

	KMT_treasures_will_be_ransacked = {
		allowed = { always = no }

		icon = generic_operation
		
		visible = {
			tag = CHI
			NOT = { 
				has_country_flag = treasures_abroad 
				has_country_flag = treasure_ransacked 
			}
			event_target:KMT_treasure_state = {
				OR = {
					any_neighbor_state = {
						controller = {
							has_war_with = ROOT
							OR = {
								tag = JAP
								is_puppet_of = JAP
							}
							has_government = fascism
						}
					}
					controller = {
						has_war_with = ROOT
						OR = {
							tag = JAP
							is_puppet_of = JAP
						}
						has_government = fascism
					}
				}
			}
		}

		allowed = {
			tag = CHI
		}

		available = {
			NOT = {
				event_target:KMT_treasure_state = {
					controller = {
						has_war_with = ROOT
						OR = {
							tag = JAP
							is_puppet_of = JAP
						}
						has_government = fascism
					}
				}
			}
		}

		days_mission_timeout = 5
		fire_only_once = no

		activation = {
			NOT = { 
				has_country_flag = treasures_abroad 
				has_country_flag = treasure_ransacked 
			}
			event_target:KMT_treasure_state = {
				controller = {
					has_war_with = ROOT
					OR = {
						tag = JAP
						is_puppet_of = JAP
					}
					has_government = fascism
				}
			}
		}

		is_good = no

		complete_effect = {
		}

		timeout_effect = {
			country_event = {
				id = kmt.204
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
}

KMT_dcat_rename_reconquered_cities = {

	KMT_rename_dairen = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_decision
		visible = {
			owns_state = 745
			745 = {
				NOT = {
					has_state_flag = renaming_decided
				}
			}
		}

		available = {
			always = yes
		}

		ai_will_do = {
			base = 1000
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			if = {
				limit = {
					has_global_flag = KMT_use_postal_romanisation
				}
				745 = { set_state_name = KMT_STATES_745_renamed_postal }
				else = {
					745 = { set_state_name = KMT_STATES_745_renamed_pinyin }
				}
			}
			745 = {
				set_state_flag = renaming_decided
			}
		}
		remove_effect = {
		}
	}

	KMT_rename_takao = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_decision
		visible = {
			NOT = {
				has_global_flag = renaming_decided12068
			}
			524 = {
				is_owned_by = ROOT
			}
		}

		available = {
			always = yes
		}

		ai_will_do = {
			base = 1000
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			if = {
				limit = {
					has_global_flag = KMT_use_postal_romanisation
				}
				set_province_name = { id = 12068 name = KMT_VP_12068_renamed_postal }
				else = {
					set_province_name = { id = 12068 name = KMT_VP_12068_renamed_pinyin }
				}
			}
			set_global_flag = renaming_decided12068
		}
		remove_effect = {
		}
	}

	KMT_rename_hsinking = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_decision
		visible = {
			950 = {
				is_owned_by = ROOT
				NOT = { has_state_flag = renaming_decided }
			}
		}

		available = {
			always = yes
		}

		ai_will_do = {
			base = 1000
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			950 = {
				set_state_flag = renaming_decided
			}
			set_province_name = { id = 13399 name = KMT_VP_13399_renamed }
		}
		remove_effect = {
		}
	}

	KMT_rename_mukden = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_decision
		visible = {
			716 = {
				is_owned_by = ROOT
				NOT = { has_state_flag = renaming_decided }
			}
		}

		available = {
			always = yes
		}

		ai_will_do = {
			base = 1000
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			set_province_name = { id = 11771 name = KMT_VP_11771_renamed }
			716 = { 
				set_state_name = KMT_STATES_716_renamed
				set_state_flag = renaming_decided
			}
		}
		remove_effect = {
		}
	}

	KMT_rename_ktw = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_decision
		visible = {
			728 = {
				is_owned_by = ROOT
				NOT = { has_state_flag = renaming_decided }
			}
		}

		available = {
			always = yes
		}

		ai_will_do = {
			base = 1000
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			if = {
				limit = {
					has_global_flag = KMT_use_postal_romanisation
				}	
				728 = { set_state_name = KMT_STATES_728_postal }
				else = {
					728 = { set_state_name = KMT_STATES_728_pinyin }
				}
			}
			728 = { 
				set_state_flag = renaming_decided
			}
		}
		remove_effect = {
		}
	}
	
}

KMT_dcat_support_china = {
	
	KMT_construct_ledo_road = {
		allowed = { original_tag = USA }
		icon = generic_construction
		visible = {
			tag = USA
			has_relation_modifier = { modifier = KMT_industrial_assistance target = event_target:KMT_central_gov_tag }
			NOT = { has_global_flag = KMT_ledo_road_finished }
		}

		available = {
			NOT = {
				has_war_with = event_target:KMT_central_gov_tag
			}
			has_capitulated = no
			is_puppet = no
			custom_trigger_tooltip = {
				tooltip = KMT_alone_or_peace_faction_tt
				is_alone_or_in_faction_at_peace_with_CHI = yes
			}
			has_relation_modifier = { modifier = KMT_industrial_assistance target = event_target:KMT_central_gov_tag }
			event_target:KMT_central_gov_tag = {
				has_defensive_war_with = JAP
			}
			NOT = {
				is_puppet_of = JAP
				is_in_faction_with = JAP
				has_non_aggression_pact_with = JAP
				has_war_with = event_target:KMT_central_gov_tag
				is_puppet_of = event_target:KMT_central_gov_tag
			}
			942 = {
				controller = { 
					NOT = {
						has_war_with = event_target:KMT_central_gov_tag
						has_war_with = USA
					}
					OR = {
						tag = event_target:KMT_central_gov_tag
						is_in_faction_with = event_target:KMT_central_gov_tag
						is_subject_of = event_target:KMT_central_gov_tag
						is_subject_of = USA
						has_war_together_with = event_target:KMT_central_gov_tag
					}
				}
			}
			747 = {
				controller = { 
					NOT = {
						has_war_with = event_target:KMT_central_gov_tag
						has_war_with = USA
					}
					OR = {
						tag = event_target:KMT_central_gov_tag
						is_in_faction_with = event_target:KMT_central_gov_tag
						is_subject_of = event_target:KMT_central_gov_tag
						is_subject_of = USA
						has_war_together_with = event_target:KMT_central_gov_tag
					}
				}
			}
			935 = {
				controller = { 
					NOT = {
						has_war_with = event_target:KMT_central_gov_tag
						has_war_with = USA
					}
					OR = {
						tag = event_target:KMT_central_gov_tag
						is_in_faction_with = event_target:KMT_central_gov_tag
						is_subject_of = event_target:KMT_central_gov_tag
						is_subject_of = USA
						has_war_together_with = event_target:KMT_central_gov_tag
					}
				}
			}
			432 = {
				controller = { 
					NOT = {
						has_war_with = event_target:KMT_central_gov_tag
						has_war_with = USA
					}
					OR = {
						tag = event_target:KMT_central_gov_tag
						is_in_faction_with = event_target:KMT_central_gov_tag
						is_subject_of = event_target:KMT_central_gov_tag
						is_subject_of = USA
						has_war_together_with = event_target:KMT_central_gov_tag
					}
				}
			}
		}

		ai_will_do = {
			base = 0
			modifier = {
				event_target:KMT_central_gov_tag = {
					has_idea = KMT_burma_road_idea_closed
					has_defensive_war_with = JAP
				}
				add = 100
			}
			modifier = {
				event_target:KMT_central_gov_tag = {
					NOT = { 
						has_idea = KMT_burma_road_idea_closed
						has_idea = KMT_burma_road_idea
					}
					has_defensive_war_with = JAP
				}
				has_war_with = JAP
				add = 100
			}
		}

		days_remove = 300 #took longer historically
		days_re_enable = 0

		cost = 5
		
		fire_only_once = yes
		
		modifier = {
			civilian_factory_use = 1
		}

		complete_effect = {
		}
		
		cancel_trigger = {
			OR = {
				935 = {
					controller = { 
						OR = {
							has_war_with = event_target:KMT_central_gov_tag
							has_war_with = USA
						}
					}
				}
				942 = {
					controller = { 
						OR = {
							has_war_with = event_target:KMT_central_gov_tag
							has_war_with = USA
						}
					}
				}
				747 = {
					controller = { 
						OR = {
							has_war_with = event_target:KMT_central_gov_tag
							has_war_with = USA
						}
					}
				}
				432 = {
					controller = { 
						OR = {
							has_war_with = event_target:KMT_central_gov_tag
							has_war_with = USA
						}
					}
				}
			}
		}
		
		remove_effect = {
			set_global_flag = KMT_ledo_road_finished
			if = {
				limit = {
					event_target:KMT_central_gov_tag = {
						has_defensive_war = yes
					}
				}
				event_target:KMT_central_gov_tag = {
					add_ideas = KMT_ledo_road_idea
					country_event = { id = kmt.516 }
				}
				USA = {
					country_event = { id = kmt.519 }
				}
			}
			935 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = CHI_needed_for_ledo_road
			}
			432 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = CHI_needed_for_ledo_road
			}
			942 = {
				set_state_flag = CHI_needed_for_ledo_road
			}
			747 = {
				set_state_flag = CHI_needed_for_ledo_road
			}
		}
	}
	
	KMT_the_hump = {
		icon = generic_construction
		allowed = { original_tag = USA }
		visible = {
			tag = USA
			has_relation_modifier = { modifier = KMT_industrial_assistance target = event_target:KMT_central_gov_tag }
			NOT = { has_global_flag = KMT_the_hump_finished }
		}

		available = {
			NOT = {
				has_war_with = event_target:KMT_central_gov_tag
			}
			has_capitulated = no
			is_puppet = no
			custom_trigger_tooltip = {
				tooltip = KMT_alone_or_peace_faction_tt
				is_alone_or_in_faction_at_peace_with_CHI = yes
			}
			has_relation_modifier = { modifier = KMT_industrial_assistance target = event_target:KMT_central_gov_tag }
			event_target:KMT_central_gov_tag = {
				has_defensive_war_with = JAP
			}
			NOT = {
				is_puppet_of = JAP
				is_in_faction_with = JAP
				has_non_aggression_pact_with = JAP
				has_war_with = event_target:KMT_central_gov_tag
				is_puppet_of = event_target:KMT_central_gov_tag
			}
			942 = {
				controller = { 
					NOT = {
						has_war_with = event_target:KMT_central_gov_tag
						has_war_with = USA
					}
					OR = {
						tag = event_target:KMT_central_gov_tag
						is_in_faction_with = event_target:KMT_central_gov_tag
						is_subject_of = event_target:KMT_central_gov_tag
						is_subject_of = USA
						has_war_together_with = event_target:KMT_central_gov_tag
					}
				}
			}
			432 = {
				controller = { 
					NOT = {
						has_war_with = event_target:KMT_central_gov_tag
						has_war_with = USA
					}
					OR = {
						tag = event_target:KMT_central_gov_tag
						is_in_faction_with = event_target:KMT_central_gov_tag
						is_subject_of = event_target:KMT_central_gov_tag
						is_subject_of = USA
						has_war_together_with = event_target:KMT_central_gov_tag
					}
				}
			}
		}

		ai_will_do = {
			base = 0
			modifier = {
				event_target:KMT_central_gov_tag = {
					has_idea = KMT_burma_road_idea_closed
					has_idea = KMT_ledo_road_idea_closed
					has_defensive_war_with = JAP
				}
				add = 100
			}
			modifier = {
				event_target:KMT_central_gov_tag = {
					NOT = {
						has_idea = KMT_burma_road_idea_closed
						has_idea = KMT_burma_road_idea
					}
					NOT = {
						has_idea = KMT_ledo_road_idea_closed
						has_idea = KMT_ledo_road_idea
					}
					has_defensive_war_with = JAP
				}
				has_war_with = JAP
				add = 100
			}
			modifier = {
				935 = {
					controller = { 
						OR = {
							has_war_with = event_target:KMT_central_gov_tag
							has_war_with = USA
						}
					}
				}
				747 = {
					controller = { 
						OR = {
							has_war_with = event_target:KMT_central_gov_tag
							has_war_with = USA
						}
					}
				}
				add = 100
			}
		}

		days_remove = 20 
		days_re_enable = 0

		cost = 5
		
		
		modifier = {
			civilian_factory_use = 1
		}

		complete_effect = {
		}
		
		cancel_trigger = {
			OR = {
				942 = {
					controller = { 
						OR = {
							has_war_with = event_target:KMT_central_gov_tag
							has_war_with = USA
						}
					}
				}
				432 = {
					controller = { 
						OR = {
							has_war_with = event_target:KMT_central_gov_tag
							has_war_with = USA
						}
					}
				}
			}
		}
		
		remove_effect = {
			set_global_flag = KMT_the_hump_finished
			if = {
				limit = {
					event_target:KMT_central_gov_tag = {
						has_defensive_war = yes
					}
				}
				event_target:KMT_central_gov_tag = {
					add_ideas = KMT_the_hump_idea
					country_event = { id = kmt.509 }
				}
			}
			942 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = CHI_needed_for_the_hump
			}
			432 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = CHI_needed_for_the_hump
			}
		}
	}
	
	KMT_FRA_retake_indochina = {
		icon = generic_operation
		allowed = { original_tag = FRA }
		visible = {
			tag = FRA
			event_target:KMT_central_gov_tag = {
				has_completed_focus = KMT_defense_of_indo_china
			}
			has_global_flag = KMT_FRA_transferred_indochina_to_CHI
			has_war = no
			is_subject = no
			event_target:KMT_central_gov_tag = { 
				has_war = no 
				is_subject = no
			}
		}
		
		fire_only_once = yes

		available = {
			NOT = {
				has_war_with = CHI
			}
			any_state = {
				OR = {
					state = 741
					state = 671
					state = 670
					state = 286
				}
				owner = {
					OR = {
						tag = event_target:KMT_central_gov_tag
						is_puppet_of = event_target:KMT_central_gov_tag
					}
				}
				controller = {
					OR = {
						tag = event_target:KMT_central_gov_tag
						is_puppet_of = event_target:KMT_central_gov_tag
					}
				}
			}
		}

		ai_will_do = {
			base = 1000
		}

		days_remove = 0
		days_re_enable = 0

		cost = 10
		
		modifier = {
		}

		complete_effect = {
			event_target:KMT_central_gov_tag = {
				country_event = { id = kmt.558 }
			}
		}
		
		remove_effect = {
		}
	}

	KMT_withdraw_support = {
		allowed = { 
			OR = {
				original_tag = USA
				original_tag = SOV
				original_tag = GER
				original_tag = ENG
				original_tag = FRA
				original_tag = JAP
			}
		}
		icon = generic_break_treaty
		
		target_trigger = {
			FROM = { is_chinese_nations_w_HYQ = yes }
		}
		
		visible = {
			has_relation_modifier = { modifier = KMT_industrial_assistance target = FROM }
		}

		available = {
			has_relation_modifier = { modifier = KMT_industrial_assistance target = FROM }
		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 5
				has_opinion = {
					target = FROM
					value < -29
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = FROM
					value < -34
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = FROM
					value < -39
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = FROM
					value < -44
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = FROM
					value < -49
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = FROM
					value < -54
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = FROM
					value < -59
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = FROM
					value < -64
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = FROM
					value < -69
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = FROM
					value < -74
				}
			}
			modifier = {
				add = 5
				has_opinion = {
					target = FROM
					value < -79
				}
			}
			modifier = {
				add = 10
				has_opinion = {
					target = FROM
					value < -84
				}
			}
			modifier = {
				add = 10
				has_opinion = {
					target = FROM
					value < -89
				}
			}
			modifier = {
				add = 10
				has_opinion = {
					target = FROM
					value < -94
				}
			}
			modifier = {
				add = 10
				has_opinion = {
					target = FROM
					value < -99
				}
			}
			modifier = {
				add = 100
				OR = {
					any_country = {
						is_in_faction_with = ROOT
						has_war_with = FROM
					}
					any_country = {
						is_in_faction_with = FROM
						has_war_with = ROOT
					}
				}
			}
			modifier = {
				add = 1000
				has_capitulated = yes
			}
			modifier = {
				tag = GER
				has_global_flag = KMT_sino_soviet_neutrality
				any_country = {
					OR = {
						tag = SOV
						tag = FROM
					}
					has_government = communism
				}
				NOT = { has_government = communism }
				add = 1000
			}
			modifier = {
				FROM = { NOT = { tag = event_target:KMT_central_gov_tag }}
				add = 1000
			}
			modifier = {
				FROM = { 
					OR = {
						has_war_with = SOV
						has_war_with = JAP
					}
				}
				has_idea = KMT_SOV_JAP_neutrality
				add = 1000
			}
			modifier = {
				FROM = { 
					has_idea = KMT_trautmann_peace
				}
				has_government = communism
				add = 1000
			}
			modifier = {
				tag = JAP
				OR = {
					has_government = fascism
					has_government = neutrality
				}
				FROM = { 
					has_country_leader = {
						character = CHI_wang_jingwei
						ruling_only = yes
					}
				}
				factor = 0
			}
		}

		days_remove = 0
		days_re_enable = 0

		cost = 5

		complete_effect = {
			add_political_power = -10
			add_stability = -0.01
			remove_relation_modifier = { modifier = KMT_industrial_assistance target = FROM }
			remove_opinion_modifier = {
				modifier = KMT_offered_assistance
				target = FROM
			}
			FROM = {
				remove_opinion_modifier = {
					modifier = KMT_offered_assistance
					target = ROOT
				}
				country_event = { id = kmt.538 }
			}
			if = {
				limit = {
					any_state = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
							}
						}
						has_state_flag = CHI_needed_for_hanoi_route
						NOT = { has_state_flag = CHI_hanoi_route_closed_state }
					}
				}
				hidden_effect = {
					every_state = {
						limit = {
							has_state_flag = CHI_needed_for_hanoi_route
							NOT = { has_state_flag = CHI_hanoi_route_closed_state }
							OR = {
								is_controlled_by = ROOT
								CONTROLLER = { is_subject_of = ROOT }
							}
						}
						set_state_flag = CHI_hanoi_route_closed_state
					}
				}
				random_country = {
					#Country that had the route
					limit = { 
						OR = {
							has_idea = KMT_yunnan_bahn_idea
							has_idea = KMT_yunnan_bahn_idea_closed
						}
					}
					country_event = { id = kmt_fsr.10 }
					custom_effect_tooltip = close_hanoi_route_explanation # Prints the contents of the CHI_hanoi_route_current_level variable
				}
			}
			if = {
				limit = {
					any_state = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
							}
						}
						has_state_flag = CHI_the_hump_closed_state
						NOT = { has_state_flag = CHI_the_hump_closed_state }
					}
				}
				hidden_effect = {
					every_state = {
						limit = {
							has_state_flag = CHI_needed_for_the_hump
							NOT = { has_state_flag = CHI_the_hump_closed_state }
							OR = {
								is_controlled_by = ROOT
								CONTROLLER = { is_subject_of = ROOT }
							}
						}
						set_state_flag = CHI_the_hump_closed_state
					}
				}
				random_country = {
					#Country that had the route
					limit = { 
						OR = {
							has_idea = KMT_the_hump_idea
							has_idea = KMT_the_hump_idea_closed
						}
					}
					country_event = { id = kmt_fsr.12 }
					custom_effect_tooltip = close_the_hump_explanation # Prints the contents of the CHI_the_hump_current_level variable
				}
			}
			if = {
				limit = {
					any_state = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
							}
						}
						has_state_flag = CHI_needed_for_ledo_road
						NOT = { has_state_flag = CHI_ledo_road_closed_state }
					}
				}
				hidden_effect = {
					every_state = {
						limit = {
							has_state_flag = CHI_needed_for_ledo_road
							NOT = { has_state_flag = CHI_ledo_road_closed_state }
							OR = {
								is_controlled_by = ROOT
								CONTROLLER = { is_subject_of = ROOT }
							}
						}
						set_state_flag = CHI_ledo_road_closed_state
					}
				}
				random_country = {
					#Country that had the route
					limit = { 
						OR = {
							has_idea = KMT_ledo_road_idea
							has_idea = KMT_ledo_road_idea_closed
						}
					}
					country_event = { id = kmt_fsr.6 }
					custom_effect_tooltip = close_ledo_road_explanation # Prints the contents of the CHI_ledo_road_current_level variable
				}
			}
			if = {
				limit = {
					any_state = {
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
							}
						}
						has_state_flag = CHI_needed_for_burma_road
						NOT = { has_state_flag = CHI_burma_road_closed_state }
					}
				}
				hidden_effect = {
					every_state = {
						limit = {
							has_state_flag = CHI_needed_for_burma_road
							NOT = { has_state_flag = CHI_burma_road_closed_state }
							OR = {
								is_controlled_by = ROOT
								CONTROLLER = { is_subject_of = ROOT }
							}
						}
						set_state_flag = CHI_burma_road_closed_state
					}
				}
				random_country = {
					limit = { 
						OR = {
							has_idea = KMT_burma_road_idea 
							has_idea = KMT_burma_road_idea_closed
						}				
					}
					country_event = { id = kmt_fsr.2 }
				}
			}
			if = {
				limit = {
					FROM = { has_volunteers_amount_from = { tag = ROOT count > 0 }}
				}
				recall_volunteers_from = FROM
			}
			meta_effect = {
				text = {
					set_country_flag = KMT_withdrew_support_from_[FromTag]
				}
				FromTag = "[From.GetTag]"
			}
		}
		remove_effect = {
		}
	}
}

KMT_dcat_liberate_korea = {

	KMT_liberate_KOR = {
		icon = generic_independence
		
		visible = {
			OR = {
				AND = {
					OR = {
						divisions_in_state = {
							state = 525
							size > 0
						}
						controls_state = 525
					}
					525 = {
						OWNER = {
							NOT = { tag = ROOT }
							has_war_with = ROOT
						}
					}
				}
				AND = {
					OR = {
						divisions_in_state = {
							state = 527
							size > 0
						}
						controls_state = 527
					}
					527 = {
						OWNER = {
							NOT = { tag = ROOT }
							has_war_with = ROOT
						}
					}
				}
			}
			KOR = { exists = no }
		}

		available = {
			OR = {
				controls_state = 527
				controls_state = 525
			}
			KOR = { exists = no }
		}

		ai_will_do = {
			factor = 0
			modifier = {
				OR = {
					AND = {
						controls_state = 525
						controls_state = 527
					}
					AND = {
						controls_state = 525
						527 = {
							CONTROLLER = {
								NOT = {
									has_war_with = ROOT 
									tag = ROOT
								}
							}
						}
					}
					AND = {
						controls_state = 527
						525 = {
							CONTROLLER = {
								NOT = {
									has_war_with = ROOT 
									tag = ROOT
								}
							}
						}
					}
				}
				add = 1000
			}
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			add_war_support = 0.07
			527 = {
				OWNER = {
					save_event_target_as = KMT_liberate_KOR_527_old_owner
				}
			}
			525 = {
				OWNER = {
					save_event_target_as = KMT_liberate_KOR_525_old_owner
				}
			}
			if = {
				limit = {
					controls_state = 527
				}
				KOR = {
					transfer_state = 527
				}
				if = {
					limit = {
						event_target:KMT_liberate_KOR_527_old_owner = { has_war_with = ROOT }
					}
					event_target:KMT_liberate_KOR_527_old_owner = {
						KOR = {
							add_to_war = {
								targeted_alliance = ROOT
								enemy = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					controls_state = 525
				}
				KOR = {
					transfer_state = 525
				}
				if = {
					limit = {
						event_target:KMT_liberate_KOR_525_old_owner = { has_war_with = ROOT }
					}
					event_target:KMT_liberate_KOR_525_old_owner = {
						KOR = {
							add_to_war = {
								targeted_alliance = ROOT
								enemy = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					has_government = democratic
				}
				KOR = {
					set_politics = {
						ruling_party = democratic
						elections_allowed = no
					}
					add_popularity = {
						ideology = democratic
						popularity = 0.7
					}
				}
				else = {
					if = {
						limit = {
							has_government = communism
						}
						KOR = {
							set_politics = {
								ruling_party = communism
								elections_allowed = no
							}
							add_popularity = {
								ideology = communism
								popularity = 0.7
							}
						}
						else = {
							if = {
								limit = {
									has_government = fascism
								}
								KOR = {
									set_politics = {
										ruling_party = fascism
										elections_allowed = no
									}
									add_popularity = {
										ideology = fascism
										popularity = 0.7
									}
								}
								else = {
									if = {
										limit = {
											has_government = neutrality
										}
										KOR = {
											set_politics = {
												ruling_party = neutrality
												elections_allowed = no
											}
											add_popularity = {
												ideology = neutrality
												popularity = 0.7
											}
										}
									}
								}
							}
						}
					}
				}
			}
			KOR = {
				give_military_access = ROOT
			}
			if = {
				limit = { is_in_faction = yes }
				random_country = {
					limit = {
						is_in_faction_with = ROOT
						is_faction_leader = yes
					}
					add_to_faction = KOR
				}
			}
			give_military_access = KOR
			save_global_event_target_as = KMT_KOR_liberator
		}
	}

	KMT_liberate_KOR_puppet = {
		icon = generic_decision
		
		visible = {
			OR = {
				AND = {
					OR = {
						divisions_in_state = {
							state = 525
							size > 0
						}
						controls_state = 525
					}
					525 = {
						OWNER = {
							NOT = { tag = ROOT }
							has_war_with = ROOT
						}
					}
				}
				AND = {
					OR = {
						divisions_in_state = {
							state = 527
							size > 0
						}
						controls_state = 527
					}
					527 = {
						OWNER = {
							NOT = { tag = ROOT }
							has_war_with = ROOT
						}
					}
				}
			}
			KOR = { exists = no }
		}

		available = {
			OR = {
				controls_state = 527
				controls_state = 525
			}
			KOR = { exists = no }
		}

		ai_will_do = {
			base = 0
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			add_political_power = -200
			every_state = {
				limit = {
					OR = {
						state = 527
						state = 525
					}
					is_controlled_by = ROOT
				}
				KOR = {
					transfer_state = PREV
				}
			}
			if = {
				limit = {
					has_government = democratic
				}
				KOR = {
					set_politics = {
						ruling_party = democratic
						elections_allowed = no
					}
					add_popularity = {
						ideology = democratic
						popularity = 0.7
					}
				}
				else = {
					if = {
						limit = {
							has_government = communism
						}
						KOR = {
							set_politics = {
								ruling_party = communism
								elections_allowed = no
							}
							add_popularity = {
								ideology = communism
								popularity = 0.7
							}
						}
						else = {
							if = {
								limit = {
									has_government = fascism
								}
								KOR = {
									set_politics = {
										ruling_party = fascism
										elections_allowed = no
									}
									add_popularity = {
										ideology = fascism
										popularity = 0.7
									}
								}
								else = {
									if = {
										limit = {
											has_government = neutrality
										}
										KOR = {
											set_politics = {
												ruling_party = neutrality
												elections_allowed = no
											}
											add_popularity = {
												ideology = neutrality
												popularity = 0.7
											}
										}
									}
								}
							}
						}
					}
				}
			}
			puppet = KOR
			save_global_event_target_as = KMT_KOR_liberator
		}
	}

	KMT_liberate_DPK = {
		icon = generic_independence
		
		visible = {
			OR = {
				AND = {
					OR = {
						divisions_in_state = {
							state = 525
							size > 0
						}
						controls_state = 525
					}
					525 = {
						OWNER = {
							NOT = { tag = ROOT }
							has_war_with = ROOT
						}
					}
					KOR = { NOT = { owns_state = 525 }}
				}
				AND = {
					OR = {
						divisions_in_state = {
							state = 527
							size > 0
						}
						controls_state = 527
					}
					527 = {
						OWNER = {
							NOT = { tag = ROOT }
							has_war_with = ROOT
						}
					}
					KOR = { NOT = { owns_state = 527 }}
				}
			}
			KOR = { exists = yes }
			DPK = { exists = no }
			NOT = {
				tag = event_target:KMT_KOR_liberator
				KOR = { OVERLORD = { tag = ROOT }}
				is_in_faction_with = KOR
				tag = KOR
			}
		}

		available = {
			OR = {
				controls_state = 527
				controls_state = 525
			}
			KOR = { exists = yes }
			DPK = { exists = no }
		}

		ai_will_do = {
			base = 0
			modifier = {
				KOR = { is_puppet = yes }
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -19
					}
					has_opinion = {
						target = KOR
						value < -19
					}
				}
				add = 25
			}
			modifier = {
				KOR = { is_puppet = yes }
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -29
					}
					has_opinion = {
						target = KOR
						value < -29
					}
				}
				add = 25
			}
			modifier = {
				KOR = { is_puppet = yes }
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -39
					}
					has_opinion = {
						target = KOR
						value < -39
					}
				}
				add = 25
			}
			modifier = {
				KOR = { is_puppet = yes }
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -49
					}
					has_opinion = {
						target = KOR
						value < -49
					}
				}
				add = 25
			}
			modifier = {
				KOR = { is_puppet = yes }
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -59
					}
					has_opinion = {
						target = KOR
						value < -59
					}
				}
				add = 50
			}
			modifier = {
				KOR = { is_puppet = yes }
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -69
					}
					has_opinion = {
						target = KOR
						value < -69
					}
				}
				add = 100
			}
			modifier = {
				KOR = { is_puppet = yes }
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -79
					}
					has_opinion = {
						target = KOR
						value < -79
					}
				}
				add = 500
			}
			modifier = {
				KOR = { is_puppet = yes }
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -89
					}
					has_opinion = {
						target = KOR
						value < -89
					}
				}
				add = 1000
			}
			modifier = {
				KOR = { is_puppet = yes }
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -99
					}
					has_opinion = {
						target = KOR
						value < -99
					}
				}
				add = 5000
			}
			modifier = {
				KOR = { is_puppet = yes }
				NOT = { has_government = neutrality }
				KOR = {
					same_ideo_with_ROOT = no
				}
				has_opinion = {
					target = KOR
					value < 40
				}
				add = 1000
			}
			modifier = {
				tag = JAP
				add = 0
			}
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			527 = {
				OWNER = {
					save_event_target_as = KMT_liberate_KOR_527_old_owner
				}
			}
			525 = {
				OWNER = {
					save_event_target_as = KMT_liberate_KOR_525_old_owner
				}
			}
			if = {
				limit = {
					controls_state = 527
				}
				DPK = {
					transfer_state = 527
				}
				if = {
					limit = {
						event_target:KMT_liberate_KOR_527_old_owner = { has_war_with = ROOT }
					}
					event_target:KMT_liberate_KOR_527_old_owner = {
						KOR = {
							add_to_war = {
								targeted_alliance = ROOT
								enemy = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					controls_state = 525
				}
				DPK = {
					transfer_state = 525
				}
				if = {
					limit = {
						event_target:KMT_liberate_KOR_525_old_owner = { has_war_with = ROOT }
					}
					event_target:KMT_liberate_KOR_525_old_owner = {
						DPK = {
							add_to_war = {
								targeted_alliance = ROOT
								enemy = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					has_government = democratic
				}
				DPK = {
					set_politics = {
						ruling_party = democratic
						elections_allowed = no
					}
					add_popularity = {
						ideology = democratic
						popularity = 0.7
					}
				}
				else = {
					if = {
						limit = {
							has_government = communism
						}
						DPK = {
							set_politics = {
								ruling_party = communism
								elections_allowed = no
							}
							add_popularity = {
								ideology = communism
								popularity = 0.7
							}
						}
						else = {
							if = {
								limit = {
									has_government = fascism
								}
								DPK = {
									set_politics = {
										ruling_party = fascism
										elections_allowed = no
									}
									add_popularity = {
										ideology = fascism
										popularity = 0.7
									}
								}
								else = {
									if = {
										limit = {
											has_government = neutrality
										}
										DPK = {
											set_politics = {
												ruling_party = neutrality
												elections_allowed = no
											}
											add_popularity = {
												ideology = neutrality
												popularity = 0.7
											}
										}
									}
								}
							}
						}
					}
				}
			}
			every_state = {
				limit = {
					is_core_of = KOR
				}
				add_core_of = DPK
			}
			KOR = {
				add_opinion_modifier = {
					modifier = hostile_status
					target = ROOT
				}
				add_opinion_modifier = {
					modifier = hostile_status
					target = DPK
				}
			}
			DPK = {
				add_opinion_modifier = {
					modifier = hostile_status
					target = event_target:KMT_KOR_liberator
				}
				add_opinion_modifier = {
					modifier = hostile_status
					target = KOR
				}
			}
			DPK = {
				give_military_access = ROOT
			}
			give_military_access = DPK
			if = {
				limit = { is_in_faction = yes }
				random_country = {
					limit = {
						is_in_faction_with = ROOT
						is_faction_leader = yes
					}
					add_to_faction = DPK
				}
			}
			hidden_effect = {
				if = {
					limit = {
						OR = {
							AND = {							
								KOR = { has_government = democratic}
								DPK = { has_government = democratic}
							}
							AND = {							
								KOR = { has_government = fascism}
								DPK = { has_government = fascism}
							}
							AND = {							
								KOR = { has_government = communism}
								DPK = { has_government = communism}
							}
							AND = {							
								KOR = { has_government = neutrality}
								DPK = { has_government = neutrality}
							}
						}
					}
					DPK = { retire_country_leader = yes }
				}
			}
		}
		
	}

	KMT_liberate_DPK_puppet = {
		icon = generic_decision
		
		visible = {
			OR = {
				AND = {
					OR = {
						divisions_in_state = {
							state = 525
							size > 0
						}
						controls_state = 525
					}
					525 = {
						OWNER = {
							NOT = { tag = ROOT }
							has_war_with = ROOT
						}
					}
					KOR = { NOT = { owns_state = 525 }}
				}
				AND = {
					OR = {
						divisions_in_state = {
							state = 527
							size > 0
						}
						controls_state = 527
					}
					527 = {
						OWNER = {
							NOT = { tag = ROOT }
							has_war_with = ROOT
						}
					}
					KOR = { NOT = { owns_state = 527 }}
				}
			}
			KOR = { exists = yes }
			DPK = { exists = no }
			NOT = {
				tag = event_target:KMT_KOR_liberator
				KOR = { OVERLORD = { tag = ROOT }}
				is_in_faction_with = KOR
				tag = KOR
			}
		}

		available = {
			OR = {
				controls_state = 527
				controls_state = 525
			}
			KOR = { exists = yes }
			DPK = { exists = no }
		}

		ai_will_do = {
			base = 0
			modifier = {
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -19
					}
					has_opinion = {
						target = KOR
						value < -19
					}
				}
				add = 25
			}
			modifier = {
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -29
					}
					has_opinion = {
						target = KOR
						value < -29
					}
				}
				add = 25
			}
			modifier = {
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -39
					}
					has_opinion = {
						target = KOR
						value < -39
					}
				}
				add = 25
			}
			modifier = {
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -49
					}
					has_opinion = {
						target = KOR
						value < -49
					}
				}
				add = 25
			}
			modifier = {
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -59
					}
					has_opinion = {
						target = KOR
						value < -59
					}
				}
				add = 50
			}
			modifier = {
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -69
					}
					has_opinion = {
						target = KOR
						value < -69
					}
				}
				add = 100
			}
			modifier = {
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -79
					}
					has_opinion = {
						target = KOR
						value < -79
					}
				}
				add = 500
			}
			modifier = {
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -89
					}
					has_opinion = {
						target = KOR
						value < -89
					}
				}
				add = 1000
			}
			modifier = {
				OR = {
					has_opinion = {
						target = event_target:KMT_KOR_liberator
						value < -99
					}
					has_opinion = {
						target = KOR
						value < -99
					}
				}
				add = 5000
			}
			modifier = {
				NOT = { has_government = neutrality }
				KOR = {
					same_ideo_with_ROOT = no
				}
				has_opinion = {
					target = KOR
					value < 40
				}
				add = 1000
			}
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			every_state = {
				limit = {
					OR = {
						state = 527
						state = 525
					}
					is_controlled_by = ROOT
				}
				DPK = {
					transfer_state = PREV
				}
			}
			if = {
				limit = {
					has_government = democratic
				}
				DPK = {
					set_politics = {
						ruling_party = democratic
						elections_allowed = no
					}
					add_popularity = {
						ideology = democratic
						popularity = 0.7
					}
				}
				else = {
					if = {
						limit = {
							has_government = communism
						}
						DPK = {
							set_politics = {
								ruling_party = communism
								elections_allowed = no
							}
							add_popularity = {
								ideology = communism
								popularity = 0.7
							}
						}
						else = {
							if = {
								limit = {
									has_government = fascism
								}
								DPK = {
									set_politics = {
										ruling_party = fascism
										elections_allowed = no
									}
									add_popularity = {
										ideology = fascism
										popularity = 0.7
									}
								}
								else = {
									if = {
										limit = {
											has_government = neutrality
										}
										DPK = {
											set_politics = {
												ruling_party = neutrality
												elections_allowed = no
											}
											add_popularity = {
												ideology = neutrality
												popularity = 0.7
											}
										}
									}
								}
							}
						}
					}
				}
			}
			puppet = DPK
			every_state = {
				limit = {
					is_core_of = KOR
				}
				add_core_of = DPK
			}
			KOR = {
				add_opinion_modifier = {
					modifier = hostile_status
					target = ROOT
				}
				add_opinion_modifier = {
					modifier = hostile_status
					target = DPK
				}
			}
			DPK = {
				add_opinion_modifier = {
					modifier = hostile_status
					target = event_target:KMT_KOR_liberator
				}
				add_opinion_modifier = {
					modifier = hostile_status
					target = KOR
				}
			}
			hidden_effect = {
				if = {
					limit = {
						OR = {
							AND = {							
								KOR = { has_government = democratic }
								DPK = { has_government = democratic }
							}
							AND = {							
								KOR = { has_government = fascism}
								DPK = { has_government = fascism}
							}
							AND = {							
								KOR = { has_government = communism }
								DPK = { has_government = communism }
							}
							AND = {							
								KOR = { has_government = neutrality }
								DPK = { has_government = neutrality }
							}
						}
					}
					DPK = { retire_country_leader = yes }
				}
			}
		}
		
	}
}

KMT_dcat_japanese_civil_war = {
	
	KMT_seize_south_sakhalin = {
		icon = generic_prepare_civil_war
		
		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 537
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 537
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				537 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 537
		}
	}
	
	KMT_seize_the_kurils = {
		icon = generic_prepare_civil_war
		
		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 555
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 555
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				555 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 555
		}
	}
	
	KMT_seize_iwo_jima = {
		icon = generic_prepare_civil_war
		
		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 645
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 645
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				645 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 645
		}
	}
	
	KMT_seize_marcus_island = {
		icon = generic_prepare_civil_war
		
		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 648
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 648
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				648 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 648
		}
	}
	
	KMT_seize_palau = {
		icon = generic_prepare_civil_war
		
		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 647
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 647
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				647 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 647
		}
	}
	
	KMT_seize_caroline_islands = {
		icon = generic_prepare_civil_war
		
		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 684
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 684
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				684 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 684
		}
	}
	
	KMT_seize_marshall_islands = {
		icon = generic_prepare_civil_war
		
		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 633
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 633
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				633 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 633
		}
	}
	
	KMT_seize_saipan = {
		icon = generic_prepare_civil_war
		
		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 646
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 646
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				646 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 646
		}
	}
	
	KMT_seize_guam = {
		icon = generic_prepare_civil_war
		
		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 638
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 638
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				638 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 638
		}
	}
	
	KMT_seize_ryukyu = {
		icon = generic_prepare_civil_war
		
		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 526
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 526
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				526 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 526
		}
	}
	
	KMT_seize_kantoshu = {
		icon = generic_prepare_civil_war
		
		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 745
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 745
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				745 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 745
		}
	}
	
	KMT_seize_ktw = {
		icon = generic_prepare_civil_war
		
		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				owns_state = 728
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			controls_state = 728
		}

		ai_will_do = {
			base = 100
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				728 = {
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
			}
			transfer_state = 728
		}
	}
	
	KMT_seize_indochina = {
		icon = generic_prepare_civil_war
		
		visible = {
			NOT = {
				original_tag = JAP
			}
			has_war_with = JAP
			JAP = {
				any_owned_state = { region = 142 NOT = { state = 289 }}
			}
		}

		available = {
			JAP = {
				has_civil_war = yes
			}
			any_controlled_state = { region = 142 NOT = { state = 289 }}
		}

		ai_will_do = {
			base = 100
			modifier = {
				has_country_leader = {
					character = CHI_chiang_kaishek
					ruling_only = yes
				}
				NOT = { has_government = fascism }
				factor = 0
			}
		}

		days_remove = 0
		days_re_enable = 0

		cost = 0

		complete_effect = {
			hidden_effect = {
				random_controlled_state = { 
					limit = { 
						region = 142 
						NOT = { state = 289 }
						is_owned_by = JAP
					}
					save_global_event_target_as = KMT_land_grabbed
				}
			}
			JAP = {
				country_event = { id = jap.150 }
				every_owned_state = {
					limit = {
						region = 142 
						NOT = { state = 289 }
						is_controlled_by = ROOT
					}
					ROOT = { transfer_state = PREV }
				}
			}
		}
	}
}

KMT_dcat_resources_in_china = {

	KMT_daqing_oil = { #714
		
		icon = oil
		allowed = { 
		}
		highlight_states = {
			highlight_state_targets = {
			state = 714
		}		}
		available = {
			check_for_excavation_4 = yes
			num_of_civilian_factories_available_for_projects > 4
			OR = {
				AND = {
					owns_state = 714
					controls_state = 714
				}
				AND = {
					714 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_excavation_NE
					has_completed_focus = PRC_excavation_NE
					has_country_flag = KMT_mck_xuantong_res_oil
					has_completed_focus = MCK_prospect_for_resources
					has_completed_focus = JAP_develop_chinese_resources
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				is_subject = no
				OVERLORD = {
					OR = {
						has_completed_focus = KMT_excavation_NE
						has_completed_focus = PRC_excavation_NE
						has_completed_focus = MCK_prospect_for_resources
						has_completed_focus = JAP_develop_chinese_resources
						has_country_flag = KMT_mck_xuantong_res_oil
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			714 = {
				NOT = {
					has_state_flag = daqing_oil_developed_1
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 120

		modifier = {
			civilian_factory_use = 5
			consumer_goods_factor = 0.02
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = { 
			714 = { set_state_flag = daqing_oil_developed_1 } 
			714 = {
				add_resource = {
					type = oil
					amount = 45
				}
			}
		}	
	}
	KMT_daqing_oil_2 = { #714
		
		icon = oil

		allowed = {
			
		}
		highlight_states = {
			highlight_state_targets = {
			state = 714
		}		}
		available = {
			check_for_excavation_5 = yes
			num_of_civilian_factories_available_for_projects > 5
			OR = {
				AND = {
					owns_state = 714
					controls_state = 714
				}
				AND = {
					714 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_excavation_NE
					has_completed_focus = PRC_excavation_NE
					has_country_flag = KMT_mck_xuantong_res_oil
					has_completed_focus = MCK_prospect_for_resources
					has_completed_focus = JAP_develop_chinese_resources
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_excavation_NE
						has_completed_focus = PRC_excavation_NE
						has_completed_focus = MCK_prospect_for_resources
						has_completed_focus = JAP_develop_chinese_resources
						has_country_flag = KMT_mck_xuantong_res_oil
							has_completed_focus = PRC_geological_surveillance_agency
							has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			714 = {
				has_state_flag = daqing_oil_developed_1
				NOT = {
					has_state_flag = daqing_oil_developed_2
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 160

		modifier = {
			civilian_factory_use = 6
			consumer_goods_factor = 0.03
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = { 
			714 = { set_state_flag = daqing_oil_developed_2 } 
			714 = {
				add_resource = {
					type = oil
					amount = 50
				}
			}
		}	
	}
	
	KMT_karamay_oil = {
		
		icon = oil

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 618
		}		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 618
					controls_state = 618
				}
				AND = {
					618 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_excavation_NW
					has_completed_focus = PRC_excavation_NW
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_oil
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_excavation_NW
						has_completed_focus = PRC_excavation_NW
						has_completed_focus = JAP_develop_chinese_resources
						has_country_flag = KMT_mck_xuantong_res_oil
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			618 = {
				NOT = {
					has_state_flag = karamay_oil_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 90

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			618 = { set_state_flag = karamay_oil_developed }
			618 = {
				add_resource = {
					type = oil
					amount = 55
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	KMT_taklamakan_oil = {
		
		icon = oil

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 287
		}		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 287
					controls_state = 287
				}
				AND = {
					287 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_excavation_NW
					has_completed_focus = PRC_excavation_NW
					has_country_flag = KMT_mck_xuantong_res_oil
					has_completed_focus = JAP_develop_chinese_resources
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_excavation_NW
						has_completed_focus = PRC_excavation_NW
						has_completed_focus = JAP_develop_chinese_resources
						has_country_flag = KMT_mck_xuantong_res_oil
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			287 = {
				NOT = {
					has_state_flag = taklamakan_oil_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 90

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			287 = { set_state_flag = taklamakan_oil_developed }
			287 = {
				add_resource = {
					type = oil
					amount = 12
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	
	KMT_urumqi_oil = {
		
		icon = oil

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 617
		}		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 617
					controls_state = 617
				}
				AND = {
					617 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_excavation_NW
					has_completed_focus = PRC_excavation_NW
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_oil
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_excavation_NW
						has_completed_focus = PRC_excavation_NW
						has_completed_focus = JAP_develop_chinese_resources
						has_country_flag = KMT_mck_xuantong_res_oil
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			617 = {
				NOT = {
					has_state_flag = urumqi_oil_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 90

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			617 = { set_state_flag = urumqi_oil_developed }
			617 = {
				add_resource = {
					type = oil
					amount = 10
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	KMT_yarkand_oil = {
		
		icon = oil

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 619
		}		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 619
					controls_state = 619
				}
				AND = {
					619 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_excavation_NW
					has_completed_focus = PRC_excavation_NW
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_oil
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_excavation_NW
						has_completed_focus = PRC_excavation_NW
						has_completed_focus = JAP_develop_chinese_resources
						has_country_flag = KMT_mck_xuantong_res_oil
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			619 = {
				NOT = {
					has_state_flag = yarkand_oil_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 90

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			619 = { set_state_flag = yarkand_oil_developed }
			619 = {
				add_resource = {
					type = oil
					amount = 10
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	KMT_shandong_Al = { 
		
		icon = aluminium

		allowed = {
			
		}

		highlight_states = {
			highlight_state_targets = {
			state = 597
		}		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 597
					controls_state = 597
				}
				AND = {
					597 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_national_resources_commission
					has_completed_focus = PRC_resources_prospection
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_national_resources_commission
						has_completed_focus = PRC_resources_prospection
						has_completed_focus = JAP_develop_chinese_resources
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			597 = {
				NOT = {
					has_state_flag = shandong_aluminium_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = { 
			597 = { set_state_flag = shandong_aluminium_developed } 
			597 = {
				add_resource = {
					type = aluminium
					amount = 16
				}
			}
		}
	}
	KMT_kirin_Al = { #328
		
		icon = aluminium

		allowed = {
		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 328
					controls_state = 328
				}
				AND = {
					328 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}
		highlight_states = {
			highlight_state_targets = {
			state = 328
		}		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_excavation_NE
					has_completed_focus = PRC_excavation_NE
					has_completed_focus = MCK_prospect_for_resources
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_excavation_NE
						has_completed_focus = PRC_excavation_NE
						has_completed_focus = MCK_prospect_for_resources
						has_completed_focus = JAP_develop_chinese_resources
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			328 = {
				NOT = {
					has_state_flag = kirin_aluminium_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = { 
			328 = { set_state_flag = kirin_aluminium_developed } 
			328 = {
				add_resource = {
					type = aluminium
					amount = 16
				}
			}
		}	
	}
	
	KMT_ningxia_Al = {
		
		icon = aluminium

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 616
		}		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 616
					controls_state = 616
				}
				AND = {
					616 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_excavation_NW
					has_completed_focus = PRC_excavation_NW
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_excavation_NW
						has_completed_focus = PRC_excavation_NW
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			616 = {
				NOT = {
					has_state_flag = ningxia_Al_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			616 = { set_state_flag = ningxia_Al_developed }
			616 = {
				add_resource = {
					type = aluminium
					amount = 8
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	KMT_qinghai_Al = {
		
		icon = aluminium

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 604
		}		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 604
					controls_state = 604
				}
				AND = {
					604 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_excavation_NW
					has_completed_focus = PRC_excavation_NW
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_excavation_NW
						has_completed_focus = PRC_excavation_NW
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			604 = {
				NOT = {
					has_state_flag = qinghai_Al_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			604 = { set_state_flag = qinghai_Al_developed }
			604 = {
				add_resource = {
					type = aluminium
					amount = 5
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	KMT_sichuan_Al = { #605
		
		icon = aluminium

		allowed = {
			
		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 605
					controls_state = 605
				}
				AND = {
					605 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}
		highlight_states = {
			highlight_state_targets = {
			state = 605
		}		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_national_resources_commission
					has_completed_focus = PRC_resources_prospection
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_national_resources_commission
						has_completed_focus = PRC_resources_prospection
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			605 = {
				NOT = {
					has_state_flag = sichuan_aluminium_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 90

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = { 
			605 = { set_state_flag = sichuan_aluminium_developed } 
			605 = {
				add_resource = {
					type = aluminium
					amount = 22
				}
			}
		}	
	}
	
	KMT_yunnan_Al = { #325
		
		icon = aluminium

		allowed = {
			
		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 325
					controls_state = 325
				}
				AND = {
					325 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}
		highlight_states = {
			highlight_state_targets = {
			state = 325
		}		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_national_resources_commission
					has_completed_focus = PRC_resources_prospection
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_national_resources_commission
						has_completed_focus = PRC_resources_prospection
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			325 = {
				NOT = {
					has_state_flag = yunnan_aluminium_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = { 
			325 = { set_state_flag = yunnan_aluminium_developed } 
			325 = {
				add_resource = {
					type = aluminium
					amount = 15
				}
			}
		}	
	}
	
	KMT_guangdong_rubber = { 
		
		icon = rubber

		allowed = {
			
		}

		available = {
			has_tech = construction3
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 593
					controls_state = 593
				}
				AND = {
					593 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}
		highlight_states = {
			highlight_state_targets = {
			state = 593
		}		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_excavation_S
					has_completed_focus = PRC_excavation_S
					has_completed_focus = MCK_xuantong_restoration
					has_completed_focus = JAP_develop_chinese_resources
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_rubber_plantation_initiative
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_excavation_S
						has_completed_focus = PRC_excavation_S
						has_completed_focus = MCK_xuantong_restoration
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_rubber_plantation_initiative
					}
				}
			}
			593 = {
				NOT = {
					has_state_flag = guangdong_rubber_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 80

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = { 
			593 = { set_state_flag = guangdong_rubber_developed } 
			593 = {
				add_resource = {
					type = rubber
					amount = 10
				}
			}
		}	
	}
	
	KMT_guangzhou_rubber = { 
		
		icon = rubber

		allowed = {
			
		}

		available = {
			has_tech = construction3
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 592
					controls_state = 592
				}
				AND = {
					592 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}
		highlight_states = {
			highlight_state_targets = {
			state = 592
		}		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_excavation_S
					has_completed_focus = PRC_excavation_S
					has_completed_focus = MCK_xuantong_restoration
					has_completed_focus = JAP_develop_chinese_resources
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_rubber_plantation_initiative
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_excavation_S
						has_completed_focus = PRC_excavation_S
						has_completed_focus = MCK_xuantong_restoration
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_rubber_plantation_initiative
					}
				}
			}
			592 = {
				NOT = {
					has_state_flag = guangzhou_rubber_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 80

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = { 
			592 = { set_state_flag = guangzhou_rubber_developed } 
			592 = {
				add_resource = {
					type = rubber
					amount = 10
				}
			}
		}	
	}
	
	KMT_hainan_rubber = { 
		
		icon = rubber

		allowed = {
			
		}

		available = {
			has_tech = construction3
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 591
					controls_state = 591
				}
				AND = {
					591 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}
		highlight_states = {
			highlight_state_targets = {
			state = 591
		}		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_excavation_S
					has_completed_focus = PRC_excavation_S
					has_completed_focus = MCK_xuantong_restoration
					has_completed_focus = JAP_develop_chinese_resources
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_rubber_plantation_initiative
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_excavation_S
						has_completed_focus = PRC_excavation_S
						has_completed_focus = MCK_xuantong_restoration
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_rubber_plantation_initiative
					}
				}
			}
			591 = {
				NOT = {
					has_state_flag = hainan_rubber_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 80

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = { 
			591 = { set_state_flag = hainan_rubber_developed } 
			591 = {
				add_resource = {
					type = rubber
					amount = 10
				}
			}
		}	
	}
	
	KMT_nanning_rubber = { 
		
		icon = rubber

		allowed = {
			
		}

		available = {
			has_tech = construction3
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 594
					controls_state = 594
				}
				AND = {
					594 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}
		highlight_states = {
			highlight_state_targets = {
			state = 594
		}		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_excavation_S
					has_completed_focus = PRC_excavation_S
					has_completed_focus = MCK_xuantong_restoration
					has_completed_focus = JAP_develop_chinese_resources
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_rubber_plantation_initiative
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_excavation_S
						has_completed_focus = PRC_excavation_S
						has_completed_focus = MCK_xuantong_restoration
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_rubber_plantation_initiative
					}
				}
			}
			594 = {
				NOT = {
					has_state_flag = nanning_rubber_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 80

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = { 
			594 = { set_state_flag = nanning_rubber_developed } 
			594 = {
				add_resource = {
					type = rubber
					amount = 10
				}
			}
		}	
	}
	
	KMT_ganzhou_tungsten = {
		
		icon = tungsten

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 956
		}		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 956
					controls_state = 956
				}
				AND = {
					956 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_national_resources_commission
					has_completed_focus = PRC_resources_prospection
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_national_resources_commission
						has_completed_focus = PRC_resources_prospection
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			956 = {
				NOT = {
					has_state_flag = ganzhou_tungsten_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 50

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			956 = { set_state_flag = ganzhou_tungsten_developed }
			956 = {
				add_resource = {
					type = tungsten
					amount = 20
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	KMT_huaihua_tungsten = {
		
		icon = tungsten

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 958
		}		}

		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 958
					controls_state = 958
				}
				AND = {
					958 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_national_resources_commission
					has_completed_focus = PRC_resources_prospection
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_national_resources_commission
						has_completed_focus = PRC_resources_prospection
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			958 = {
				NOT = {
					has_state_flag = huaihua_tungsten_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 50

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			958 = { set_state_flag = huaihua_tungsten_developed }
			958 = {
				add_resource = {
					type = tungsten
					amount = 13
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	KMT_hunan_tungsten = {
		
		icon = tungsten

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 602
		}		}

		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 602
					controls_state = 602
				}
				AND = {
					602 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_national_resources_commission
					has_completed_focus = PRC_resources_prospection
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_national_resources_commission
						has_completed_focus = PRC_resources_prospection
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			602 = {
				NOT = {
					has_state_flag = hunan_tungsten_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 50

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			602 = { set_state_flag = hunan_tungsten_developed }
			602 = {
				add_resource = {
					type = tungsten
					amount = 25
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	KMT_jian_tungsten = {
		
		icon = tungsten

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 957
		}		}

		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 957
					controls_state = 957
				}
				AND = {
					957 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_national_resources_commission
					has_completed_focus = PRC_resources_prospection
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_national_resources_commission
						has_completed_focus = PRC_resources_prospection
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			957 = {
				NOT = {
					has_state_flag = jian_tungsten_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 50

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			957 = { set_state_flag = jian_tungsten_developed }
			957 = {
				add_resource = {
					type = tungsten
					amount = 17
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	KMT_jiangxi_tungsten = {
		
		icon = tungsten

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 600
		}		}

		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 600
					controls_state = 600
				}
				AND = {
					600 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_national_resources_commission
					has_completed_focus = PRC_resources_prospection
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_national_resources_commission
						has_completed_focus = PRC_resources_prospection
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			600 = {
				NOT = {
					has_state_flag = jiangxi_tungsten_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 50

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			600 = { set_state_flag = jiangxi_tungsten_developed }
			600 = {
				add_resource = {
					type = tungsten
					amount = 19
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	
	KMT_shaoguan_tungsten = {
		
		icon = tungsten

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 978
		}		}

		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 978
					controls_state = 978
				}
				AND = {
					978 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_national_resources_commission
					has_completed_focus = PRC_resources_prospection
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_national_resources_commission
						has_completed_focus = PRC_resources_prospection
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			978 = {
				NOT = {
					has_state_flag = shaoguan_tungsten_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 50

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			978 = { set_state_flag = shaoguan_tungsten_developed }
			978 = {
				add_resource = {
					type = tungsten
					amount = 17
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	
	KMT_sichuan_tungsten = {
		
		icon = tungsten

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 605
		}		}

		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 605
					controls_state = 605
				}
				AND = {
					605 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_national_resources_commission
					has_completed_focus = PRC_resources_prospection
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_national_resources_commission
						has_completed_focus = PRC_resources_prospection
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			605 = {
				NOT = {
					has_state_flag = sichuan_tungsten_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 50

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			605 = { set_state_flag = sichuan_tungsten_developed }
			605 = {
				add_resource = {
					type = tungsten
					amount = 25
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	KMT_EHopeh_steel = {
		
		icon = steel

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 609
		}		}

		available = {
			check_for_excavation_2 = yes
			has_tech = construction3
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 609
					controls_state = 609
				}
				AND = {
					609 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_excavation_NE
					has_completed_focus = PRC_excavation_NE
					has_completed_focus = MCK_prospect_for_resources
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_excavation_NE
						has_completed_focus = PRC_excavation_NE
						has_completed_focus = MCK_prospect_for_resources
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			609 = {
				NOT = {
					has_state_flag = EHopeh_steel_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 90

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			609 = { set_state_flag = EHopeh_steel_developed }
			609 = {
				add_resource = {
					type = steel
					amount = 15
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	KMT_guizhou_steel = {
		
		icon = steel

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 603
		}		}

		available = {
			check_for_excavation_1 = yes
			has_tech = construction2
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 603
					controls_state = 603
				}
				AND = {
					603 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_national_resources_commission
					has_completed_focus = PRC_resources_prospection
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_national_resources_commission
						has_completed_focus = PRC_resources_prospection
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			603 = {
				NOT = {
					has_state_flag = sichuan_steel_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 50

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			603 = { set_state_flag = guizhou_steel_developed }
			603 = {
				add_resource = {
					type = steel
					amount = 15
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	KMT_liaotung_steel = { #716
		
		icon = steel

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 716
		}		}

		available = {
			check_for_excavation_1 = yes
			has_tech = construction3
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 716
					controls_state = 716
				}
				AND = {
					716 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_excavation_NE
					has_completed_focus = PRC_excavation_NE
					has_completed_focus = MCK_prospect_for_resources
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_excavation_NE
						has_completed_focus = PRC_excavation_NE
						has_completed_focus = MCK_prospect_for_resources
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			716 = {
				NOT = {
					has_state_flag = liaotung_steel_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			716 = { set_state_flag = liaotung_steel_developed }
			716 = {
				add_resource = {
					type = steel
					amount = 13
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	KMT_sichuan_steel = {
		
		icon = steel

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 605
		}		}

		available = {
			check_for_excavation_3 = yes
			has_tech = construction3
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 605
					controls_state = 605
				}
				AND = {
					605 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_national_resources_commission
					has_completed_focus = PRC_resources_prospection
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_national_resources_commission
						has_completed_focus = PRC_resources_prospection
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			605 = {
				NOT = {
					has_state_flag = sichuan_steel_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 90

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			605 = { set_state_flag = sichuan_steel_developed }
			605 = {
				add_resource = {
					type = steel
					amount = 30
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	KMT_suiyuan_steel = { #621
		
		icon = steel

		allowed = {
			
		}
		highlight_states = {
			highlight_state_targets = {
			state = 621
		}		}
		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 621
					controls_state = 621
				}
				AND = {
					621 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_national_resources_commission
					has_completed_focus = PRC_resources_prospection
					has_completed_focus = JAP_develop_chinese_resources
					has_global_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_national_resources_commission
						has_completed_focus = PRC_resources_prospection
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			621 = {
				NOT = {
					has_state_flag = suiyuan_steel_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = { 
			621 = { set_state_flag = suiyuan_steel_developed } 
			621 = {
				add_resource = {
					type = steel
					amount = 14
				}
			}
		}	
	}
	
	KMT_wuhan_steel = {
		
		icon = steel

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 980
		}		}

		available = {
			check_for_excavation_2 = yes
			has_tech = construction3
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 980
					controls_state = 980
				}
				AND = {
					980 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_excavation_NE
					has_completed_focus = PRC_excavation_NE
					has_completed_focus = MCK_prospect_for_resources
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_excavation_NE
						has_completed_focus = PRC_excavation_NE
						has_completed_focus = MCK_prospect_for_resources
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			980 = {
				NOT = {
					has_state_flag = wuhan_steel_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 90

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			980 = { set_state_flag = wuhan_steel_developed }
			980 = {
				add_resource = {
					type = steel
					amount = 15
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	KMT_kirin_chrome = {
		
		icon = chromium

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 328
		}		}

		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 328
					controls_state = 328
				}
				AND = {
					328 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_excavation_NE
					has_completed_focus = PRC_excavation_NE
					has_completed_focus = MCK_prospect_for_resources
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_excavation_NE
						has_completed_focus = PRC_excavation_NE
						has_completed_focus = MCK_prospect_for_resources
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			328 = {
				NOT = {
					has_state_flag = kirin_chromium_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			328 = { set_state_flag = kirin_chromium_developed }
			328 = {
				add_resource = {
					type = chromium
					amount = 8
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	KMT_liaoning_chrome = {
		
		icon = chromium

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 715
		}		}

		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 715
					controls_state = 715
				}
				AND = {
					715 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_excavation_NE
					has_completed_focus = PRC_excavation_NE
					has_completed_focus = MCK_prospect_for_resources
					has_completed_focus = JAP_develop_chinese_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_excavation_NE
						has_completed_focus = PRC_excavation_NE
						has_completed_focus = MCK_prospect_for_resources
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = JAP_develop_chinese_resources
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			715 = {
				NOT = {
					has_state_flag = liaoning_chromium_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			715 = { set_state_flag = liaoning_chromium_developed }
			715 = {
				add_resource = {
					type = chromium
					amount = 8
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	KMT_qinghai_chrome = {
		
		icon = chromium

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 604
		}		}

		available = {
			check_for_excavation_3 = yes
			num_of_civilian_factories_available_for_projects > 3
			OR = {
				AND = {
					owns_state = 604
					controls_state = 604
				}
				AND = {
					604 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				AND = {
					owns_state = 604
					controls_state = 604
				}
				AND = {
					604 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
			604 = {
				NOT = {
					has_state_flag = qinghai_chrome_developed
				}
			}
			OR = {
				has_completed_focus = KMT_excavation_NW
				has_completed_focus = PRC_excavation_NW
				has_country_flag = KMT_mck_xuantong_res_minerals
				has_completed_focus = PRC_geological_surveillance_agency
				has_completed_focus = PRC_national_geological_surveilance_department
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 4
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			604 = { set_state_flag = qinghai_chrome_developed }
			604 = {
				add_resource = {
					type = chromium
					amount = 5
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	
	KMT_sungkiang_chrome = {
		
		icon = chromium

		allowed = {

		}

		highlight_states = {
			highlight_state_targets = {
			state = 717
		}		}

		available = {
			check_for_excavation_2 = yes
			num_of_civilian_factories_available_for_projects > 2
			OR = {
				AND = {
					owns_state = 717
					controls_state = 717
				}
				AND = {
					717 = {
						owner = { is_subject_of = ROOT }
						controller = { is_subject_of = ROOT }
					}
				}
			}
		}

		visible = {
			OR = {
				OR = {
					has_completed_focus = KMT_excavation_NE
					has_completed_focus = PRC_excavation_NE
					has_completed_focus = MCK_prospect_for_resources
					has_country_flag = KMT_mck_xuantong_res_minerals
					has_completed_focus = PRC_geological_surveillance_agency
					has_completed_focus = PRC_national_geological_surveilance_department
				}
				any_country = {  ROOT = { is_subject_of = PREV }
					OR = {
						has_completed_focus = KMT_excavation_NE
						has_completed_focus = PRC_excavation_NE
						has_completed_focus = MCK_prospect_for_resources
						has_completed_focus = JAP_develop_chinese_resources
						has_country_flag = KMT_mck_xuantong_res_minerals
						has_completed_focus = PRC_geological_surveillance_agency
						has_completed_focus = PRC_national_geological_surveilance_department
					}
				}
			}
			717 = {
				NOT = {
					has_state_flag = sungkiang_chromium_developed
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
			consumer_goods_factor = 0.01
		}

		remove_effect = {
			717 = { set_state_flag = sungkiang_chromium_developed }
			717 = {
				add_resource = {
					type = chromium
					amount = 10
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
}

KMT_dcat_industrial_evacuation = {
	
	KMT_industrial_evacuation_decision = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_factory
		available = {
			FROM = {
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		
		state_target = yes
		
		on_map_mode = map_only
		
		target_array = KMT_considered_inalienable_parts
		
		target_trigger = {
		}
		
		visible = {
			has_completed_focus = KMT_the_big_rear_concept
			has_war = yes
			FROM = {
				OWNER = {
					is_chinese_nations_w_HYQ = yes
					OR = {
						tag = ROOT
						is_subject_of = ROOT
						custom_trigger_tooltip = {
							tooltip = KMT_united_front_member_tt
							AND = {
								has_idea = KMT_united_front
								is_in_faction_with = ROOT
							}
						}
					}
				}
				OR = {
					industrial_complex > 0
					arms_factory > 0
				}
			}
			any_state = {
				custom_trigger_tooltip = {
					tooltip = KMT_indus_evac_tt
					OWNER = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
							custom_trigger_tooltip = {
								tooltip = KMT_united_front_member_tt
								AND = {
									has_idea = KMT_united_front
									is_in_faction_with = ROOT
								}
							}
						}
					}
					CONTROLLER = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
							custom_trigger_tooltip = {
								tooltip = KMT_united_front_member_tt
								AND = {
									has_idea = KMT_united_front
									is_in_faction_with = ROOT
								}
							}
						}
						has_full_control_of_state = PREV
					}
				}
			}
		}
		
		available = {
			FROM = {
				CONTROLLER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
						custom_trigger_tooltip = {
							tooltip = KMT_united_front_member_tt
							AND = {
								has_idea = KMT_united_front
								is_in_faction_with = ROOT
							}
						}
					}
				}
				OR = {
					any_neighbor_state = {
						CONTROLLER = { has_war_with = ROOT }
					}
					is_controlled_by = ROOT
				}
			}
			any_state = {
				custom_trigger_tooltip = {
					tooltip = KMT_indus_evac_tt
					OWNER = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
							AND = {
								has_idea = KMT_united_front
								is_in_faction_with = ROOT
							}
						}
					}
					CONTROLLER = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
							AND = {
								has_idea = KMT_united_front
								is_in_faction_with = ROOT
							}
						}
						has_full_control_of_state = PREV
					}
				}
				NOT = { any_neighbor_state = { CONTROLLER = { has_war_with = ROOT }}}
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = no
				}
			}
		}
		
		cost = 25
		days_remove = 10
		
		cancel_trigger = {
			NOT = { 
				any_state = { 
					custom_trigger_tooltip = {
						tooltip = KMT_indus_evac_tt
						OWNER = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								AND = {
									has_idea = KMT_united_front
									is_in_faction_with = ROOT
								}
							}
						}
						CONTROLLER = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								AND = {
									has_idea = KMT_united_front
									is_in_faction_with = ROOT
								}
							}
							has_full_control_of_state = PREV
						}
					}
					NOT = { any_neighbor_state = { CONTROLLER = { has_war_with = ROOT }}}
					if = {
						limit = { FROM = { has_state_flag = KMT_evac1ic }}
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = no
						}
					}
					if = {
						limit = { FROM = { has_state_flag = KMT_evac1af }}
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = no
						}
					}
				}
			}
		}
		
		cancel_effect = {
			if = {
				limit = { FROM = { has_state_flag = KMT_evac1ic }}
				random_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = no
						}
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					damage_building = { type = industrial_complex damage = 1 }
				}
			}
			if = {
				limit = { FROM = { has_state_flag = KMT_evac1af }}
				random_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = no
						}
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					damage_building = { type = arms_factory damage = 1 }
				}
			}
			FROM = { 
				clr_state_flag = KMT_evac1af
				clr_state_flag = KMT_evac1ic
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					FROM = { industrial_complex > 0 }
					any_state = {
						NOT = { state = FROM }
						CONTROLLER = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								AND = {
									has_idea = KMT_united_front
									is_in_faction_with = ROOT
								}
							}
						}
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = no
						}
					}
				}
				FROM = {
					set_state_flag = KMT_evac1ic
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
			}
			if = {
				limit = {
					FROM = { arms_factory > 0 }
					any_state = {
						NOT = { state = FROM }
						CONTROLLER = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								AND = {
									has_idea = KMT_united_front
									is_in_faction_with = ROOT
								}
							}
						}
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = no
						}
					}
				}
				FROM = {
					set_state_flag = KMT_evac1af
					remove_building = {
						type = arms_factory
						level = 1
					}
				}
			}
		}
		
		remove_effect = {
			if = {
				limit = { 
					FROM = { 
						OR = {
							industrial_complex > 0
							has_state_flag = KMT_evac1ic 
						}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							is_fully_controlled_by = ROOT
							NOT = { state = FROM }
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = no
							}
							NOT = { any_neighbor_state = { CONTROLLER = { has_war_with = ROOT }}}
						}
					}
					random_owned_controlled_state = {
						prioritize = { 605 748 753 943 603 942 }
						limit = {
							NOT = { state = FROM }
							is_fully_controlled_by = ROOT
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = no
							}
							NOT = { any_neighbor_state = { CONTROLLER = { has_war_with = ROOT }}}
						}
						#add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}else = {
					random_state = {
						prioritize = { 605 748 753 943 603 942 }
						limit = {
							NOT = { state = FROM }
							OWNER = {
								OR = {
									tag = ROOT
									is_subject_of = ROOT
									AND = {
										has_idea = KMT_united_front
										is_in_faction_with = ROOT
									}
								}
							}
							CONTROLLER = {
								OR = {
									tag = ROOT
									is_subject_of = ROOT
									AND = {
										has_idea = KMT_united_front
										is_in_faction_with = ROOT
									}
								}
								has_full_control_of_state = PREV
							}
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = no
							}
							NOT = { any_neighbor_state = { CONTROLLER = { has_war_with = ROOT }}}
						}
						#add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					FROM = { 
						OR = {
							arms_factory > 0
							has_state_flag = KMT_evac1af
						}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							is_fully_controlled_by = ROOT
							NOT = { state = FROM }
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = no
							}
							NOT = { any_neighbor_state = { CONTROLLER = { has_war_with = ROOT }}}
						}
					}
					random_owned_controlled_state = {
						prioritize = { 605 748 753 943 603 942 }
						limit = {
							NOT = { state = FROM }
							is_fully_controlled_by = ROOT
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = no
							}
							NOT = { any_neighbor_state = { CONTROLLER = { has_war_with = ROOT }}}
						}
						#add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}else = {
					random_state = {
						prioritize = { 605 748 753 943 603 942 }
						limit = {
							NOT = { state = FROM }
							OWNER = {
								OR = {
									tag = ROOT
									is_subject_of = ROOT
									AND = {
										has_idea = KMT_united_front
										is_in_faction_with = ROOT
									}
								}
							}
							CONTROLLER = {
								OR = {
									tag = ROOT
									is_subject_of = ROOT
									AND = {
										has_idea = KMT_united_front
										is_in_faction_with = ROOT
									}
								}
								has_full_control_of_state = PREV
							}
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = no
							}
							NOT = { any_neighbor_state = { CONTROLLER = { has_war_with = ROOT }}}
						}
						#add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
			}
			FROM = { 
				clr_state_flag = KMT_evac1af
				clr_state_flag = KMT_evac1ic
			}
		}
		
		ai_will_do = {
			base = 1
			modifier = {
				FROM = {
					any_neighbor_state = {
						CONTROLLER = { has_war_with = ROOT }
					}
				}
				add = 100
			}
			modifier = {
				FROM = {
					CONTROLLER = {
						NOT = { has_full_control_of_state = FROM } 	
					}
				}
				add = 100
			}
			modifier = {
				FROM = {
					region = 231
				}
				has_war_with = JAP
				factor = 0
			}
		}
	}
}
#	
#	KMT_industrial_evacuation_peking = { 
#		icon = generic_scorched_earth
#		available = {
#			608 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 608
#		}
#		visible = {	
#			608 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			608 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_subject_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					608 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				608 = {
#					KMT_evacuate_industry_to_the_rear = yes
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				608 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_hopeh = { 
#		icon = generic_scorched_earth
#		available = {
#			614 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 614
#		}
#		visible = {	
#			614 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			614 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					614 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				614 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				614 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_shantung = { 
#		icon = generic_scorched_earth
#		available = {
#			597 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 597
#		}
#		visible = {	
#			597 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			597 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					597 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				597 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				597 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_qingdao = { 
#		icon = generic_scorched_earth
#		available = {
#			743 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 743
#		}
#		visible = {	
#			743 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			743 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					743 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				743 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				743 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_jinan = { 
#		icon = generic_scorched_earth
#		available = {
#			939 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 939
#		}
#		visible = {	
#			939 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			939 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					939 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				939 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				939 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_jiangsu = { 
#		icon = generic_scorched_earth
#		available = {
#			598 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 598
#		}
#		visible = {	
#			598 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			598 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					598 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				598 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				598 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_shanghai = { 
#		icon = generic_scorched_earth
#		available = {
#			938 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 938
#		}
#		visible = {	
#			938 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			938 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					938 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				938 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				938 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_nanjing = { 
#		icon = generic_scorched_earth
#		available = {
#			613 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 613
#		}
#		visible = {	
#			613 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			613 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					613 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				613 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				613 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_zhejiang = { 
#		icon = generic_scorched_earth
#		available = {
#			596 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 596
#		}
#		visible = {	
#			596 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			596 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					596 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				596 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				596 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_fujian = { 
#		icon = generic_scorched_earth
#		available = {
#			595 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 595
#		}
#		visible = {	
#			595 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			595 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					595 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				595 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				595 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_guangdong = { 
#		icon = generic_scorched_earth
#		available = {
#			593 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 593
#		}
#		visible = {	
#			593 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			593 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					593 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				593 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				593 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_guangzhou = { 
#		icon = generic_scorched_earth
#		available = {
#			592 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 592
#		}
#		visible = {	
#			592 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			592 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					592 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				592 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				592 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_hainan = { 
#		icon = generic_scorched_earth
#		available = {
#			591 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 591
#		}
#		visible = {	
#			591 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			591 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					591 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				591 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				591 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_hongkong = { 
#		icon = generic_scorched_earth
#		available = {
#			326 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 326
#		}
#		visible = {	
#			326 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			326 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					326 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				326 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				326 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_macao = { 
#		icon = generic_scorched_earth
#		available = {
#			729 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 729
#		}
#		visible = {	
#			729 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			729 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					729 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				729 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				729 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_gzw = { 
#		icon = generic_scorched_earth
#		available = {
#			728 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 728
#		}
#		visible = {	
#			728 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			728 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					728 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				728 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				728 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_nanning = { 
#		icon = generic_scorched_earth
#		available = {
#			594 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 594
#		}
#		visible = {	
#			594 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			594 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					594 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				594 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				594 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_shiukwan = { 
#		icon = generic_scorched_earth
#		available = {
#			978 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 978
#		}
#		visible = {	
#			978 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			978 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					978 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				978 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				978 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_taiyuan = { 
#		icon = generic_scorched_earth
#		available = {
#			615 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 615
#		}
#		visible = {	
#			615 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			615 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					615 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				615 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				615 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_henan = { 
#		icon = generic_scorched_earth
#		available = {
#			607 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 607
#		}
#		visible = {	
#			607 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			607 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					607 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				607 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				607 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_nanyang = { 
#		icon = generic_scorched_earth
#		available = {
#			940 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 940
#		}
#		visible = {	
#			940 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			940 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					940 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				940 = {
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				940 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_anhui = { 
#		icon = generic_scorched_earth
#		available = {
#			606 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 606
#		}
#		visible = {	
#			606 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			606 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					606 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				606 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				606 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_huizhou = { 
#		icon = generic_scorched_earth
#		available = {
#			749 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 749
#		}
#		visible = {	
#			749 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			749 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					749 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				749 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				749 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_jiangxi = { 
#		icon = generic_scorched_earth
#		available = {
#			600 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 600
#		}
#		visible = {	
#			600 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			600 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					600 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				600 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				600 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_ganzhou = { 
#		icon = generic_scorched_earth
#		available = {
#			956 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 956
#		}
#		visible = {	
#			956 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			956 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					956 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				956 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				956 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_jian = { 
#		icon = generic_scorched_earth
#		available = {
#			957 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 957
#		}
#		visible = {	
#			957 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			957 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					957 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				957 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				957 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_wuhan = { 
#		icon = generic_scorched_earth
#		available = {
#			980 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 980
#		}
#		visible = {	
#			980 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			980 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					980 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				980 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				980 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_hupeh = { 
#		icon = generic_scorched_earth
#		available = {
#			620 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 620
#		}
#		visible = {	
#			620 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			620 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					620 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				620 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				625 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#	
#	KMT_industrial_evacuations_hunan = { 
#		icon = generic_scorched_earth
#		available = {
#			602 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#		}
#		highlight_state_targets = {
#			state = 602
#		}
#		visible = {	
#			602 = { 
#				OR = {
#					arms_factory > 0
#					industrial_complex > 0
#				}
#			}
#			tag = event_target:KMT_central_gov_tag
#			has_completed_focus = KMT_the_big_rear_concept
#			602 = { 
#				OR = {
#					is_controlled_by = ROOT
#					CONTROLLER = {
#						has_idea = cg_warlords
#						has_war_together_with = ROOT
#						has_full_control_of_state = PREV
#					}
#					CONTROLLER = {
#						is_puppet_of = ROOT
#					}
#				}
#			}			
#		}
#
#		fire_only_once = yes
#		cost = 25
#
#		days_remove = 15
#
#		modifier = {}
#
#		remove_effect = {
#			if = {
#				limit = {
#					602 = { 
#						OR = {
#							is_controlled_by = ROOT
#							CONTROLLER = {
#								has_idea = cg_warlords
#								has_war_together_with = ROOT
#								has_full_control_of_state = PREV
#							}
#							CONTROLLER = {
#								is_subject_of = ROOT
#							}
#						}
#					}			
#				}
#				602 = {
#					KMT_evacuate_industry_to_the_rear = yes		
#				}
#			}
#		}
#
#		ai_will_do = {
#			factor = 1
#			modifier = {
#				602 = {
#					any_neighbor_state = {
#						controller = {
#							has_war_with = ROOT
#						}
#					}
#				}
#				factor = 1000
#			}
#		}
#	}
#}
#
KMT_dcat_central_government_nomaps = {
	
	KMT_take_the_seat_of_central_gov_nomaps = { 
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		name = KMT_take_the_seat_of_central_gov
		icon = generic_nationalism
		available = {
			OR = {
				custom_trigger_tooltip = {
					tooltip = KMT_own_central_gov_capital_tt
					OR = {
						event_target:KMT_central_gov_capital_state = {
							is_owned_by = ROOT
						}
					}
				}
				event_target:KMT_central_gov_tag = {
					exists = no
				}
			}
			is_puppet = no
			NOT = { tag = PRC }
		}
		
		visible = {	
			OR = {
				is_valid_power_struggle_participant = yes
			}
			NOT = {
				tag = event_target:KMT_central_gov_tag
				tag = PRC
				has_completed_focus = KMT_support_pro_japanese_faction
				has_completed_focus = KMT_privilege_to_proletarians
			}
		}

		fire_only_once = no
		cost = 0

		days_remove = 0

		modifier = {}

		complete_effect = {
			if = {
				limit = {
					NOT = { is_in_array = { global.KMT_ps_alliance_leaders = ROOT }}
					any_country = { is_in_array = { THIS.KMT_ps_alliance_array = ROOT }}
				}
				custom_effect_tooltip = KMT_alliance_member_will_not_like_you_tt
			}
			country_event = { id = claim_central.2 }
		}

		ai_will_do = {
			base = 0
			modifier = {
				OR = {
					tag = MEN
				}
				NOT = {
					any_country = {
						is_valid_power_struggle_participant = yes
						NOT = { 
							tag = MEN
						}
						exists = yes
					}
				}
				add = 1
			}
			modifier = {
				OR = {
					tag = SIK
				}
				NOT = {
					any_country = {
						is_valid_power_struggle_participant = yes
						NOT = { 
							tag = MEN
							tag = SIK
						}
						exists = yes
					}
				}
				add = 2
			}
			modifier = {
				OR = {
					tag = XSM
				}
				NOT = {
					any_country = {
						is_valid_power_struggle_participant = yes
						NOT = { 
							tag = SIK
							tag = XSM
							tag = MEN
						}
						exists = yes
					}
				}
				add = 3
			}
			modifier = {
				OR = {
					tag = NSM
				}
				NOT = {
					any_country = {
						is_valid_power_struggle_participant = yes
						NOT = { 
							tag = SIK
							tag = NSM
							tag = XSM
							tag = MEN
						}
						exists = yes
					}
				}
				add = 4
			}
			modifier = {
				OR = {
					tag = SKC
				}
				NOT = {
					any_country = {
						is_valid_power_struggle_participant = yes
						NOT = { 
							tag = SIK
							tag = NSM
							tag = XSM
							tag = MEN
							tag = SKC 
						}
						exists = yes
					}
				}
				add = 5
			}
			modifier = {
				is_valid_power_struggle_participant = yes
				NOT = { 
					tag = SIK
					tag = NSM
					tag = XSM
					tag = MEN
					tag = SKC 
				}
				add = 10
			}
			modifier = {
				any_country = {
					is_valid_power_struggle_participant = yes
					owns_state = 613
					NOT = { 
						tag = ROOT 
					}
				}
				factor = 0
			}
		}
	}
}

#KMT_dcat_central_government = {
#	
#	KMT_take_the_seat_of_central_gov = { 
#		icon = generic_nationalism
#		available = {
#			OR = {
#				custom_trigger_tooltip = {
#					tooltip = KMT_own_central_gov_capital_tt
#					OR = {
#						event_target:KMT_central_gov_capital_state = {
#							is_owned_by = ROOT
#						}
#					}
#				}
#				event_target:KMT_central_gov_tag = {
#					exists = no
#				}
#			}
#			is_puppet = no
#			NOT = { tag = PRC }
#		}
#		
#		visible = {	
#			OR = {
#				is_valid_power_struggle_participant = yes
#			}
#			NOT = {
#				tag = event_target:KMT_central_gov_tag
#				tag = PRC
#				has_completed_focus = KMT_support_pro_japanese_faction
#				has_completed_focus = KMT_privilege_to_proletarians
#			}
#		}
#
#		fire_only_once = no
#		cost = 0
#
#		days_remove = 0
#
#		modifier = {}
#
#		complete_effect = {
#			if = {
#				limit = {
#					NOT = { is_in_array = { global.KMT_ps_alliance_leaders = ROOT }}
#					any_country = { is_in_array = { THIS.KMT_ps_alliance_array = ROOT }}
#				}
#				custom_effect_tooltip = KMT_alliance_member_will_not_like_you_tt
#			}
#			country_event = claim_central.2
#		}
#
#		ai_will_do = {
#			base = 0
#			modifier = {
#				OR = {
#					tag = MEN
#				}
#				NOT = {
#					any_country = {
#						is_valid_power_struggle_participant = yes
#						NOT = { 
#							tag = MEN
#						}
#						exists = yes
#					}
#				}
#				add = 1
#			}
#			modifier = {
#				OR = {
#					tag = SIK
#				}
#				NOT = {
#					any_country = {
#						is_valid_power_struggle_participant = yes
#						NOT = { 
#							tag = MEN
#							tag = SIK
#						}
#						exists = yes
#					}
#				}
#				add = 2
#			}
#			modifier = {
#				OR = {
#					tag = XSM
#				}
#				NOT = {
#					any_country = {
#						is_valid_power_struggle_participant = yes
#						NOT = { 
#							tag = SIK
#							tag = XSM
#							tag = MEN
#						}
#						exists = yes
#					}
#				}
#				add = 3
#			}
#			modifier = {
#				OR = {
#					tag = NSM
#				}
#				NOT = {
#					any_country = {
#						is_valid_power_struggle_participant = yes
#						NOT = { 
#							tag = SIK
#							tag = NSM
#							tag = XSM
#							tag = MEN
#						}
#						exists = yes
#					}
#				}
#				add = 4
#			}
#			modifier = {
#				OR = {
#					tag = SKC
#				}
#				NOT = {
#					any_country = {
#						is_valid_power_struggle_participant = yes
#						NOT = { 
#							tag = SIK
#							tag = NSM
#							tag = XSM
#							tag = MEN
#							tag = SKC 
#						}
#						exists = yes
#					}
#				}
#				add = 5
#			}
#			modifier = {
#				OR = {
#					is_in_array = { global.KMT_ps_alliance_leaders = ROOT }
#					NOT = {
#						any_country = { 
#							is_in_array = { THIS.KMT_ps_alliance_array = ROOT }
#						}
#					}
#				}
#				add = 100
#			}
#			modifier = {
#				any_country = {
#					is_valid_power_struggle_participant = yes
#					owns_state = 613
#					NOT = { 
#						tag = ROOT 
#					}
#				}
#				factor = 0
#			}
#		}
#	}
#	
#	KMT_break_free_from_cg = {
#		icon = generic_independence
#		
#		target_trigger = {
#			FROM = { 
#				has_event_target = KMT_central_gov_tag
#				NOT = { tag = ROOT }
#				exists = yes
#				tag = event_target:KMT_central_gov_tag
#			}
#		}
#		
#		visible = {
#			NOT = { has_global_flag = KMT_disable_power_struggle_mechanics }
#			is_valid_power_struggle_participant = yes
#			has_event_target = KMT_central_gov_tag
#			FROM = { 
#				NOT = { tag = ROOT }
#				exists = yes
#				tag = event_target:KMT_central_gov_tag
#			}
#			is_puppet_of = FROM
#		}
#		
#		custom_cost_text = KMT_break_free_from_cg_cost_tt
#		
#		custom_cost_trigger = {
#			command_power > 49
#			has_political_power > 149
#		}
#		
#		available = {
#			OR = {
#				custom_trigger_tooltip = {
#					tooltip = KMT_ps_in_alliance_tt
#					any_country = { is_in_array = { THIS.KMT_ps_alliance_array = ROOT }}
#				}
#				strength_ratio = {
#					tag = event_target:KMT_central_gov_tag
#					ratio > 0.75
#				}
#				has_country_flag = KMT_proclaimed_opposition
#				custom_trigger_tooltip = {
#					tooltip = KMT_loyalty_at_most_0_tt
#					check_variable = { KMT_ps_loyalty@KMT_central_gov_tag < 1 }
#				}
#			}
#		}
#		
#		cost = 150
#		
#		ai_will_do = {
#			base = 0
#			modifier = {
#				check_variable = { ROOT.KMT_ps_loyalty@KMT_central_gov_tag < -19 }
#				add = 2
#			}
#			modifier = {
#				check_variable = { ROOT.KMT_ps_loyalty@KMT_central_gov_tag < -29 }
#				add = 2
#			}
#			modifier = {
#				check_variable = { ROOT.KMT_ps_loyalty@KMT_central_gov_tag < -39 }
#				add = 3
#			}
#			modifier = {
#				check_variable = { ROOT.KMT_ps_loyalty@KMT_central_gov_tag < -49 }
#				add = 3
#			}
#			modifier = {
#				check_variable = { ROOT.KMT_ps_loyalty@KMT_central_gov_tag < -59 }
#				add = 3
#			}
#			modifier = {
#				check_variable = { ROOT.KMT_ps_loyalty@KMT_central_gov_tag < -69 }
#				add = 3
#			}
#			modifier = {
#				check_variable = { ROOT.KMT_ps_loyalty@KMT_central_gov_tag < -79 }
#				add = 4
#			}
#			modifier = {
#				check_variable = { ROOT.KMT_ps_loyalty@KMT_central_gov_tag < -89 }
#				add = 4
#			}
#			modifier = {
#				check_variable = { ROOT.KMT_ps_loyalty@KMT_central_gov_tag < -99 }
#				add = 5
#			}
#		}
#		
#		complete_effect = {
#			hidden_effect = {
#				add_command_power = -50
#				add_political_power = -150
#			}
#			set_country_flag = KMT_ps_broke_away
#			set_variable = { KMT_ps_loyalty_change = -55 }
#			custom_effect_tooltip = KMT_ps_change_loyalty_tt_n55
#			KMT_ps_change_loyalty = yes
#			update_cg_loyalty = yes
#			FROM = {
#				end_puppet = ROOT
#				country_event = { id = kmt_powerstruggle.23 }
#			}
#		}
#	}
#	
#	KMT_ps_suppress_loyalists = {
#		icon = oppression
#		
#		visible = {
#			NOT = { has_global_flag = KMT_disable_power_struggle_mechanics }
#			has_event_target = KMT_central_gov_tag
#			NOT = { 
#				tag = event_target:KMT_central_gov_tag 
#				tag = PRC
#			}
#			is_valid_power_struggle_participant = yes
#		}
#		
#		available = {
#			OR = {
#				has_political_power > 49
#				political_power_daily > 0.1
#			}
#			custom_trigger_tooltip = {
#				tooltip = KMT_ps_atleast_loyal_tt
#				check_variable = { ROOT.KMT_ps_loyalty@KMT_central_gov_tag > 0 }
#			}
#		}
#		
#		ai_will_do = {
#			base = 0
#			modifier = {
#				has_country_flag = KMT_proclaimed_opposition
#				add = 50
#			}
#		}
#		
#		cancel_trigger = {
#			hidden_trigger = { 
#				OR = {
#					NOT = { has_event_target = KMT_central_gov_tag }
#					is_valid_power_struggle_participant = no
#				}
#			}
#		}
#		
#		days_remove = 30
#		
#		modifier = { political_power_cost = 0.1 }
#		
#		remove_effect = {
#			set_variable = { THIS.KMT_ps_loyalty_change = -8 }
#			custom_effect_tooltip = KMT_ps_change_loyalty_tt_n8
#			KMT_ps_change_loyalty = yes
#			update_cg_loyalty = yes
#		}
#	}
#	
#	KMT_ps_absorb_local_government = {
#		icon = generic_political_discourse
#		
#		visible = {
#			NOT = { has_global_flag = KMT_disable_power_struggle_mechanics }
#			tag = event_target:KMT_central_gov_tag 
#			FROM = {
#				is_valid_power_struggle_participant = yes
#				is_subject_of = ROOT
#			}
#			check_variable = { FROM.KMT_ps_loyalty@KMT_central_gov_tag > 0 }
#		}
#		
#		available = {
#			check_variable = { FROM.KMT_ps_loyalty@KMT_central_gov_tag > 89 }
#		}
#		
#		target_trigger = {
#			FROM = {
#				is_valid_power_struggle_participant = yes
#				is_subject_of = ROOT
#			}
#		}
#		
#		cancel_if_not_visible = yes
#		
#		ai_will_do = {
#			base = 0
#			modifier = {
#				check_variable = { FROM.KMT_ps_loyalty@KMT_central_gov_tag < 100 }
#				has_equipment = { infantry_equipment > 9999 }
#				add = 10
#			}
#			modifier = {
#				FROM = { has_country_flag = KMT_proclaimed_opposition }
#				factor = 0
#			}
#		}
#		
#		cost = 150
#		
#		days_remove = 90
#		
#		modifier = { political_power_cost = 0.15 }
#		
#		complete_effect = {
#			hidden_effect = { FROM = { country_event = { id = kmt_powerstruggle.27 }}}
#		}
#		
#		remove_effect = {
#			FROM = { country_event = { id = kmt_powerstruggle.28 days = 1 }}
#		}
#	}
#}

@KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER = 4999
@KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT = -5000
@KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE = 10001
@KMT_SPREAD_REVOLUTION_PP_COST = 250
@KMT_SPREAD_REVOLUTION_DAYS_REMOVE = 100

KMT_dcat_spread_revolution = {
	
	KMT_spread_revolution_VIN = {
		allowed = { original_tag = CHI }
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER }}
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_VIN
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_VIN
				has_war_with = event_target:KMT_spread_revolution_target_VIN
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_VIN
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_VIN
				has_government = communism
				exists = yes
			}
		}
		
		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST
		
		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE
		
		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_VIN = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_VIN
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_VIN = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = { 
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE 
				}
				factor = 0
			}
		}
		
		modifier = {}
		
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}
		
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_VIN_former_coloniser_flag
				}
				clr_country_flag = KMT_VIN_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_VIN = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = { NOT = { has_country_flag = KMT_spread_first_time_create_template }}
					division_template = {
						name = "Qun Doi Cch Mang"
						
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_VIN
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_VIN
					}
					owner = {
						if = {
							limit = {
								NOT = { 
									has_country_flag = KMT_VIN_former_coloniser_flag 
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_VIN = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 1 }
							set_country_flag = KMT_VIN_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_VIN = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 1 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Qun Doi Cch Mang\" division_template = \"Qun Doi Cch Mang\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_VIN
					}
					create_unit = {
						division = "name = \"Qun Doi Cch Mang\" division_template = \"Qun Doi Cch Mang\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_VIN
					}
					create_unit = {
						division = "name = \"Qun Doi Cch Mang\" division_template = \"Qun Doi Cch Mang\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_VIN
					}
					create_unit = {
						division = "name = \"Qun Doi Cch Mang\" division_template = \"Qun Doi Cch Mang\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_VIN
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_VIN = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_VIN = { country_event = { id = kmt.539 }}
					}
				}
			}
		}
	}
	
	KMT_spread_revolution_CAM = {
		allowed = { original_tag = CHI }
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER }}
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_CAM
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_CAM
				has_war_with = event_target:KMT_spread_revolution_target_CAM
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_CAM
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_CAM
				has_government = communism
				exists = yes
			}
		}
		
		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST
		
		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE
		
		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_CAM = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_CAM
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_CAM = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = { 
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE 
				}
				factor = 0
			}
		}
		
		modifier = {}
		
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}
		
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_CAM_former_coloniser_flag
				}
				clr_country_flag = KMT_CAM_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_CAM = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = {
						NOT = { has_country_flag = KMT_spread_first_time_create_template }
					}
					division_template = {
						name = "Bdevott Kangtp"
						
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_CAM
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_CAM
					}
					owner = {
						if = {
							limit = {
								NOT = { 
									has_country_flag = KMT_CAM_former_coloniser_flag 
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_CAM = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 2 }
							set_country_flag = KMT_CAM_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_CAM = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 2 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Bdevott Kangtp\" division_template = \"Bdevott Kangtp\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_CAM
					}
					create_unit = {
						division = "name = \"Bdevott Kangtp\" division_template = \"Bdevott Kangtp\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_CAM
					}
					create_unit = {
						division = "name = \"Bdevott Kangtp\" division_template = \"Bdevott Kangtp\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_CAM
					}
					create_unit = {
						division = "name = \"Bdevott Kangtp\" division_template = \"Bdevott Kangtp\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_CAM
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_CAM = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_CAM = { country_event = { id = kmt.539 }}
					}
				}
			}
		}
	}
	
	KMT_spread_revolution_LAO = {
		allowed = { original_tag = CHI }
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER }}
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_LAO
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_LAO
				has_war_with = event_target:KMT_spread_revolution_target_LAO
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_LAO
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_LAO
				has_government = communism
				exists = yes
			}
		}
		
		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST
		
		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE
		
		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_LAO = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_LAO
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_LAO = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = { 
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE 
				}
				factor = 0
			}
		}
		
		modifier = {}
		
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}
		
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_LAO_former_coloniser_flag
				}
				clr_country_flag = KMT_LAO_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_LAO = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = { NOT = { has_country_flag = KMT_spread_first_time_create_template }}
					division_template = {
						name = "Kongthab Pativad"
						
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_LAO
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_LAO
					}
					owner = {
						if = {
							limit = {
								NOT = { 
									has_country_flag = KMT_LAO_former_coloniser_flag 
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_LAO = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 3 }
							set_country_flag = KMT_LAO_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_LAO = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 3 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Kongthab Pativad\" division_template = \"Kongthab Pativad\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_LAO
					}
					create_unit = {
						division = "name = \"Kongthab Pativad\" division_template = \"Kongthab Pativad\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_LAO
					}
					create_unit = {
						division = "name = \"Kongthab Pativad\" division_template = \"Kongthab Pativad\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_LAO
					}
					create_unit = {
						division = "name = \"Kongthab Pativad\" division_template = \"Kongthab Pativad\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_LAO
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_LAO = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_LAO = { country_event = { id = kmt.539 }}
					}
				}
			}
		}
	}
	
	KMT_spread_revolution_SIA = {
		allowed = { original_tag = CHI }
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER }}
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_SIA
					has_government = communism
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_SIA
				has_war_with = event_target:KMT_spread_revolution_target_SIA
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_SIA
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_SIA
				has_government = communism
				exists = yes
			}
		}
		
		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST
		
		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE
		
		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_SIA = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_SIA
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_SIA = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = { 
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE 
				}
				factor = 0
			}
		}
		
		modifier = {}
		
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}
		
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_SIA_former_coloniser_flag
				}
				clr_country_flag = KMT_SIA_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_SIA = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = {
						NOT = {
							has_country_flag = KMT_spread_first_time_create_template
						}
					}
					division_template = {
						name = "Kxngthaph Ptiwati"
						
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_SIA
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_SIA
					}
					owner = {
						if = {
							limit = {
								NOT = { 
									has_country_flag = KMT_SIA_former_coloniser_flag 
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_SIA = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 4 }
							set_country_flag = KMT_SIA_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_SIA = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 4 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Kxngthaph Ptiwati\" division_template = \"Kxngthaph Ptiwati\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_SIA
					}
					create_unit = {
						division = "name = \"Kxngthaph Ptiwati\" division_template = \"Kxngthaph Ptiwati\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_SIA
					}
					create_unit = {
						division = "name = \"Kxngthaph Ptiwati\" division_template = \"Kxngthaph Ptiwati\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_SIA
					}
					create_unit = {
						division = "name = \"Kxngthaph Ptiwati\" division_template = \"Kxngthaph Ptiwati\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_SIA
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_SIA = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_SIA = { country_event = { id = kmt.539 }}
					}
				}
			}
		}
	}
	
	KMT_spread_revolution_RAJ = {
		allowed = { original_tag = CHI }
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER }}
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_RAJ
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_RAJ
				has_war_with = event_target:KMT_spread_revolution_target_RAJ
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_RAJ
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_RAJ
				has_government = communism
				exists = yes
			}
		}
		
		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST
		
		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE
		
		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_RAJ = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_RAJ
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_RAJ = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = { 
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE 
				}
				factor = 0
			}
		}
		
		modifier = {}
		
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}
		
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_RAJ_former_coloniser_flag
				}
				clr_country_flag = KMT_RAJ_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_RAJ = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = {
						NOT = { has_country_flag = KMT_spread_first_time_create_template }
					}
					division_template = {
						name = "Kraantikaarak Sena"
						
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_RAJ
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_RAJ
					}
					event_target:KMT_spread_revolution_target_RAJ = {
						transfer_state = PREV
					}
					owner = {
						if = {
							limit = {
								NOT = { 
									has_country_flag = KMT_RAJ_former_coloniser_flag
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_RAJ = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 5 }
							set_country_flag = KMT_RAJ_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_RAJ = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 5 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Kraantikaarak Sena\" division_template = \"Kraantikaarak Sena\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_RAJ
					}
					create_unit = {
						division = "name = \"Kraantikaarak Sena\" division_template = \"Kraantikaarak Sena\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_RAJ
					}
					create_unit = {
						division = "name = \"Kraantikaarak Sena\" division_template = \"Kraantikaarak Sena\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_RAJ
					}
					create_unit = {
						division = "name = \"Kraantikaarak Sena\" division_template = \"Kraantikaarak Sena\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_RAJ
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_RAJ = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_RAJ = { country_event = { id = kmt.539 }}
					}
				}
			}
		}
	}
	
	KMT_spread_revolution_BHU = {
		allowed = { original_tag = CHI }
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER }}
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_BHU
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_BHU
				has_war_with = event_target:KMT_spread_revolution_target_BHU
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_BHU
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_BHU
				has_government = communism
				exists = yes
			}
		}
		
		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST
		
		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE
		
		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_BHU = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_BHU
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_BHU = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = { 
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE 
				}
				factor = 0
			}
		}
		
		modifier = {}
		
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}
		
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_BHU_former_coloniser_flag
				}
				clr_country_flag = KMT_BHU_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_BHU = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = { NOT = { has_country_flag = KMT_spread_first_time_create_template }}
					division_template = {
						name = "Bhutanese Revolutionaries Army"
						
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_BHU
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_BHU
					}
					owner = {
						if = {
							limit = {
								NOT = { 
									has_country_flag = KMT_BHU_former_coloniser_flag 
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_BHU = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 6 }
							set_country_flag = KMT_BHU_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_BHU = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 6 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Bhutanese Revolutionaries Army\" division_template = \"Bhutanese Revolutionaries Army\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_BHU
					}
					create_unit = {
						division = "name = \"Bhutanese Revolutionaries Army\" division_template = \"Bhutanese Revolutionaries Army\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_BHU
					}
					create_unit = {
						division = "name = \"Bhutanese Revolutionaries Army\" division_template = \"Bhutanese Revolutionaries Army\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_BHU
					}
					create_unit = {
						division = "name = \"Bhutanese Revolutionaries Army\" division_template = \"Bhutanese Revolutionaries Army\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_BHU
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_BHU = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_BHU = { country_event = { id = kmt.539 }}
					}
				}
			}
		}
	}
	
	KMT_spread_revolution_PAK = {
		allowed = { original_tag = CHI }
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER }}
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_PAK
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_PAK
				has_war_with = event_target:KMT_spread_revolution_target_PAK
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_PAK
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_PAK
				has_government = communism
				exists = yes
			}
		}
		
		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST
		
		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE
		
		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_PAK = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_PAK
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_PAK = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = { 
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE 
				}
				factor = 0
			}
		}
		
		modifier = {}
		
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}
		
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_PAK_former_coloniser_flag
				}
				clr_country_flag = KMT_PAK_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_PAK = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = { NOT = { has_country_flag = KMT_spread_first_time_create_template }}
					division_template = {
						name = "Pakistani Revolutionaries Army"
						
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_PAK
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_PAK
					}
					owner = {
						if = {
							limit = {
								NOT = { 
									has_country_flag = KMT_PAK_former_coloniser_flag 
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_PAK = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 7 }
							set_country_flag = KMT_PAK_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_PAK = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 7 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Pakistani Revolutionaries Army\" division_template = \"Pakistani Revolutionaries Army\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_PAK
					}
					create_unit = {
						division = "name = \"Pakistani Revolutionaries Army\" division_template = \"Pakistani Revolutionaries Army\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_PAK
					}
					create_unit = {
						division = "name = \"Pakistani Revolutionaries Army\" division_template = \"Pakistani Revolutionaries Army\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_PAK
					}
					create_unit = {
						division = "name = \"Pakistani Revolutionaries Army\" division_template = \"Pakistani Revolutionaries Army\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_PAK
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_PAK = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_PAK = { country_event = { id = kmt.539 }}
					}
				}
			}
		}
	}
	
	KMT_spread_revolution_NEP = {
		allowed = { original_tag = CHI }
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER }}
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_NEP
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_NEP
				has_war_with = event_target:KMT_spread_revolution_target_NEP
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_NEP
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_NEP
				has_government = communism
				exists = yes
			}
		}
		
		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST
		
		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE
		
		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_NEP = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_NEP
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_NEP = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = { 
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE 
				}
				factor = 0
			}
		}
		
		modifier = {}
		
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}
		
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_NEP_former_coloniser_flag
				}
				clr_country_flag = KMT_NEP_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_NEP = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = {
						NOT = { has_country_flag = KMT_spread_first_time_create_template }
					}
					division_template = {
						name = "Krantikari Sena"
						
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_NEP
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_NEP
					}
					owner = {
						if = {
							limit = {
								NOT = { 
									has_country_flag = KMT_NEP_former_coloniser_flag
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_NEP = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 8 }
							set_country_flag = KMT_NEP_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_NEP = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 8 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Krantikari Sena\" division_template = \"Krantikari Sena\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_NEP
					}
					create_unit = {
						division = "name = \"Krantikari Sena\" division_template = \"Krantikari Sena\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_NEP
					}
					create_unit = {
						division = "name = \"Krantikari Sena\" division_template = \"Krantikari Sena\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_NEP
					}
					create_unit = {
						division = "name = \"Krantikari Sena\" division_template = \"Krantikari Sena\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_NEP
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_NEP = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_NEP = { country_event = { id = kmt.539 }}
					}
				}
			}
		}
	}
	
	KMT_spread_revolution_MON = {
		allowed = { original_tag = CHI }
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER }}
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_MON
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_MON
				has_war_with = event_target:KMT_spread_revolution_target_MON
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_MON
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_MON
				has_government = communism
				exists = yes
			}
		}
		
		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST
		
		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE
		
		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_MON = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_MON
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_MON = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = { 
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE 
				}
				factor = 0
			}
		}
		
		modifier = {}
		
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}
		
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_MON_former_coloniser_flag
				}
				clr_country_flag = KMT_MON_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_MON = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = {
						NOT = { has_country_flag = KMT_spread_first_time_create_template }
					}
					division_template = {
						name = "Khuvisgalchdyn Tsereg"
						
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_MON
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_MON
					}
					owner = {
						if = {
							limit = {
								NOT = { 
									has_country_flag = KMT_MON_former_coloniser_flag 
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_MON = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 9 }
							set_country_flag = KMT_MON_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_MON = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 9 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Khuvisgalchdyn Tsereg\" division_template = \"Khuvisgalchdyn Tsereg\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_MON
					}
					create_unit = {
						division = "name = \"Khuvisgalchdyn Tsereg\" division_template = \"Khuvisgalchdyn Tsereg\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_MON
					}
					create_unit = {
						division = "name = \"Khuvisgalchdyn Tsereg\" division_template = \"Khuvisgalchdyn Tsereg\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_MON
					}
					create_unit = {
						division = "name = \"Khuvisgalchdyn Tsereg\" division_template = \"Khuvisgalchdyn Tsereg\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_MON
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_MON = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_MON = { country_event = { id = kmt.539 }}
					}
				}
			}
		}
	}
	
	KMT_spread_revolution_TAN = {
		allowed = { original_tag = CHI }
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER }}
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_TAN
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_TAN
				has_war_with = event_target:KMT_spread_revolution_target_TAN
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_TAN
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_TAN
				has_government = communism
				exists = yes
			}
		}
		
		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST
		
		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE
		
		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_TAN = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_TAN
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_TAN = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = { 
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE 
				}
				factor = 0
			}
		}
		
		modifier = {}
		
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}
		
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_TAN_former_coloniser_flag
				}
				clr_country_flag = KMT_TAN_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_TAN = {
				clr_country_flag = KMT_independence_war_from_spread
				if = { 
					limit = { NOT = { has_country_flag = KMT_spread_first_time_create_template }}
					division_template = {
						name = "Tuva Khuvisgalchdyn Tsereg"
						
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_TAN
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_TAN
					}
					owner = {
						if = {
							limit = {
								NOT = { 
									has_country_flag = KMT_TAN_former_coloniser_flag 
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_TAN = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 10 }
							set_country_flag = KMT_TAN_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_TAN = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 10 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Tuva Khuvisgalchdyn Tsereg\" division_template = \"Tuva Khuvisgalchdyn Tsereg\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_TAN
					}
					create_unit = {
						division = "name = \"Tuva Khuvisgalchdyn Tsereg\" division_template = \"Tuva Khuvisgalchdyn Tsereg\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_TAN
					}
					create_unit = {
						division = "name = \"Tuva Khuvisgalchdyn Tsereg\" division_template = \"Tuva Khuvisgalchdyn Tsereg\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_TAN
					}
					create_unit = {
						division = "name = \"Tuva Khuvisgalchdyn Tsereg\" division_template = \"Tuva Khuvisgalchdyn Tsereg\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_TAN
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_TAN = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_TAN = { country_event = { id = kmt.539 }}
					}
				}
			}
		}
	}
	
	KMT_spread_revolution_KOR = {
		allowed = { original_tag = CHI }
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER }}
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_KOR
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_KOR
				has_war_with = event_target:KMT_spread_revolution_target_KOR
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_KOR
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_KOR
				has_government = communism
				exists = yes
			}
		}
		
		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST
		
		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE
		
		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_KOR = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_KOR
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_KOR = {
					is_subject_of = ROOT
				}
				add = 1000
			}
		}
		
		modifier = {}
		
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}
		
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_KOR_former_coloniser_flag
				}
				clr_country_flag = KMT_KOR_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_KOR = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = {
						NOT = { has_country_flag = KMT_spread_first_time_create_template }
					}
					division_template = {
						name = "Hyeogmyeong Gundae"
						
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_KOR
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_KOR
					}
					owner = {
						if = {
							limit = {
								NOT = { 
									has_country_flag = KMT_KOR_former_coloniser_flag 
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_KOR = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 11 }
							set_country_flag = KMT_KOR_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_KOR = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 11 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Hyeogmyeong Gundae\" division_template = \"Hyeogmyeong Gundae\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_KOR
					}
					create_unit = {
						division = "name = \"Hyeogmyeong Gundae\" division_template = \"Hyeogmyeong Gundae\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_KOR
					}
					create_unit = {
						division = "name = \"Hyeogmyeong Gundae\" division_template = \"Hyeogmyeong Gundae\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_KOR
					}
					create_unit = {
						division = "name = \"Hyeogmyeong Gundae\" division_template = \"Hyeogmyeong Gundae\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_KOR
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_KOR = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_KOR = { country_event = { id = kmt.539 }}
					}
				}
			}
		}
	}
	
	KMT_spread_revolution_JAP = {
		allowed = { original_tag = CHI }
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER }}
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_JAP
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_JAP
				has_war_with = event_target:KMT_spread_revolution_target_JAP
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_JAP
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_JAP
				has_government = communism
				exists = yes
			}
		}
		
		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST
		
		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE
		
		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_JAP = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_JAP
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_JAP = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = { 
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE 
				}
				factor = 0
			}
		}
		
		modifier = {}
		
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}
		
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_JAP_former_coloniser_flag
				}
				clr_country_flag = KMT_JAP_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_JAP = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = { NOT = { has_country_flag = KMT_spread_first_time_create_template }}
					division_template = {
						name = "Kakumei-gun"
						
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_JAP
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_JAP
					}
					owner = {
						if = {
							limit = {
								NOT = { 
									has_country_flag = KMT_JAP_former_coloniser_flag
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_JAP = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 12 }
							set_country_flag = KMT_JAP_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_JAP = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 12 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Kakumei-gun\" division_template = \"Kakumei-gun\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_JAP
					}
					create_unit = {
						division = "name = \"Kakumei-gun\" division_template = \"Kakumei-gun\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_JAP
					}
					create_unit = {
						division = "name = \"Kakumei-gun\" division_template = \"Kakumei-gun\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_JAP
					}
					create_unit = {
						division = "name = \"Kakumei-gun\" division_template = \"Kakumei-gun\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_JAP
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_JAP = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_JAP = { country_event = { id = kmt.539 }}
					}
				}
			}
		}
	}
	
	KMT_spread_revolution_MAL = {
		allowed = { original_tag = CHI }
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER }}
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_MAL
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_MAL
				has_war_with = event_target:KMT_spread_revolution_target_MAL
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_MAL
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_MAL
				has_government = communism
				exists = yes
			}
		}
		
		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST
		
		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE
		
		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_MAL = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_MAL
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_MAL = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = { 
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE 
				}
				factor = 0
			}
		}
		
		modifier = {}
		
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}
		
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_MAL_former_coloniser_flag
				}
				clr_country_flag = KMT_MAL_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_MAL = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = {
						NOT = { has_country_flag = KMT_spread_first_time_create_template }
					}
					division_template = {
						name = "Tentera Revolusioner"
						
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_MAL
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_MAL
					}
					owner = {
						if = {
							limit = {
								NOT = { 
									has_country_flag = KMT_MAL_former_coloniser_flag 
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_MAL = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 13 }
							set_country_flag = KMT_MAL_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_MAL = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 13 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Tentera Revolusioner\" division_template = \"Tentera Revolusioner\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_MAL
					}
					create_unit = {
						division = "name = \"Tentera Revolusioner\" division_template = \"Tentera Revolusioner\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_MAL
					}
					create_unit = {
						division = "name = \"Tentera Revolusioner\" division_template = \"Tentera Revolusioner\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_MAL
					}
					create_unit = {
						division = "name = \"Tentera Revolusioner\" division_template = \"Tentera Revolusioner\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_MAL
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_MAL = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_MAL = { country_event = { id = kmt.539 }}
					}
				}
			}
		}
	}
	
	KMT_spread_revolution_INS = {
		allowed = { original_tag = CHI }
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER }}
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_INS
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_INS
				has_war_with = event_target:KMT_spread_revolution_target_INS
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_INS
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_INS
				has_government = communism
				exists = yes
			}
		}
		
		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST
		
		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE
		
		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_INS = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_INS
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_INS = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = { 
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE 
				}
				factor = 0
			}
		}
		
		modifier = {}
		
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}
		
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_INS_former_coloniser_flag
				}
				clr_country_flag = KMT_INS_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_INS = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = {
						NOT = { has_country_flag = KMT_spread_first_time_create_template }
					}
					division_template = {
						name = "Tentara Revolusioner"
						
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_INS
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_INS
					}
					owner = {
						if = {
							limit = {
								NOT = { 
									has_country_flag = KMT_INS_former_coloniser_flag 
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_INS = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 14 }
							set_country_flag = KMT_INS_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_INS = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 14 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Tentara Revolusioner\" division_template = \"Tentara Revolusioner\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_INS
					}
					create_unit = {
						division = "name = \"Tentara Revolusioner\" division_template = \"Tentara Revolusioner\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_INS
					}
					create_unit = {
						division = "name = \"Tentara Revolusioner\" division_template = \"Tentara Revolusioner\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_INS
					}
					create_unit = {
						division = "name = \"Tentara Revolusioner\" division_template = \"Tentara Revolusioner\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_INS
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_INS = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_INS = { country_event = { id = kmt.539 }}
					}
				}
			}
		}
	}
	
	KMT_spread_revolution_PHI = {
		allowed = { original_tag = CHI }
		icon = generic_nationalism
		available = { has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER }}
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_PHI
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_PHI
				has_war_with = event_target:KMT_spread_revolution_target_PHI
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_PHI
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_PHI
				has_government = communism
				exists = yes
			}
		}
		
		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST
		
		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE
		
		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_PHI = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_PHI
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_PHI = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = { 
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE 
				}
				factor = 0
			}
		}
		
		modifier = {}
		
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}
		
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_PHI_former_coloniser_flag
				}
				clr_country_flag = KMT_PHI_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_PHI = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = { NOT = { has_country_flag = KMT_spread_first_time_create_template }}
					division_template = {
						name = "Hukbo Ng Mga Rebolusyonaryo"
						
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_PHI
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_PHI
					}
					owner = {
						if = {
							limit = {
								NOT = { 
									has_country_flag = KMT_PHI_former_coloniser_flag 
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_PHI = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 15 }
							set_country_flag = KMT_PHI_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_PHI = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 15 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Hukbo Ng Mga Rebolusyonaryo\" division_template = \"Hukbo Ng Mga Rebolusyonaryo\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_PHI
					}
					create_unit = {
						division = "name = \"Hukbo Ng Mga Rebolusyonaryo\" division_template = \"Hukbo Ng Mga Rebolusyonaryo\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_PHI
					}
					create_unit = {
						division = "name = \"Hukbo Ng Mga Rebolusyonaryo\" division_template = \"Hukbo Ng Mga Rebolusyonaryo\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_PHI
					}
					create_unit = {
						division = "name = \"Hukbo Ng Mga Rebolusyonaryo\" division_template = \"Hukbo Ng Mga Rebolusyonaryo\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_PHI
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_PHI = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_PHI = { country_event = { id = kmt.539 }}
					}
				}
			}
		}
	}
	
	KMT_spread_revolution_AFG = {
		allowed = { original_tag = CHI }
		icon = generic_nationalism
		available = {
			has_equipment = { infantry_equipment > @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_TRIGGER }
		}
		visible = {
			tag = CHI
			NOT = {
				any_country = {
					original_tag = event_target:KMT_spread_revolution_target_AFG
					has_government = communism
					exists = yes
				}
				has_wargoal_against = event_target:KMT_spread_revolution_target_AFG
				has_war_with = event_target:KMT_spread_revolution_target_AFG
			}
			any_state = {
				is_core_of = event_target:KMT_spread_revolution_target_AFG
				is_on_continent = asia
			}
		}
		cancel_trigger = {
			any_country = {
				original_tag = event_target:KMT_spread_revolution_target_AFG
				has_government = communism
				exists = yes
			}
		}
		
		fire_only_once = no
		cost = @KMT_SPREAD_REVOLUTION_PP_COST
		
		days_remove = @KMT_SPREAD_REVOLUTION_DAYS_REMOVE
		
		ai_will_do = {
			base = 10
			modifier = {
				event_target:KMT_spread_revolution_target_AFG = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
				ROOT = {
					has_opinion = {
						target = event_target:KMT_spread_revolution_target_AFG
						value > 29
					}
				}
				factor = 0
			}
			modifier = {
				event_target:KMT_spread_revolution_target_AFG = {
					is_subject_of = ROOT
				}
				factor = 1000
			}
			modifier = {
				has_equipment = { 
					infantry_equipment < @KMT_SPREAD_REVOLUTION_EQUIPMENT_AI_CHANCE 
				}
				factor = 0
			}
		}
		
		modifier = {}
		
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = @KMT_SPREAD_REVOLUTION_EQUIPMENT_COST_EFFECT
			}
		}
		
		remove_effect = {
			every_country = {
				limit = {
					has_country_flag = KMT_AFG_former_coloniser_flag
				}
				clr_country_flag = KMT_AFG_former_coloniser_flag
			}
			event_target:KMT_spread_revolution_target_AFG = {
				clr_country_flag = KMT_independence_war_from_spread
				if = {
					limit = {
						NOT = { has_country_flag = KMT_spread_first_time_create_template }
					}
					division_template = {
						name = "Afghan Revolutionaries Army"
						
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
					}
					set_country_flag = KMT_spread_first_time_create_template
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = event_target:KMT_spread_revolution_target_AFG
					}
				}
				every_state = {
					limit = {
						is_core_of = event_target:KMT_spread_revolution_target_AFG
					}
					owner = {
						if = {
							limit = {
								NOT = { 
									has_country_flag = KMT_AFG_former_coloniser_flag 
									tag = ROOT
								}
							}
							event_target:KMT_spread_revolution_target_AFG = {
								declare_war_on = {
									target = PREV
									type = topple_government
								}
							}
							set_variable = { var = KMT_spread_revolution_int_match_check  value = 16 }
							set_country_flag = KMT_AFG_former_coloniser_flag
						}
					}
					event_target:KMT_spread_revolution_target_AFG = {
						hidden_effect = {
							add_ideas = KMT_spread_independence_war
						}
						add_timed_idea = {
							days = 365
							idea = strive_for_independence
						}
						set_variable = { var = KMT_spread_revolution_int_match_check  value = 16 }
						set_country_flag = KMT_independence_war_from_spread
						transfer_state = PREV
						hidden_effect = {
							country_event = { id = kmt.545 }
						}
					}
					create_unit = {
						division = "name = \"Afghan Revolutionaries Army\" division_template = \"Afghan Revolutionaries Army\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_AFG
					}
					create_unit = {
						division = "name = \"Afghan Revolutionaries Army\" division_template = \"Afghan Revolutionaries Army\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_AFG
					}
					create_unit = {
						division = "name = \"Afghan Revolutionaries Army\" division_template = \"Afghan Revolutionaries Army\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_AFG
					}
					create_unit = {
						division = "name = \"Afghan Revolutionaries Army\" division_template = \"Afghan Revolutionaries Army\" start_experience_factor = 0.5" 
						owner = event_target:KMT_spread_revolution_target_AFG
					}
				}
				else = {
					if = {
						limit = {
							event_target:KMT_spread_revolution_target_AFG = {
								NOT = {
									has_government = communism
								}
							}
						}
						event_target:KMT_spread_revolution_target_AFG = { country_event = { id = kmt.539 }}
					}
				}
			}
		}
	}
}

foreign_politics = {
	
	KMT_communists_overthrow_white_peace_window_mission = {

		icon = generic_decision

		allowed = { always = no } 

		available = {
			hidden_trigger = { 
				NOT = {
					any_country = {
						has_war_with = ROOT
					}
				}
			}
		}
		
		visible = {
			has_country_flag = KMT_communists_overthrow_white_peace_window_flag
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				
			}
		}
		
		is_good = yes

		days_mission_timeout = 35

		cancel_if_not_visible = yes
		
		timeout_effect = {
			custom_effect_tooltip = KMT_nolonger_able_to_white_peace_with_countries
			clr_country_flag = KMT_communists_overthrow_white_peace_window_flag
			remove_mission = KMT_communists_overthrow_white_peace_window_mission
		}
	}

	KMT_white_peace_with_from = {
		allowed = { original_tag = CHI }
		icon = generic_decision
		
		cost = 1
		days_remove = 0
		
		visible = {
			has_country_flag = KMT_communists_overthrow_white_peace_window_flag
			FROM = {
				has_war_with = ROOT
				NOT = {
					has_country_flag = KMT_rejected_spread_peace
				}
			}
		}
		
		ai_will_do = {
			base = 10
			modifier = {
				FROM = {
					surrender_progress > 0.5
				}
				factor = 0.25
			}
			modifier = {
				FROM = {
					surrender_progress > 0.75
				}
				factor = 0
			}
		}
		
		target_trigger = {
			FROM = {
				NOT = {
					original_tag = ROOT
				}
				has_war_with = ROOT
				NOT = {
					has_country_flag = KMT_rejected_spread_peace
				}
			}
		}
		
		complete_effect = {
			FROM = {
				country_event = { id = kmt.540 }
			}
		}
	}

	KMT_seek_peace_with_China = {
		icon = generic_decision
		available = {
			has_war_with = FROM
			custom_trigger_tooltip = {
				tooltip = KMT_JAP_seek_peace_with_from_tt
				OR = {
					NOT = {
						any_state = {
							NOT = { state = 524 }
							is_core_of = FROM
							owner = {
								OR = {
									tag = ROOT
									is_subject_of = ROOT
								}
							}
							controller = {
								OR = {
									tag = ROOT
									is_subject_of = ROOT
								}
							}
						}
					}
					NOT = {
						any_state = {
							is_core_of = FROM
							owner = {
								OR = {
									tag = ROOT
									is_subject_of = ROOT
								}
							}
						}
					}
				}
				OR = {
					NOT = {
						any_state = {
							OR = {
								state = 525
								state = 527
							}
							owner = {
								OR = {
									tag = ROOT
									is_subject_of = ROOT
								}
							}
							controller = {
								OR = {
									tag = ROOT
									is_subject_of = ROOT
								}
							}
						}
					}
					NOT = {
						any_state = {
							OR = {
								state = 525
								state = 527
							}
							owner = {
								OR = {
									tag = ROOT
									is_subject_of = ROOT
								}
							}
						}
					}
				}
			}
		}
		
		targets = { PRC CHI }

		target_trigger = {
			FROM = {
				OR = {
					is_faction_leader = yes
					is_in_faction = no
				}
				has_war_with = JAP
			}
			NOT = { has_global_flag = KMT_japan_seeked_peace }
		}

		visible = {
			FROM = {
				surrender_progress < 0.2
				is_puppet = no
				OR = {
					is_faction_leader = yes
					is_in_faction = no
				}
			}
			tag = JAP
			NOT = {
				is_in_faction_with = FROM
			}
			has_war_with = FROM
			any_country = {
				OR = { 
					tag = ROOT
					is_subject_of = ROOT
				}
				any_owned_state = {
					is_in_array = { FROM.KMT_considered_inalienable_parts = THIS }
					NOT = { state = 524 }
				}
			}
		}

		cost = 0

		fire_only_once = yes

		ai_will_do = {
			base = 0
			modifier = {
				has_civil_war = yes
				add = 50
			}
			modifier = {
				FROM = {
					tag = PRC
					is_ai = no
				}
				add = 2
			}
			modifier = {
				FROM = {
					tag = PRC
				}
				has_war_with = CHI
				factor = 0
			}
			modifier = {
				FROM = {
					tag = CHI
					is_ai = no
				}
				add = 10
			}
		}

		complete_effect = {
			set_global_flag = KMT_japan_seeked_peace
			FROM = {
				country_event = { id = sfl.19 }
			}
		}
	}

	KMT_demand_war_cut_losses = {
		icon = generic_decision
		
		visible = {
			OR = {
				AND = {
					FROM = {
						check_variable = { kmt_demand_indochina_war = 2 }
					}
					any_state = {
						OR = {
							state = 671
							state = 670
							state = 286
							state = 741
						}
						OWNER = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				AND = {
					FROM = {
						check_variable = { kmt_demand_steppe_war = 2 }
					}
					any_state = {
						OR = {
							region = 152
							region = 145
						}
						OWNER = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				AND = {
					FROM = {
						check_variable = { kmt_demand_ports_war = 2 }
					}
					any_state = {
						OR = {
							state = 729
							state = 728
							state = 326
							state = 743
						}
						OWNER = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
			}
			FROM = {
				has_war_with = ROOT
			}
		}
		
		cost = 0
		
		available = {
		}

		ai_will_do = {
			base = 0
			modifier = {
				AND = {
					OR = {
						FROM = { check_variable = { kmt_demand_indochina_war = 0 }}
						AND = {
							FROM = { 
								check_variable = { kmt_demand_indochina_war = 2 }
							}
							NOT = {
								any_owned_state = {
									OR = {
										state = 671
										state = 670
										state = 286
										state = 741
									}
									CONTROLLER = { 
										OR = {
											is_in_faction_with = ROOT
											is_subject_of = ROOT
											tag = ROOT
										}
									}
								}
							}
						}
					}
					OR = {
						FROM = { check_variable = { kmt_demand_steppe_war = 0 }}
						AND = {
							FROM = { 
								check_variable = { kmt_demand_steppe_war = 2 }
							}
							NOT = {
								any_owned_state = {
									OR = {
										region = 152
										region = 145
									}
									CONTROLLER = { 
										OR = {
											is_in_faction_with = ROOT
											is_subject_of = ROOT
											tag = ROOT
										}
									}
								}
							}
						}
					}
					OR = {
						FROM = { check_variable = { kmt_demand_ports_war = 0 }}
						AND = {
							FROM = { 
								check_variable = { kmt_demand_ports_war = 2 }
							}
							NOT = {
								any_owned_state = {
									OR = {
										state = 729
										state = 728
										state = 743
										state = 326
									}
									CONTROLLER = { 
										OR = {
											is_in_faction_with = ROOT
											is_subject_of = ROOT
											tag = ROOT
										}
									}
								}
							}
						}
					}
				}
				strength_ratio = {
					tag = FROM
					ratio < 0.7
				}
				add = 10
			}
			modifier = {
				has_country_flag = KMT_has_taken_cut_losses
				factor = 0
			}
		}
		
		target_trigger = {
			FROM = {
				has_war_with = ROOT
				OR = {
					check_variable = { kmt_demand_indochina_war = 2 }
					check_variable = { kmt_demand_steppe_war = 2 }
					check_variable = { kmt_demand_ports_war = 2 }
				}
			}
		}
		
		target_root_trigger = { 
			OR = {
				check_variable = { kmt_demand_indochina_war = 1 }
				check_variable = { kmt_demand_steppe_war = 1 }
				check_variable = { kmt_demand_ports_war = 1 }
			}
		}
		
		days_re_enable = 80

		complete_effect = {
			set_country_flag = KMT_has_taken_cut_losses
			FROM = {
				country_event = { id = kmt.583 }
			}
		}
	}

	KMT_demand_war_demand_peace = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_decision

		visible = {
			OR = {
				has_completed_focus = KMT_demand_soviet_puppets
				has_completed_focus = KMT_demand_indochina
				has_completed_focus = KMT_trade_port_commie_own
			}
			tag = event_target:KMT_central_gov_tag
			FROM = {
				is_subject = no
				has_war_with = ROOT
				OR = {
					any_country = {
						OR = {
							tag = FROM
							is_subject_of = FROM
						}
						OR = {
							owns_state = 619
							owns_state = 287
							owns_state = 759
							owns_state = 760
							owns_state = 617
							owns_state = 618
							owns_state = 330
							owns_state = 329
						}
					}
					any_country = {
						OR = {
							tag = FROM
							is_subject_of = FROM
						}
						OR = {
							owns_state = 671
							owns_state = 670
							owns_state = 741
							owns_state = 286
						}
					}
					any_country = {
						OR = {
							tag = FROM
							is_subject_of = FROM
						}
						OR = {
							owns_state = 729
							owns_state = 728
							owns_state = 326
							owns_state = 743
						}
					}
				}
			}
		}

		cost = 0

		ai_will_do = {
			base = 10
			modifier = {
				has_country_flag = KMT_has_taken_cut_losses2
				factor = 0
			}
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = KMT_holds_no_demanded_terriotories_tt
				AND = {
					FROM = {
						OR = { 
							any_country = {
								OR = {
									tag = FROM
									is_subject_of = FROM
								}
								OR = {
									owns_state = 619
									owns_state = 287
									owns_state = 759
									owns_state = 760
									owns_state = 617
									owns_state = 618
									owns_state = 330
									owns_state = 329
								}
							}
							any_country = {
								OR = {
									tag = FROM
									is_subject_of = FROM
								}
								OR = {
									owns_state = 671
									owns_state = 670
									owns_state = 741
									owns_state = 286
								}
							}
							any_country = {
								OR = {
									tag = FROM
									is_subject_of = FROM
								}
								OR = {
									owns_state = 729
									owns_state = 728
									owns_state = 326
									owns_state = 743
								}
							}
						}
					}
					OR = {
						NOT = {
							any_country = {
								OR = {
									tag = FROM
									is_subject_of = FROM
								}
								OR = {
									owns_state = 671
									owns_state = 670
									owns_state = 741
									owns_state = 286
								}
							}
						}
						AND = {
							any_country = {
								OR = {
									tag = FROM
									is_subject_of = FROM
								}
								OR = {
									owns_state = 671
									owns_state = 670
									owns_state = 741
									owns_state = 286
								}
							}
							check_variable = { kmt_demand_indochina_war = 2 }
							NOT = {
								any_state = {
									OR = {
										state = 671
										state = 670
										state = 286
										state = 741
									}
									OWNER = {
										OR = {
											tag = FROM
											is_subject_of = FROM
										}
									}
									NOT = {
										CONTROLLER = {
											OR = {
												tag = ROOT
												is_subject_of = ROOT
											}
										}
									}
								}
							}
						}
					}
					OR = {
						NOT = {
							any_country = {
								OR = {
									tag = FROM
									is_subject_of = FROM
								}
								OR = {
									owns_state = 619
									owns_state = 287
									owns_state = 759
									owns_state = 760
									owns_state = 617
									owns_state = 618
									owns_state = 330
									owns_state = 329
								}
							}
						}
						AND = {
							any_country = {
								OR = {
									tag = FROM
									is_subject_of = FROM
								}
								OR = {
									owns_state = 619
									owns_state = 287
									owns_state = 759
									owns_state = 760
									owns_state = 617
									owns_state = 618
									owns_state = 330
									owns_state = 329
								}
							}
							check_variable = { kmt_demand_steppe_war = 2 }
							NOT = {
								any_state = {
									OR = {
										region = 152
										region = 145
									}
									OWNER = {
										OR = {
											tag = FROM
											is_subject_of = FROM
										}
									}
									NOT = {
										CONTROLLER = {
											OR = {
												tag = ROOT
												is_subject_of = ROOT
											}
										}
									}
								}
							}
						}
					}
					OR = {
						NOT = {
							any_country = {
								OR = {
									tag = FROM
									is_subject_of = FROM
								}
								OR = {
									owns_state = 729
									owns_state = 728
									owns_state = 326
									owns_state = 743
								}
							}
						}
						AND = {
							any_country = {
								OR = {
									tag = FROM
									is_subject_of = FROM
								}
								OR = {
									owns_state = 729
									owns_state = 728
									owns_state = 326
									owns_state = 743
								}
							}
							check_variable = { kmt_demand_ports_war = 2 }
							NOT = {
								any_state = {
									OR = {
										state = 729
										state = 728
										state = 743
										state = 326
									}
									OWNER = {
										OR = {
											tag = FROM
											is_subject_of = FROM
										}
									}
									NOT = {
										CONTROLLER = {
											OR = {
												tag = ROOT
												is_subject_of = ROOT
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
		
		target_trigger = {
			FROM = {
				is_subject = no
				has_war_with = ROOT
				OR = {
					any_country = {
						OR = {
							tag = FROM
							is_subject_of = FROM
						}
						OR = {
							owns_state = 619
							owns_state = 287
							owns_state = 759
							owns_state = 760
							owns_state = 617
							owns_state = 618
							owns_state = 330
							owns_state = 329
						}
					}
					any_country = {
						OR = {
							tag = FROM
							is_subject_of = FROM
						}
						OR = {
							owns_state = 671
							owns_state = 670
							owns_state = 741
							owns_state = 286
						}
					}
					any_country = {
						OR = {
							tag = FROM
							is_subject_of = FROM
						}
						OR = {
							owns_state = 729
							owns_state = 728
							owns_state = 326
							owns_state = 743
						}
					}
				}
			}
		}
		
		days_re_enable = 80

		complete_effect = {
			set_country_flag = KMT_has_taken_cut_losses2
			FROM = {
				country_event = { id = kmt.577 }
			}
		}
	}
}

KMT_dcat_GER_withdraw_advisor = {
	KMT_GER_withdraw_advisor = {
		allowed = { original_tag = GER }
		icon = generic_break_treaty
		visible = {
			original_tag = GER
			NOT = {
				is_subject_of = CHI
			}
			CHI = {
				has_idea = german_advisors
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				has_opinion = {
					target = CHI
					value < -34
				}
				add = 100
			}
			modifier = {
				CHI = {
					has_government = communism
				}
				NOT = {
					has_government = communism
				}
				add = 1000
			}
			modifier = {
				CHI = {
					NOT = { has_government = communism }
				}
				has_government = communism
				add = 1000
			}
			modifier = {
				has_global_flag = KMT_sino_soviet_neutrality
				any_country = {
					OR = {
						tag = SOV
						tag = CHI
					}
					has_government = communism
				}
				NOT = { has_government = communism }
				add = 1000
			}
			modifier = {
				has_global_flag = GER_JAP_tripartite_pact
				JAP = {
					has_war_with = CHI
					is_major = yes
				}
				add = 100
			}
			modifier = {
				has_war_with = CHI
				add = 10000
			}
			modifier = {
				is_in_faction_with = CHI
				add = -5000
			}
		}
		
		days_re_enable = 0
		days_remove = 0
		
		cost = 0
		
		complete_effect = {
			CHI = {
				if = {
					limit = {
						has_idea = german_advisors
					}
					remove_ideas = german_advisors
				}
				if = {
					limit = {
						has_idea = KMT_sino_german_joint_research_ger_adv
					}
					remove_ideas = KMT_sino_german_joint_research_ger_adv
				}
				if = {
					limit = {
						has_idea = KMT_sino_german_joint_research
					}
					remove_ideas = KMT_sino_german_joint_research
				}
				country_event = { id = kmt.553 }
				remove_opinion_modifier = {
					modifier = sino_german_cooperation
					target = GER
				}
				remove_opinion_modifier = {
					modifier = more_sino_german_coop_trade
					target = GER
				}
				remove_opinion_modifier = {
					modifier = more_sino_german_coop
					target = GER
				}
			}
			remove_opinion_modifier = {
				modifier = sino_german_cooperation
				target = CHI
			}
			remove_opinion_modifier = {
				modifier = more_sino_german_coop_trade
				target = CHI
			}
			remove_opinion_modifier = {
				modifier = more_sino_german_coop
				target = CHI
			}
			effect_tooltip = {
				CHI = {
					if = { 
						limit = { has_unit_leader = 1040 }
						every_unit_leader = {
							limit = { has_id = 1040 }
							set_nationality = GER
						}
					}
				}
			}
		}
	}
	
	KMT_cadet_in_GER_mobile_warfare = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_army_support
		visible = {
			GER = {
				exists = yes
				has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }
				has_tech = mobile_warfare
			}
			has_completed_focus = KMT_falkenhausen_citizenship
		}
		
		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}
		
		days_re_enable = 0
		days_remove = -1
		
		cost = 5
		
		cancel_trigger = {
			OR = {
				NOT = { has_country_flag = KMT_sent_cadet_to_germany }
				NOT = { GER = { has_tech = mobile_warfare }}
				GER = { exists = no }
				GER = { NOT = { has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }}}
			}
		}
		
		modifier = {
			political_power_cost = 0.1
			max_command_power = -5
			experience_gain_army = 0.03
			
			unit_light_armor_design_cost_factor = -0.4
			unit_medium_armor_design_cost_factor = -0.4
			unit_heavy_armor_design_cost_factor = -0.4
			unit_modern_armor_design_cost_factor = -0.4
			unit_super_heavy_armor_design_cost_factor = -0.4
			unit_motorized_design_cost_factor = -0.4
			unit_mechanized_design_cost_factor = -0.4
			
			cat_mobile_warfare_cost_factor = -0.1
			cat_superior_firepower_cost_factor = 0.1
			cat_grand_battle_plan_cost_factor = 0.1
			cat_mass_assault_cost_factor = 0.1
		}
		
		complete_effect = {
			set_country_flag = KMT_sent_cadet_to_germany
		}
		
		cancel_effect = { clr_country_flag = KMT_sent_cadet_to_germany }
	}
	
	KMT_cadet_in_GER_mobile_warfare_recall = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_army_support
		visible = {
			has_country_flag = KMT_sent_cadet_to_germany
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				add = 100
			}
		}
		
		days_re_enable = 0
		days_remove = 0
		
		cost = 5
		
		modifier = {
		}
		
		complete_effect = {
			clr_country_flag = KMT_sent_cadet_to_germany
		}
	}
	
	KMT_cadet_in_GER_superior_firepower = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_army_support
		visible = {
			NOT = { has_idea = KMT_cadet_in_GER_idea_sf }
			GER = {
				exists = yes
				has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }
				has_tech = superior_firepower
			}
			has_completed_focus = KMT_falkenhausen_citizenship
		}
		
		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}
		
		days_re_enable = 0
		days_remove = -1
		
		cost = 5
		
		cancel_trigger = {
			OR = {
				NOT = { has_country_flag = KMT_sent_cadet_to_germany }
				NOT = { GER = { has_tech = superior_firepower }}
				GER = { exists = no }
				GER = { NOT = { has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }}}
			}
		}
		
		modifier = {
			political_power_cost = 0.1
			max_command_power = -5
			experience_gain_army = 0.03
			
			unit_artillery_brigade_design_cost_factor = -0.6
			
			cat_mobile_warfare_cost_factor = 0.1
			cat_superior_firepower_cost_factor = -0.1
			cat_grand_battle_plan_cost_factor = 0.1
			cat_mass_assault_cost_factor = 0.1
		}
		
		complete_effect = {
			set_country_flag = KMT_sent_cadet_to_germany
		}
		
		cancel_effect = { clr_country_flag = KMT_sent_cadet_to_germany }
	}
	
	KMT_cadet_in_GER_grand_battleplan = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_army_support
		visible = {
			NOT = { has_idea = KMT_cadet_in_GER_idea_gb }
			GER = {
				exists = yes
				has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }
				has_tech = trench_warfare
			}
			has_completed_focus = KMT_falkenhausen_citizenship
		}
		
		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}
		
		days_re_enable = 0
		days_remove = -1
		
		cost = 5
		
		cancel_trigger = {
			OR = {
				NOT = { has_country_flag = KMT_sent_cadet_to_germany }
				NOT = { GER = { has_tech = trench_warfare }}
				GER = { exists = no }
				GER = { NOT = { has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }}}
			}
		}
		
		modifier = {
			political_power_cost = 0.1
			max_command_power = -5
			experience_gain_army = 0.03
			
			max_planning = 0.15
			planning_speed = 0.1
			
			cat_mobile_warfare_cost_factor = 0.1
			cat_superior_firepower_cost_factor = 0.1
			cat_grand_battle_plan_cost_factor = -0.1
			cat_mass_assault_cost_factor = 0.1
		}
		
		complete_effect = {
			set_country_flag = KMT_sent_cadet_to_germany
		}
		
		cancel_effect = { clr_country_flag = KMT_sent_cadet_to_germany }
	}
	
	KMT_cadet_in_GER_mass_assault = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_army_support
		visible = {
			NOT = { has_idea = KMT_cadet_in_GER_idea_ma }
			GER = {
				exists = yes
				has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }
				has_tech = mass_assault
			}
			has_completed_focus = KMT_falkenhausen_citizenship
		}
		
		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}
		
		days_re_enable = 0
		days_remove = -1
		
		cost = 5
		
		cancel_trigger = {
			OR = {
				NOT = { has_country_flag = KMT_sent_cadet_to_germany }
				NOT = { GER = { has_tech = mass_assault }}
				GER = { exists = no }
				GER = { NOT = { has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }}}
			}
		}
		
		modifier = {
			political_power_cost = 0.1
			max_command_power = -5
			experience_gain_army = 0.03
			
			unit_infantry_design_cost_factor = -0.2
			command_abilities_cost_factor = -0.25
			
			cat_mobile_warfare_cost_factor = 0.1
			cat_superior_firepower_cost_factor = 0.1
			cat_grand_battle_plan_cost_factor = 0.1
			cat_mass_assault_cost_factor = -0.1
		}
		
		complete_effect = {
			set_country_flag = KMT_sent_cadet_to_germany
		}
		
		cancel_effect = { clr_country_flag = KMT_sent_cadet_to_germany }
	}
	
	
	KMT_cadet_in_GER_fleet_in_being = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_naval
		visible = {
			NOT = { has_country_flag = KMT_sent_naval_cadet_to_germany }
			GER = {
				exists = yes
				has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }
				has_tech = fleet_in_being
			}
			has_completed_focus = KMT_falkenhausen_citizenship
		}
		
		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}
		
		days_re_enable = 0
		days_remove = -1
		
		cost = 5
		
		cancel_trigger = {
			OR = {
				NOT = { has_country_flag = KMT_sent_naval_cadet_to_germany }
				NOT = { GER = { has_tech = fleet_in_being }}
				GER = { exists = no }
				GER = { NOT = { has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }}}
			}
		}
		
		modifier = {
			political_power_cost = 0.1
			max_command_power = -5
			experience_gain_navy = 0.03
			
			ship_hull_heavy_design_cost_factor = -0.5
			
			cat_fleet_in_being_cost_factor = -0.1
			cat_trade_interdiction_cost_factor = 0.1
			cat_base_strike_cost_factor = 0.1
		}
		
		complete_effect = {
			set_country_flag = KMT_sent_naval_cadet_to_germany
		}
		
		cancel_effect = { clr_country_flag = KMT_sent_naval_cadet_to_germany }
	}
	
	KMT_cadet_in_GER_fleet_in_being_recall = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_naval
		visible = {
			has_country_flag = KMT_sent_naval_cadet_to_germany
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				add = 100
			}
		}
		
		days_re_enable = 0
		days_remove = 0
		
		cost = 5
		
		modifier = {
		}
		
		complete_effect = {
			clr_country_flag = KMT_sent_naval_cadet_to_germany
		}
	}
	
	
	KMT_cadet_in_GER_trade_interdiction = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_naval
		visible = {
			NOT = { has_country_flag = KMT_sent_naval_cadet_to_germany }
			GER = {
				exists = yes
				has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }
				has_tech = trade_interdiction
			}
			has_completed_focus = KMT_falkenhausen_citizenship
		}
		
		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}
		
		days_re_enable = 0
		days_remove = -1
		
		cost = 5
		
		cancel_trigger = {
			OR = {
				NOT = { has_country_flag = KMT_sent_naval_cadet_to_germany }
				NOT = { GER = { has_tech = trade_interdiction }}
				GER = { exists = no }
				GER = { NOT = { has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }}}
			}
		}
		
		modifier = {
			political_power_cost = 0.1
			max_command_power = -5
			experience_gain_navy = 0.03
			
			ship_hull_submarine_design_cost_factor = -0.5
			
			cat_fleet_in_being_cost_factor = 0.1
			cat_trade_interdiction_cost_factor = -0.1
			cat_base_strike_cost_factor = 0.1
		}
		
		complete_effect = {
			set_country_flag = KMT_sent_naval_cadet_to_germany
		}
		
		cancel_effect = { clr_country_flag = KMT_sent_naval_cadet_to_germany }
	}
	
	KMT_cadet_in_GER_base_strike = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_naval
		visible = {
			NOT = { has_country_flag = KMT_sent_naval_cadet_to_germany }
			GER = {
				exists = yes
				has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }
				has_tech = base_strike
			}
			has_completed_focus = KMT_falkenhausen_citizenship
		}
		
		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}
		
		days_re_enable = 0
		days_remove = -1
		
		cost = 5
		
		cancel_trigger = {
			OR = {
				NOT = { has_country_flag = KMT_sent_naval_cadet_to_germany }
				NOT = { GER = { has_tech = trade_interdiction }}
				GER = { exists = no }
				GER = { NOT = { has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }}}
			}
		}
		
		modifier = {
			political_power_cost = 0.1
			max_command_power = -5
			experience_gain_navy = 0.03
			
			ship_hull_carrier_design_cost_factor = -0.5
			
			cat_fleet_in_being_cost_factor = 0.1
			cat_trade_interdiction_cost_factor = 0.1
			cat_base_strike_cost_factor = -0.1
		}
		
		complete_effect = {
			set_country_flag = KMT_sent_naval_cadet_to_germany
		}
		
		cancel_effect = { clr_country_flag = KMT_sent_naval_cadet_to_germany }
	}
	
	KMT_cadet_in_GER_strategic_destruction = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_air
		visible = {
			NOT = { has_country_flag = KMT_sent_air_cadet_to_germany }
			GER = {
				exists = yes
				has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }
				has_tech = air_superiority
			}
			has_completed_focus = KMT_falkenhausen_citizenship
		}
		
		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}
		
		days_re_enable = 0
		days_remove = -1
		
		cost = 5
		
		cancel_trigger = {
			OR = {
				NOT = { has_country_flag = KMT_sent_air_cadet_to_germany }
				NOT = { GER = { has_tech = trade_interdiction }}
				GER = { exists = no }
				GER = { NOT = { has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }}}
			}
		}
		
		modifier = {
			political_power_cost = 0.1
			max_command_power = -5
			experience_gain_air = 0.03
			
			air_strategic_bomber_bombing_factor = 0.1
			
			cat_strategic_destruction_cost_factor = -0.1
			cat_battlefield_support_cost_factor = 0.1
			cat_operational_integrity_cost_factor = 0.1
		}
		
		complete_effect = {
			set_country_flag = KMT_sent_air_cadet_to_germany
		}
		
		cancel_effect = { clr_country_flag = KMT_sent_air_cadet_to_germany }
	}
	
	KMT_cadet_in_GER_strategic_destruction_recall = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_air
		visible = {
			has_country_flag = KMT_sent_air_cadet_to_germany
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				add = 100
			}
		}
		
		days_re_enable = 0
		days_remove = 0
		
		cost = 5
		
		modifier = {
		}
		
		complete_effect = {
			clr_country_flag = KMT_sent_air_cadet_to_germany
		}
	}
	
	KMT_cadet_in_GER_battlefield_support = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_air
		visible = {
			NOT = { has_country_flag = KMT_sent_air_cadet_to_germany }
			GER = {
				exists = yes
				has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }
				has_tech = formation_flying
			}
			has_completed_focus = KMT_falkenhausen_citizenship
		}
		
		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}
		
		days_re_enable = 0
		days_remove = -1
		
		cost = 5
		
		cancel_trigger = {
			OR = {
				NOT = { has_country_flag = KMT_sent_air_cadet_to_germany }
				NOT = { GER = { has_tech = trade_interdiction }}
				GER = { exists = no }
				GER = { NOT = { has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }}}
			}
		}
		
		modifier = {
			political_power_cost = 0.1
			max_command_power = -5
			experience_gain_air = 0.03
			
			air_cas_efficiency = 0.1
			
			cat_strategic_destruction_cost_factor = 0.1
			cat_battlefield_support_cost_factor = -0.1
			cat_operational_integrity_cost_factor = 0.1
		}
		
		complete_effect = {
			set_country_flag = KMT_sent_air_cadet_to_germany
		}
		
		cancel_effect = { clr_country_flag = KMT_sent_air_cadet_to_germany }
	}
	
	KMT_cadet_in_GER_operation_integrity = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_air
		visible = {
			NOT = { has_country_flag = KMT_sent_air_cadet_to_germany }
			GER = {
				exists = yes
				has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }
				has_tech = force_rotation
			}
			has_completed_focus = KMT_falkenhausen_citizenship
		}
		
		ai_will_do = {
			base = 1000
			modifier = {
				political_power_daily < 0.1
				has_political_power < 10
				factor = 0
			}
		}
		
		days_re_enable = 0
		days_remove = -1
		
		cost = 5
		
		cancel_trigger = {
			OR = {
				NOT = { has_country_flag = KMT_sent_air_cadet_to_germany }
				NOT = { GER = { has_tech = trade_interdiction }}
				GER = { exists = no }
				GER = { NOT = { has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }}}
			}
		}
		
		modifier = {
			political_power_cost = 0.1
			max_command_power = -5
			experience_gain_air = 0.03
			
			air_mission_efficiency = 0.05
			
			cat_strategic_destruction_cost_factor = 0.1
			cat_battlefield_support_cost_factor = -0.1
			cat_operational_integrity_cost_factor = 0.1
		}
		
		complete_effect = {
			set_country_flag = KMT_sent_air_cadet_to_germany
		}
		
		cancel_effect = { clr_country_flag = KMT_sent_air_cadet_to_germany }
	}
}

KMT_dcat_seek_foreign_supports = {
	KMT_foreign_supports = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		activation = {
			tag = event_target:KMT_central_gov_tag
			is_puppet = no
			has_defensive_war_with = JAP
			has_capitulated = no
			any_country = {
				has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }
			}
			OR = {
				has_idea = KMT_burma_road_idea
				has_idea = KMT_ledo_road_idea
				has_idea = KMT_the_hump_idea
				has_idea = KMT_yunnan_bahn_idea
			}
		}
		
		available = {
			OR = {
				is_subject = yes
				NOT = {
					has_defensive_war_with = JAP
				}
				has_capitulated = yes
				NOT = {
					any_country = {
						has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }
					}
				}
				NOT = {
					has_idea = KMT_burma_road_idea
					has_idea = KMT_ledo_road_idea
					has_idea = KMT_the_hump_idea
					has_idea = KMT_yunnan_bahn_idea
				}
			}
		}
		
		days_mission_timeout = 30

		cancel_if_not_visible = yes
		is_good = yes
		
		timeout_effect = {
			foreign_supply_effect = yes
		}
	}

	KMT_seek_foreign_support_GER = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = {
			GER = {
				exists = yes
				is_puppet = no
			}
			has_completed_focus = KMT_increase_sino_german_cooperation
		}
		
		available = {
			if = {
				limit = { has_idea = KMT_trautmann_peace }
				SOV = { NOT = { has_government = communism }}
			}
			NOT = {
				GER = {
					has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }
				}
			}
			OR = {
				has_government = neutrality
				is_in_faction_with = GER
				GER = {
					OR = {
						same_ideo_with_ROOT = yes
						has_government = neutrality
						has_opinion = {
							target = ROOT
							value > 94
						}
					}
				}
			}
			NOT = {
				has_war_with = GER
			}
			GER = {
				has_opinion = {
					target = ROOT
					value > -31
				}
				exists = yes
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		ai_will_do = {
			base = 0
		}
		
		cost = 100
		
		days_re_enable = 365
		
		complete_effect = {
			custom_effect_tooltip = KMT_365_days_cd_tt
			
			GER = {
				country_event = { id = kmt.332 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				GER = {
					add_opinion_modifier = {
						target = ROOT
						modifier = more_sino_german_coop
					}
				}
				add_opinion_modifier = {
					target = GER
					modifier = more_sino_german_coop
				}
				if = {
					limit = {
						has_idea = german_advisors
					}
					swap_ideas = {
						remove_idea = german_advisors
						add_idea = KMT_sino_german_joint_research_ger_adv
					}
					else = {
						add_ideas = KMT_sino_german_joint_research
					}
				}
			}
		}
	}

	KMT_seek_foreign_support_SOV = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = {
			SOV = {
				exists = yes
				is_puppet = no
			}
			has_completed_focus = KMT_sino_soviet_non_agression_pact
		}
		
		available = {
			if = {
				limit = { has_idea = KMT_trautmann_peace }
				SOV = { NOT = { has_government = communism }}
			}
			NOT = {
				SOV = {
					has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }
				}
			}
			OR = {
				has_government = neutrality
				is_in_faction_with = SOV
				SOV = {
					OR = {
						same_ideo_with_ROOT = yes
						has_government = neutrality
						has_opinion = {
							target = ROOT
							value > 94
						}
					}
					
				}
			}
			NOT = {
				has_war_with = SOV
			}
			SOV = {
				has_opinion = {
					target = ROOT
					value > -31
				}
				exists = yes
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		ai_will_do = {
			base = 0
		}
		
		cost = 100
		
		days_re_enable = 365
		
		complete_effect = {
			custom_effect_tooltip = KMT_365_days_cd_tt
			
			SOV = {
				country_event = { id = kmt.407 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				SOV = {
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
						active = yes
					}
					add_opinion_modifier = { target = ROOT modifier = KMT_SOV_neutrality_pact }
				}
				diplomatic_relation = {
					country = SOV
					relation = non_aggression_pact
					active = yes
				}
				add_opinion_modifier = { modifier = KMT_SOV_neutrality_pact target = SOV}
			}
		}
	}

	KMT_seek_foreign_support_FRA = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = {
			FRA = {
				exists = yes
				is_puppet = no
			}
			has_completed_focus = KMT_closer_tie_with_fra
		}
		
		available = {
			if = {
				limit = { has_idea = KMT_trautmann_peace }
				FRA = { NOT = { has_government = communism }}
			}
			NOT = {
				FRA = {
					has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }
				}
			}
			OR = {
				has_government = neutrality
				is_in_faction_with = FRA
				FRA = {
					OR = {
						same_ideo_with_ROOT = yes
						has_government = neutrality
						has_opinion = {
							target = ROOT
							value > 94
						}
					}
					
				}
			}
			NOT = {
				has_war_with = FRA
			}
			FRA = {
				has_opinion = {
					target = ROOT
					value > -31
				}
				exists = yes
				is_puppet = no
			}
			FRA = {
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		ai_will_do = {
			base = 0
		}
		
		cost = 100
		
		days_re_enable = 365
		
		complete_effect = {
			custom_effect_tooltip = KMT_365_days_cd_tt
			
			FRA = {
				country_event = { id = kmt.500 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				add_opinion_modifier = {
					modifier = KMT_offered_assistance
					target = FRA
				}
				diplomatic_relation = {
					country = FRA
					relation = non_aggression_pact
					active = yes
				}
				FRA = {
					add_opinion_modifier = {
						modifier = KMT_offered_assistance
						target = ROOT
					}
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
						active = yes
					}
				}
			}
		}
	}

	KMT_seek_foreign_support_ENG = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = {
			ENG = {
				exists = yes
				is_puppet = no
			}
			has_completed_focus = KMT_closer_tie_with_eng
		}
		
		available = {
			if = {
				limit = { has_idea = KMT_trautmann_peace }
				ENG = { NOT = { has_government = communism }}
			}
			NOT = {
				ENG = {
					has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }
				}
			}
			OR = {
				has_government = neutrality
				is_in_faction_with = ENG
				ENG = {
					OR = {
						same_ideo_with_ROOT = yes
						has_government = neutrality
						has_opinion = {
							target = ROOT
							value > 94
						}
					}
					
				}
			}
			NOT = {
				has_war_with = ENG
			}
			ENG = {
				has_opinion = {
					target = ROOT
					value > -31
				}
				exists = yes
				is_puppet = no
			}
			ENG = {
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		ai_will_do = {
			base = 0
		}
		
		cost = 100
		
		days_re_enable = 365
		
		complete_effect = {
			custom_effect_tooltip = KMT_365_days_cd_tt
			
			ENG = {
				country_event = { id = kmt.500 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				add_opinion_modifier = {
					modifier = KMT_offered_assistance
					target = ENG
				}
				diplomatic_relation = {
					country = ENG
					relation = non_aggression_pact
					active = yes
				}
				ENG = {
					add_opinion_modifier = {
						modifier = KMT_offered_assistance
						target = ROOT
					}
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
						active = yes
					}
				}
			}
		}
	}

	KMT_seek_foreign_support_USA = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = {
			USA = {
				exists = yes
				is_puppet = no
				NOT = { check_variable = { KMT_no_more_support@ROOT = 1}}
			}
			has_completed_focus = KMT_closer_tie_with_usa
		}
		
		available = {
			if = {
				limit = { has_idea = KMT_trautmann_peace }
				USA = { NOT = { has_government = communism }}
			}
			NOT = {
				USA = {
					has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }
				}
			}
			OR = {
				has_government = neutrality
				is_in_faction_with = USA
				USA = {
					OR = {
						same_ideo_with_ROOT = yes
						has_government = neutrality
						has_opinion = {
							target = ROOT
							value > 94
						}
					}
					
				}
			}
			NOT = {
				has_war_with = USA
			}
			USA = {
				has_opinion = {
					target = ROOT
					value > -31
				}
				exists = yes
				is_puppet = no
			}
			USA = {
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		ai_will_do = {
			base = 0
		}
		
		cost = 100
		
		days_re_enable = 365
		
		complete_effect = {
			custom_effect_tooltip = KMT_365_days_cd_tt
			
			USA = {
				country_event = { id = kmt.500 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				add_opinion_modifier = {
					modifier = KMT_offered_assistance
					target = USA
				}
				diplomatic_relation = {
					country = USA
					relation = non_aggression_pact
					active = yes
				}
				USA = {
					add_opinion_modifier = {
						modifier = KMT_offered_assistance
						target = ROOT
					}
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
						active = yes
					}
				}
			}
		}
	}

	KMT_seek_foreign_support_JAP = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = {
			JAP = {
				exists = yes
				is_puppet = no
			}
			has_completed_focus = KMT_closer_tie_with_jap
			NOT = { has_completed_focus = KMT_our_own_fascism }
		}
		
		available = {
			if = {
				limit = { has_idea = KMT_trautmann_peace }
				JAP = { NOT = { has_government = communism }}
			}
			NOT = {
				JAP = {
					has_relation_modifier = { modifier = KMT_industrial_assistance target = ROOT }
				}
			}
			OR = {
				has_government = neutrality
				is_in_faction_with = JAP
				JAP = {
					OR = {
						same_ideo_with_ROOT = yes
						has_government = neutrality
						has_opinion = {
							target = ROOT
							value > 94
						}
					}
				}
			}
			NOT = {
				has_war_with = JAP
			}
			JAP = {
				has_opinion = {
					target = ROOT
					value > -31
				}
				exists = yes
				is_puppet = no
			}
			JAP = {
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		ai_will_do = {
			base = 0
		}
		
		cost = 100
		
		days_re_enable = 365
		
		complete_effect = {
			custom_effect_tooltip = KMT_365_days_cd_tt
			
			JAP = {
				country_event = { id = kmt.500 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				add_opinion_modifier = {
					modifier = KMT_offered_assistance
					target = JAP
				}
				diplomatic_relation = {
					country = JAP
					relation = non_aggression_pact
					active = yes
				}
				JAP = {
					add_opinion_modifier = {
						modifier = KMT_offered_assistance
						target = ROOT
					}
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
						active = yes
					}
				}
			}
		}
	}
}

KMT_dcat_oust_the_colonisers = {

	KMT_free_from_from_colonisers = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = { 
			capital_scope = { is_on_continent = asia }
			FROM = {
				is_subject = yes
				OVERLORD = {
					capital_scope = {
						NOT = { is_on_continent = asia }
					}
				}
			}
			is_subject = no
		}
		
		available = {
			FROM = {
				has_war_with = ROOT
				has_capitulated = yes
				any_owned_state = {
					CONTROLLER = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
						}
					}
				}
			}
		}
		
		target_trigger = { 
			FROM = {
				capital_scope = { is_on_continent = asia }
				is_subject = yes
				OVERLORD = {
					capital_scope = {
						NOT = { is_on_continent = asia }
					}
				}
			}
		}
		
		cost = 50
		
		ai_will_do = {
			base = 10
		}
		
		complete_effect = {
			add_to_faction = FROM
			puppet = FROM
			FROM = { 
				annex_country = { target = FROM transfer_troops = yes }
				country_event = { id = kmt.624 }
			}
		}
	}

	KMT_war_on_colonisers = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = { 
			FROM = {
				NOT = {
					tag = ROOT
					is_in_faction_with = ROOT
					is_subject_of = ROOT
					has_war_with = ROOT
				}
			}
			OR = {
				any_country = {
					capital_scope = { is_on_continent = asia }
					OVERLORD = {
						tag = FROM
						capital_scope = { NOT = { is_on_continent = asia }}
					}
				}
				FROM = {
					NOT = { tag = SOV }
					capital_scope = { NOT = { is_on_continent = asia }}
					any_owned_state = { is_on_continent = asia }
				}
			}
			is_subject = no
		}
		
		available = {
			FROM = {
				NOT = { 
					has_war_with = ROOT
				}
			}
		}
		
		target_trigger = { 
			FROM = {
				NOT = {
					tag = ROOT
					is_in_faction_with = ROOT
					is_subject_of = ROOT
				}
			}
			OR = {
				any_country = {
					capital_scope = { is_on_continent = asia }
					OVERLORD = {
						tag = FROM
						capital_scope = { NOT = { is_on_continent = asia }}
					}
				}
				FROM = {
					NOT = { tag = SOV }
					capital_scope = { NOT = { is_on_continent = asia }}
					any_owned_state = { is_on_continent = asia }
				}
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				strength_ratio = {
					tag = FROM
					ratio > 1.5
				}
				add = 10
			}
		}
		
		cost = 50
		
		war_with_target_on_remove = yes
		
		remove_effect = {
			declare_war_on = {
				target = FROM
				type = topple_government
			}
			FROM = { country_event = { id = kmt.623 }}
		}
	}

	KMT_liberate_colony = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = { 
			FROM = { 
				exists = no 
				capital_scope = { is_on_continent = asia }
			}
			any_state = {
				NOT = { is_core_of = SOV }
				is_core_of = FROM
				is_on_continent = asia
				OWNER = { 
					PREV = { NOT = { is_core_of = THIS }}
				}
				CONTROLLER = {
					OR = { 
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			is_subject = no
		}
		
		available = {
			FROM = {
				exists = no
			}
		}
		
		target_trigger = { 
			FROM = { 
				exists = no 
				capital_scope = { is_on_continent = asia }
			}
			any_state = {
				NOT = { is_core_of = SOV }
				is_core_of = FROM
				is_on_continent = asia
				OWNER = { 
					PREV = { NOT = { is_core_of = THIS }}
				}
				CONTROLLER = {
					OR = { 
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		
		target_non_existing = yes
		
		ai_will_do = {
			base = 10
		}
		
		cost = 50
		
		war_with_target_on_remove = yes
		
		complete_effect = {
			add_war_support = 0.1
			every_controlled_state = {
				limit = { 
					is_core_of = FROM
					is_on_continent = asia
				}
				FROM = { transfer_state = PREV }
			}
			puppet = FROM
		}
	}

	KMT_return_colonised_land = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = { 
			FROM = { 
				exists = yes 
				NOT = { tag = ROOT }
			}
			any_state = {
				is_core_of = FROM
				is_on_continent = asia
				CONTROLLER = {
					OR = { 
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = FROM }
				}
			}
			is_subject = no
		}
		
		available = {
		}
		
		target_trigger = { 
			FROM = {
				exists = yes
				NOT = { tag = ROOT }
			}
			any_state = {
				is_core_of = FROM
				is_on_continent = asia
				CONTROLLER = {
					OR = { 
						tag = ROOT
						is_subject_of = ROOT
					}
					NOT = { tag = FROM }
				}
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				has_war = no
				add = 10
			}
			modifier = {
				FROM = {
					OVERLORD = {
						OR = {
							tag = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
				add = 10
			}
		}
		
		cost = 0
		
		complete_effect = {
			every_controlled_state = {
				limit = { 
					is_core_of = FROM
					is_on_continent = asia
				}
				ROOT = { add_war_support = 0.01 }
				FROM = { transfer_state = PREV }
			}
			FROM = {
			}
		}
	}

	KMT_peace_with_coloniser = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = { 
			FROM = { 
				is_in_faction = no
				has_country_flag = KMT_anti_colonial_target
				has_war_with = ROOT
			}
		}
		
		available = {
			NOT = {
				any_state = {
					CONTROLLER = {
						OR = {
							tag = FROM
							is_subject_of = FROM
						}
					}
					is_on_continent = asia
				}
			}
		}
		
		target_trigger = { 
			FROM = { 
				is_in_faction = no
				has_country_flag = KMT_anti_colonial_target
				has_war_with = ROOT
			}
		}
		
		days_re_enable = 90
		
		ai_will_do = {
			base = 0
		}
		
		cost = 50
		
		complete_effect = {
			if = {
				limit = { 
					any_allied_country = { 
						is_in_faction_with = ROOT 
						has_war_with = FROM
						is_subject = no
					}
				}
				every_country = {
					limit = {
						is_in_faction_with = ROOT 
						has_war_with = FROM
						is_subject = no
					}
					country_event = { id = kmt.626 }
				}
			}else = {
				FROM = { country_event = { id = kmt.629 }}
			}
		}
	}
}

KMT_dcat_presidential_election = {
	KMT_invest_in_presidential_campaign = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = infiltrate_state
		visible = {
			OR = {
				has_completed_focus = KMT_run_for_presidency
				AND = {
					tag = event_target:KMT_central_gov_tag
					any_country = { has_completed_focus = KMT_run_for_presidency }
				}
			}
		}
		
		priority = 1500
		
		available = {
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				check_variable = { KMT_presidential_support < global.KMT_highest_presidential_support }
				add = 10
			}
		}
		
		complete_effect = {
		}
		
		cost = 150
		
		days_remove = 30
		
		remove_effect = {
			add_to_variable = { KMT_presidential_support = 2 }
			custom_effect_tooltip = KMT_presidential_support_p2_tt
			if = {
				limit = { check_variable = { KMT_presidential_support > global.KMT_highest_presidential_support }}
				set_variable = { global.KMT_highest_presidential_support = KMT_presidential_support }
				save_global_event_target_as = KMT_president_elect_tag
			}
		}
	}
	
	KMT_wrest_control_of_state = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = infiltrate_state
		visible = {
			OR = {
				has_completed_focus = KMT_run_for_presidency
				AND = {
					tag = event_target:KMT_central_gov_tag
					any_country = { has_completed_focus = KMT_run_for_presidency }
				}
			}
			NOT = { owns_state = FROM }
			NOT = { is_in_array = { ROOT.KMT_president_supporter_state = FROM }}
		}
		
		target_trigger = {
			#FROM = {
			#	OWNER = {
			#		OR = {
			#			tag = event_target:KMT_central_gov_tag
			#			has_completed_focus = KMT_run_for_presidency
			#		}
			#	}
			#	
			#}
			NOT = { owns_state = FROM }
			NOT = { is_in_array = { ROOT.KMT_president_supporter_state = FROM }}
		}
		
		priority = 1499
		
		on_map_mode = map_only
		
		state_target = yes
		
		target_array = global.KMT_greater_china_region_states
		
		available = {
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				check_variable = { KMT_presidential_support < global.KMT_highest_presidential_support }
				add = 15
			}
			modifier = {
				has_political_power < 60
				political_power_daily < 0.5
				factor = 0
			}
		}
		
		complete_effect = {
		}
		
		cost = 50
		
		modifier = { political_power_cost = 0.1 }
		
		days_remove = 30
		
		remove_effect = {
			custom_effect_tooltip = KMT_get_state_when_president_tt
			add_to_variable = { KMT_presidential_support = 1 }
			custom_effect_tooltip = KMT_presidential_support_p1_tt
			random_country = {
				limit = { is_in_array = { THIS.KMT_president_supporter_state = FROM }} 
				country_event = { id = kmt_powerstruggle.55 }
				remove_from_array = { THIS.KMT_president_supporter_state = FROM }
				custom_effect_tooltip = KMT_from_state_no_support_this_tt
			}
			add_to_array = { ROOT.KMT_president_supporter_state = FROM }
			custom_effect_tooltip = KMT_from_state_now_support_root_tt
			if = {
				limit = { check_variable = { KMT_presidential_support > global.KMT_highest_presidential_support }}
				if = {
					limit = { event_target:KMT_president_elect_tag = { NOT = { tag = ROOT }}}
					event_target:KMT_president_elect_tag = { country_event = { id = kmt_powerstruggle.58 }}
				}
				set_variable = { global.KMT_highest_presidential_support = KMT_presidential_support }
				save_global_event_target_as = KMT_president_elect_tag
			}
		}
	}
}
	
political_actions = {
	
	KMT_hold_constitutional_assembly = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		priority = 100
		icon = hol_radio_oranje
		visible = {
			tag = event_target:KMT_central_gov_tag
			NOT = { has_global_flag = KMT_new_constitution_available }
		}
		
		priority = 1000
		
		available = {
			custom_trigger_tooltip = {
				tooltip = KMT_representatives_are_ready
				OR = {
					date > 1937.11.12
					has_global_flag = KMT_constitutional_assembly_representatives_ok
				}
			}
			has_war = no
		}
		
		ai_will_do = {
			base = 100
		}
		
		cost = 100
		
		days_remove = 30
		
		complete_effect = {
		}
		
		cancel_if_not_visible = yes
		
		remove_effect = {
			set_global_flag = KMT_new_constitution_available
			country_event = { id = kmt.680 }
		}
		
		cancel_effect = { add_political_power = 100 }
		
		modifier = {
		}
	}
	
	KMT_lift_military_embargo = {
		icon = generic_industry
		visible = {
			tag = event_target:KMT_ccw_negotiator
			any_country = { has_idea = KMT_us_military_embargo }
		}
		
		priority = 1000
		
		available = {
			any_country = { 
				has_idea = KMT_us_military_embargo
				NOT = { has_war_with = ROOT }
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				NOT = { has_government = communism }
				any_country = {
					has_idea = KMT_us_military_embargo
					OR = {
						has_government = ROOT
						surrender_progress > 0.75
					}
				}
				add = 100
			}
			modifier = {
				has_government = communism
				any_country = {
					has_idea = KMT_us_military_embargo
					has_government = communism
					ROOT = { has_opinion = { target = PREV value > 5 }}
				}
				add = 100
			}
		}
		
		cost = 10
		
		days_remove = 5
		
		complete_effect = {
		}
		
		remove_effect = {
			every_country = {
				limit = { has_idea = KMT_us_military_embargo }
				remove_ideas = KMT_us_military_embargo
				country_event = { id = kmtccw.54 }
			}
		}
		modifier = {
		}
	}
	
	KMT_loyalist_join_central = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = infiltrate_state
		visible = {
			has_completed_focus = KMT_devote_to_the_party_and_state
			has_completed_focus = KMT_tighter_military_cooperation
			is_subject = no
			event_target:KMT_central_gov_tag = { 
				is_subject = no 
				exists = yes 
				has_war = yes
			}
		}
		
		priority = 1000
		
		available = {
			OR = {
				has_war = no
				has_war_together_with = event_target:KMT_central_gov_tag
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				add = KMT_central_gov_tag.surrender_progress
			}
			modifier = {
				any_country = {
					is_major = yes
					has_war_with = event_target:KMT_central_gov_tag
				}
				factor = 2
			}
			modifier = {
				date < 1937.12.1
				factor = 0
			}
		}
		
		complete_effect = {
			event_target:KMT_central_gov_tag = {
				puppet = ROOT
				country_event = { id = kmt.668 }
			}
		}
		
		modifier = {
		}
	}
	EHA_join_central = {
		allowed = { tag = EHA }
		icon = infiltrate_state
		visible = {
			tag = EHA
			has_country_leader = {
				character = EHA_zhang_qingyu
				ruling_only = yes
			}
			is_subject = no
			event_target:KMT_central_gov_tag = { 
				is_subject = no 
				exists = yes 
			}
		}
		
		priority = 1000
		
		available = {
			any_country = {
				has_war_with = event_target:KMT_central_gov_tag
				has_war_with = ROOT
			}
			NOT = { has_war_with = event_target:KMT_central_gov_tag }
		}
		
		ai_will_do = {
			base = 100
		}
		
		complete_effect = {
			event_target:KMT_central_gov_tag = {
				EHA = {
					EHA_zhang_qingyu = { set_nationality = PREV.PREV }
					EHA_zhang_yantian = { set_nationality = PREV.PREV }
				}
				annex_country = { target = ROOT transfer_troops = yes }
				country_event = { id = kmt.667 }
			}
		}
		
		modifier = {
		}
	}
	KMT_align_with_the_central_government_neutrality = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_decision
		visible = {
			has_completed_focus = KMT_officials_screening
			event_target:KMT_central_gov_tag = { has_government = neutrality }
		}
		
		priority = 1000
		
		available = {
			event_target:KMT_central_gov_tag = {
				exists = yes
				NOT = { has_war_with = ROOT }
				is_subject = no
			}
			neutrality < 1
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				event_target:KMT_central_gov_tag = { has_government = neutrality }
				NOT = { has_government = neutrality }
				neutrality < 0.75
				add = 10
			}
		}
		
		complete_effect = {
		}
		
		days_remove = 30
		
		cancel_if_not_visible = yes
		
		modifier = {
			political_power_cost = 0.5
			neutrality_drift = 1
		}
	}
	KMT_align_with_the_central_government_fascism = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		name = KMT_align_with_the_central_government_neutrality
		icon = generic_decision
		visible = {
			has_completed_focus = KMT_officials_screening
			event_target:KMT_central_gov_tag = { has_government = fascism }
		}
		
		priority = 1000
		
		available = {
			event_target:KMT_central_gov_tag = {
				exists = yes
				NOT = { has_war_with = ROOT }
				is_subject = no
			}
			fascism < 1
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				event_target:KMT_central_gov_tag = { has_government = fascism }
				NOT = { has_government = fascism }
				fascism < 0.75
				add = 10
			}
		}
		
		complete_effect = {
		}
		
		days_remove = 30
		
		cancel_if_not_visible = yes
		
		modifier = {
			political_power_cost = 0.5
			fascism_drift = 1
		}
	}
	KMT_align_with_the_central_government_communism = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		name = KMT_align_with_the_central_government_neutrality
		icon = generic_decision
		visible = {
			has_completed_focus = KMT_officials_screening
			event_target:KMT_central_gov_tag = { has_government = communism }
		}
		
		priority = 1000
		
		available = {
			event_target:KMT_central_gov_tag = {
				exists = yes
				NOT = { has_war_with = ROOT }
				is_subject = no
			}
			communism < 1
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				event_target:KMT_central_gov_tag = { has_government = communism }
				NOT = { has_government = communism }
				communism < 0.75
				add = 10
			}
		}
		
		complete_effect = {
		}
		
		days_remove = 30
		
		cancel_if_not_visible = yes
		
		modifier = {
			political_power_cost = 0.5
			communism_drift = 1
		}
	}
	KMT_align_with_the_central_government_democratic = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		name = KMT_align_with_the_central_government_neutrality
		icon = generic_decision
		visible = {
			has_completed_focus = KMT_officials_screening
			event_target:KMT_central_gov_tag = { has_government = democratic }
		}
		
		priority = 1000
		
		available = {
			event_target:KMT_central_gov_tag = {
				exists = yes
				NOT = { has_war_with = ROOT }
				is_subject = no
			}
			democratic < 1
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				event_target:KMT_central_gov_tag = { has_government = democratic }
				NOT = { has_government = democratic }
				democratic < 0.75
				add = 10
			}
		}
		
		complete_effect = {
		}
		
		days_remove = 30
		
		cancel_if_not_visible = yes
		
		modifier = {
			political_power_cost = 0.5
			democratic_drift = 1
		}
	}
	
	KMT_administrative_reform = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_decision
		visible = {
			has_completed_focus = KMT_officials_screening
			NOT = {
				custom_trigger_tooltip = {
					tooltip = KMT_has_same_ideo_with_cg_tt
					event_target:KMT_central_gov_tag = { has_government = ROOT }
				}
			}
		}
		
		priority = 1000
		
		available = {
			if = {
				limit = { event_target:KMT_central_gov_tag = { has_government = neutrality }}
				neutrality > 0.75
			}
			if = {
				limit = { event_target:KMT_central_gov_tag = { has_government = communism }}
				communism > 0.75
			}
			if = {
				limit = { event_target:KMT_central_gov_tag = { has_government = fascism }}
				fascism > 0.75
			}
			if = {
				limit = { event_target:KMT_central_gov_tag = { has_government = democratic }}
				democratic > 0.75
			}
		}
		
		cost = 75
		
		ai_will_do = {
			base = 100
		}
		
		complete_effect = {
			
		}
		
		days_remove = 20
		
		modifier = {
			political_power_cost = 1
		}
		
		remove_effect = {
			if = {
				limit = { event_target:KMT_central_gov_tag = { has_government = neutrality }}
				KMT_warlord_move_leader_to_neutrality = yes
				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
				}
			}else_if = {
				limit = { event_target:KMT_central_gov_tag = { has_government = communism }}
				KMT_warlord_move_leader_to_communism = yes
				set_politics = {
					ruling_party = communism
					elections_allowed = no
				}
			}else_if = {
				limit = { event_target:KMT_central_gov_tag = { has_government = fascism }}
				KMT_warlord_move_leader_to_fascism = yes
				set_politics = {
					ruling_party = fascism
					elections_allowed = no
				}
			}else = {
				KMT_warlord_move_leader_to_democratic = yes
				set_politics = {
					ruling_party = democratic
					elections_allowed = no
				}
			}
		}
	}
	
	KMT_communist_propaganda_campaign = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = eng_propaganda_campaigns
		visible = {
			has_completed_focus = KMT_contact_communists
		}
		
		priority = 1000
		
		available = {
		}
		
		cost = 10
		
		ai_will_do = {
			base = 10
			modifier = {
				communism > 0.75
				factor = 0
			}
		}
		
		complete_effect = {
			
		}
		
		days_remove = KMT_warlord_commie_propaganda_duration
		
		modifier = {
			political_power_cost = 0.1
			communism_drift = 0.1
		}
		
		remove_effect = {
		}
	}
	
	KMT_permit_expansion_of_communist_activities = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_speech
		visible = {
			OR = {
				has_idea = KMT_local_communist_activities
				has_idea = KMT_local_communist_activities2
			}
		}
		
		priority = 1000
		
		available = {
		}
		
		cost = 75
		
		ai_will_do = {
			base = 10
			modifier = {
				communism > 0.75
				factor = 0
			}
		}
		
		complete_effect = {
			if = {
				limit = { has_idea = KMT_local_communist_activities2 }
				swap_ideas = {
					remove_idea = KMT_local_communist_activities2
					add_idea = KMT_local_communist_activities3
				}
			}else = {
				swap_ideas = {
					remove_idea = KMT_local_communist_activities
					add_idea = KMT_local_communist_activities2
				}
			}
		}
	}
	
	KMT_attract_foreign_comrades = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_military
		visible = {
			OR = {
				has_completed_focus = KMT_contact_communists
				has_completed_focus = KMT_lift_persecution_on_communists
			}
		}
		
		priority = 1000
		
		available = {
			has_completed_focus = KMT_contact_communists
			has_completed_focus = KMT_lift_persecution_on_communists
		}
		
		cost = 50
		
		ai_will_do = {
			base = 10
			modifier = {
				communism > 0.75
				factor = 0
			}
		}
		
		complete_effect = {
		}
		
		cancel_trigger = {
			NOT = {
				has_completed_focus = KMT_contact_communists
				has_completed_focus = KMT_lift_persecution_on_communists
			}
		}
		
		days_remove = 30
		
		modifier = { political_power_cost = 0.05 }
		
		remove_effect = {
			add_popularity = { ideology = communism popularity = 0.05 }
		}
	}
	
	KMT_adopt_communist_administration = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = SOV_the_stalin_constitution
		visible = {
			OR = {
				has_completed_focus = KMT_contact_communists
				has_completed_focus = KMT_lift_persecution_on_communists
			}
		}
		
		priority = 1000
		
		available = {
			#has_completed_focus = KMT_welcome_communist_advisors
		}
		
		cost = 50
		
		ai_will_do = {
			base = 0
			modifier = {
				event_target:KMT_central_gov_tag = {
					strength_ratio = {
						tag = ROOT
						ratio < 0.7
					}
				}
				add = 10
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					event_target:KMT_central_gov_tag = {
						OR = {
							has_government = fascism
							has_government = neutrality
						}
					}
				}
				#event and wargoal
				event_target:KMT_central_gov_tag = { }
			}
			KMT_warlord_move_leader_to_communism = yes
			set_politics = {
				ruling_party = communism
				elections_allowed = no
			}
		}
		
		cancel_trigger = {
		}
		
		
		remove_effect = {
		}
	}
	
	KMT_no_more_trautmann_peace = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = infiltrate_state
		visible = {
			has_idea = KMT_trautmann_peace
		}
		
		priority = 1000
		
		available = {
			has_global_flag = {
				flag = KMT_trautmann_success_flag
				days > 200
			}
			strength_ratio = {	
				tag = JAP
				ratio > 1
			}
			custom_trigger_tooltip = {
				tooltip = KMT_more_factory_than_japan
				set_temp_variable = { JAP.factories_threshold = JAP.num_of_factories }
				multiply_temp_variable = { JAP.factories_threshold = 0.75 }
				check_variable = { ROOT.num_of_factories > JAP.factories_threshold }
			}
		}
		
		ai_will_do = {
			base = 25
		}
		
		complete_effect = {
			remove_ideas = KMT_trautmann_peace
			if = {
				limit = { has_idea = KMT_reparation_to_jap }
				remove_ideas = KMT_reparation_to_jap
			}
			JAP = {
				country_event = { id = kmt.647 }
				create_wargoal = {
					target = ROOT
					type = puppet_wargoal_focus
				}
			}
		}
	}
	
	KMT_back_to_nanking = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = infiltrate_state
		visible = {
			tag = event_target:KMT_central_gov_tag
			event_target:KMT_central_gov_capital_state = {
				NOT = { state = 613 }
			}
		}
		
		available = {
			event_target:KMT_central_gov_capital_state = {
				NOT = { state = 613 }
			}
			owns_state = 613
			has_full_control_of_state = 613
		}
		
		priority = 1000
		
		ai_will_do = {
			base = 10
			modifier = {
				tag = PRC
				factor = 0
			}
			modifier = {
				has_war = yes
				factor = 0
			}
		}
		
		complete_effect = {
			set_capital = { state = 613 }
			613 = {
				save_global_event_target_as = KMT_central_gov_capital_state
			}
			if = {
				limit = { has_country_flag = KMT_chungking_capital }
				add_victory_points = {
				  province = 6999
				  value = -20
				}
				add_victory_points = {
				  province = 11913
				  value = 20
				}
			}else_if = {
				limit = { has_country_flag = KMT_wuhan_capital }
				add_victory_points = {
				  province = 4619
				  value = -20
				}
				add_victory_points = {
				  province = 11913
				  value = 20
				}
			}
		}
	}
	
	KMT_men_join_jap = {
		allowed = { tag = MEN }
		visible = {
			tag = MEN
			NOT = { 
				is_subject_of = JAP 
				is_in_faction_with = JAP 
			}
			is_valid_power_struggle_participant = yes
			country_exists = JAP
			JAP = { 
				has_government = fascism 
				has_civil_war = no
			}
		}
		
		priority = 1000
		
		available = {
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				add = 100
				OR = {
					check_variable = { KMT_ps_loyalty@KMT_central_gov_tag < -60 }
					fascism > 0.75
					has_government = fascism
				}
			}
		}
		
		fire_only_once = yes
		
		complete_effect = {
			JAP = {
				country_event = { id = jap.75 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				JAP = {
					puppet = ROOT
				}
				if = {
					limit = {
						country_exists = ECR
					}
					MEN = {
						annex_country = {
							target = ECR
						}
						add_to_war = {
							targeted_alliance = JAP
							enemy = event_target:KMT_central_gov_tag
						}
					}
					937 = {
						remove_core_of = ECR
					}
				}
				if = {
					limit = {
						NOT = {
							has_government = fascism
						}
					}
					set_politics = {
						ruling_party = fascism
					}
				}
				MEN_Yondonwangchug = { promote_character = { ideology = rexism }}
			}
		}
	}

	KMT_demand_indochina_decision = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		
		icon = generic_decision
		
		visible = {
			has_completed_focus = KMT_demand_indochina
			FROM = {
				is_subject = no
				OR = {
					owns_state = 967
					owns_state = 972
					owns_state = 971
					owns_state = 670
					owns_state = 671
					owns_state = 970
					owns_state = 969
					owns_state = 741
					owns_state = 968
					owns_state = 286
				}
				any_subject_country = {
					OR = {
						owns_state = 967
						owns_state = 972
						owns_state = 971
						owns_state = 670
						owns_state = 671
						owns_state = 970
						owns_state = 969
						owns_state = 741
						owns_state = 968
						owns_state = 286
					}
				}
			}
		}
		
		priority = 900
		
		target_trigger = {
			FROM = {
				is_subject = no
				OR = {
					owns_state = 967
					owns_state = 972
					owns_state = 971
					owns_state = 670
					owns_state = 671
					owns_state = 970
					owns_state = 969
					owns_state = 741
					owns_state = 968
					owns_state = 286
				}
				any_subject_country = {
					OR = {
						owns_state = 967
						owns_state = 972
						owns_state = 971
						owns_state = 670
						owns_state = 671
						owns_state = 970
						owns_state = 969
						owns_state = 741
						owns_state = 968
						owns_state = 286
					}
				}
			}
		}
		
		available = {
			NOT = {
				has_war_with = FROM
			}
			is_subject = no
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				has_army_manpower = {
					size > 2499999
				}
				add = 10
			}
		}
		
		cost = 25
		
		days_re_enable = 90
		
		complete_effect = {
			FROM = {
				country_event = { id = kmt.56 }
			}
		}
	}
	
	KMT_demand_steppe_decision = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		
		icon = generic_decision
		
		visible = {
			has_completed_focus = KMT_demand_soviet_puppets
			FROM = {
				is_subject = no
				OR = {
					owns_state = 819
					owns_state = 330
					owns_state = 820
					owns_state = 817
					owns_state = 818
					owns_state = 329
					owns_state = 618
					owns_state = 617
					owns_state = 948
					owns_state = 947
					owns_state = 760
					owns_state = 951
					owns_state = 619
					owns_state = 287
					owns_state = 759
					owns_state = 960
				}
				any_subject_country = {
					OR = {
						owns_state = 819
						owns_state = 330
						owns_state = 820
						owns_state = 817
						owns_state = 818
						owns_state = 329
						owns_state = 618
						owns_state = 617
						owns_state = 948
						owns_state = 947
						owns_state = 760
						owns_state = 951
						owns_state = 619
						owns_state = 287
						owns_state = 759
						owns_state = 960
					}
				}
			}
		}
		
		target_trigger = {
			FROM = {
				is_subject = no
				OR = {
					owns_state = 819
					owns_state = 330
					owns_state = 820
					owns_state = 817
					owns_state = 818
					owns_state = 329
					owns_state = 618
					owns_state = 617
					owns_state = 948
					owns_state = 947
					owns_state = 760
					owns_state = 951
					owns_state = 619
					owns_state = 287
					owns_state = 759
					owns_state = 960
				}
				any_subject_country = {
					OR = {
						owns_state = 819
						owns_state = 330
						owns_state = 820
						owns_state = 817
						owns_state = 818
						owns_state = 329
						owns_state = 618
						owns_state = 617
						owns_state = 948
						owns_state = 947
						owns_state = 760
						owns_state = 951
						owns_state = 619
						owns_state = 287
						owns_state = 759
						owns_state = 960
					}
				}
			}
		}
		
		available = {
			NOT = {
				has_war_with = FROM
			}
			is_subject = no
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				has_army_manpower = {
					size > 2499999
				}
				add = 10
			}
		}
		
		priority = 900
		
		cost = 25
		
		days_re_enable = 90
		
		complete_effect = {
			FROM = {
				country_event = { id = kmt.52 }
			}
		}
	}
	
	KMT_war_on_communists = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_operation
		
		visible = {
			check_variable = { global.PRC_steal_equip_busted > 0 }
			country_exists = PRC
			is_in_faction_with = PRC
			NOT = { has_war_with = PRC }
			tag = event_target:KMT_central_gov_tag
		}
		
		priority = 958
		
		cost = 50
		
		days_remove = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 0
			modifier = {
				check_variable = { global.PRC_steal_equip_busted > 2 }
				add = 100
			}
		}
		
		complete_effect = {
			add_stability = -0.1
			add_war_support = -0.5
			hidden_effect = {
				remove_from_faction = PRC
			}
			declare_war_on = {
				target = PRC
				type = civil_war
			}
			hidden_effect = {
				every_unit_leader = {
					set_unit_leader_flag = KMT_no_defect
				}
			}
			transfer_units_fraction = {
				target = PRC                   
				stockpile_ratio = 0.3
				army_ratio = 0.3  
				navy_ratio = 0.2     	
				air_ratio = 0.2      
				keep_unit_leaders_trigger = { 
					has_unit_leader_flag = KMT_no_defect
				}
			}
			random_character = {
				limit = { has_character_flag = PRC_potential_defectors }
				set_nationality = PRC
			}
			random_character = {
				limit = { has_character_flag = PRC_potential_defectors }
				set_nationality = PRC
			}
			random_character = {
				limit = { has_character_flag = PRC_potential_defectors }
				set_nationality = PRC
			}
			random_character = {
				limit = { has_character_flag = PRC_potential_defectors }
				set_nationality = PRC
			}
			random_character = {
				limit = { has_character_flag = PRC_potential_defectors }
				set_nationality = PRC
			}
		}
	}
}

KMT_dcat_chinese_ports = {

	KMT_chinese_ports_demand = {	#macau
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = {
			has_country_flag = KMT_can_demand_ports
			NOT = {
				has_country_flag = KMT_demanded_decision
			}
		}
		
		available = {
			NOT = {
				AND = {
					owns_state = 729 
					owns_state = 728 
					owns_state = 326 
					owns_state = 743 
				}
			}
			custom_trigger_tooltip = {
				tooltip = kmt_china_unified_tt
				check_variable = { global.warlord_counts = 0 }
			}
			custom_trigger_tooltip = {
				tooltip = KMT_peace_with_port_owner
				NOT = {
					any_country = {
						OR = {
							owns_state = 729
							owns_state = 728
							owns_state = 326
							owns_state = 743
						}
						has_war_with = ROOT
					}
				}
			}
		}
		
		ai_will_do = {
			base = 5
		}
		
		complete_effect = {
			set_country_flag = KMT_demanded_decision
			every_other_country = {
				limit = {
					OR = {
						owns_state = 728
						owns_state = 729
						owns_state = 326
						owns_state = 743
					}
					NOT = {
						has_war_with = ROOT
					}
				}
				country_event = { id = kmt.100 }
			}
		}
	}

	KMT_chinese_ports_border_war_729 = {	#macau
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = {
			has_country_flag = KMT_can_demand_ports_fascism
			NOT = {
				owns_state = 729 
				has_country_flag = KMT_occupy_729_flag
			}
			FROM = {
				owns_state = 729
			}
		}
		
		cancel_trigger = {
			divisions_in_border_state = {
				state = 592
				border_state = 729
				size < 1
			}
		}
		
		available = {
			NOT = {
				owns_state = 729 
			}
			custom_trigger_tooltip = {
				tooltip = kmt_china_unified_tt
				check_variable = { global.warlord_counts = 0 }
			}
			custom_trigger_tooltip = {
				tooltip = kmt_controls_china_proper_tt
				NOT = {
					any_state = {
						OR = {
							region = 165
							region = 164
							region = 143
							region = 244
							region = 247
							region = 248
							region = 246
							region = 281
							region = 280
							region = 250
							region = 249
							region = 282
							region = 245
						}
						NOT = {
							state = 729
							state = 728
							state = 326
							state = 743
						}
						NOT = { is_owned_by = ROOT }
					}
				}
			}
			divisions_in_border_state = {
				state = 592
				border_state = 729
				size > 0
			}
			has_full_control_of_state = 592
			729 = {
				OWNER = {
					NOT = {
						has_war_with = ROOT
					}
				}
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				FROM = {
					has_stability < 0.2
				}
				add = 15
			}
		}

		highlight_states = {
			highlight_state_targets = {
			state = 729
		}		}
		
		cost = 50
		
		
		target_trigger = {
			FROM = {
				owns_state = 729
			}
		}
		
		remove_effect = {
			set_country_flag = KMT_occupy_729_flag
			hidden_effect = {
				if = {
					limit = {
						FROM = {
							divisions_in_state = {
								state = 729
								size < 1
							}
						}
					}
					729 = { save_global_event_target_as = KMT_no_div_temp_port }
					FROM = { country_event = { id = kmt.593 }}
				}
			}
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = 592
					num_provinces = 5
					on_win = kmt.585
					on_lose = kmt.586
					on_cancel = kmt.587
				}
				
				defender = {
					state = 729
					num_provinces = 5
					on_win = kmt.585
					on_lose = kmt.586
					on_cancel = kmt.587
				}
			}
		}
	}

	KMT_chinese_ports_border_war_728 = {	#gzw
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = {
			has_country_flag = KMT_can_demand_ports_fascism
			NOT = {
				owns_state = 728 
				has_country_flag = KMT_occupy_728_flag
			}
			FROM = {
				owns_state = 728
			}
		}
		
		cancel_trigger = {
			divisions_in_border_state = {
				state = 959
				border_state = 728
				size < 1
			}
		}
		
		available = {
			NOT = {
				owns_state = 728 
			}
			custom_trigger_tooltip = {
				tooltip = kmt_china_unified_tt
				check_variable = { global.warlord_counts = 0 }
			}
			custom_trigger_tooltip = {
				tooltip = kmt_controls_china_proper_tt
				NOT = {
					any_state = {
						OR = {
							region = 165
							region = 164
							region = 143
							region = 244
							region = 247
							region = 248
							region = 246
							region = 281
							region = 280
							region = 250
							region = 249
							region = 282
							region = 245
						}
						NOT = {
							state = 729
							state = 728
							state = 326
							state = 743
						}
						NOT = { is_owned_by = ROOT }
					}
				}
			}
			divisions_in_border_state = {
				state = 959
				border_state = 728
				size > 0
			}
			has_full_control_of_state = 959
			728 = {
				OWNER = {
					NOT = {
						has_war_with = ROOT
					}
				}
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				FROM = {
					has_stability < 0.2
				}
				add = 15
			}
		}

		highlight_states = {
			highlight_state_targets = {
			state = 728
		}		}
		
		cost = 50
		
		
		target_trigger = {
			FROM = {
				owns_state = 728
			}
		}
		
		remove_effect = {
			set_country_flag = KMT_occupy_728_flag
			hidden_effect = {
				if = {
					limit = {
						FROM = {
							divisions_in_state = {
								state = 728
								size < 1
							}
						}
					}
					728 = { save_global_event_target_as = KMT_no_div_temp_port }
					FROM = { country_event = { id = kmt.593 }}
				}
			}
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = 959
					num_provinces = 5
					on_win = kmt.585
					on_lose = kmt.586
					on_cancel = kmt.587
				}
				
				defender = {
					state = 728
					num_provinces = 5
					on_win = kmt.585
					on_lose = kmt.586
					on_cancel = kmt.587
				}
			}
		}
	}

	KMT_chinese_ports_border_war_326 = {	#hong kong
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = {
			has_country_flag = KMT_can_demand_ports_fascism
			NOT = {
				owns_state = 326 
				has_country_flag = KMT_occupy_326_flag
			}
			FROM = {
				owns_state = 326
			}
		}
		
		cancel_trigger = {
			divisions_in_border_state = {
				state = 593
				border_state = 326
				size < 1
			}
		}
		
		available = {
			NOT = {
				owns_state = 326 
			}
			custom_trigger_tooltip = {
				tooltip = kmt_china_unified_tt
				check_variable = { global.warlord_counts = 0 }
			}
			custom_trigger_tooltip = {
				tooltip = kmt_controls_china_proper_tt
				NOT = {
					any_state = {
						OR = {
							region = 165
							region = 164
							region = 143
							region = 244
							region = 247
							region = 248
							region = 246
							region = 281
							region = 280
							region = 250
							region = 249
							region = 282
							region = 245
						}
						NOT = {
							state = 729
							state = 728
							state = 326
							state = 743
						}
						NOT = { is_owned_by = ROOT }
					}
				}
			}
			divisions_in_border_state = {
				state = 326
				border_state = 593
				size > 0
			}
			has_full_control_of_state = 593
			326 = {
				OWNER = {
					NOT = {
						has_war_with = ROOT
					}
				}
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				FROM = {
					has_stability < 0.2
				}
				add = 15
			}
		}

		highlight_states = {
			highlight_state_targets = {
			state = 326
		}		}
		
		cost = 50
		
		
		target_trigger = {
			FROM = {
				owns_state = 326
			}
		}
		
		remove_effect = {
			set_country_flag = KMT_occupy_326_flag
			hidden_effect = {
				if = {
					limit = {
						FROM = {
							divisions_in_state = {
								state = 326
								size < 1
							}
						}
					}
					326 = { save_global_event_target_as = KMT_no_div_temp_port }
					FROM = { country_event = { id = kmt.593 }}
				}
			}
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = 593
					num_provinces = 5
					on_win = kmt.585
					on_lose = kmt.586
					on_cancel = kmt.587
				}
				
				defender = {
					state = 326
					num_provinces = 5
					on_win = kmt.585
					on_lose = kmt.586
					on_cancel = kmt.587
				}
			}
		}
	}

	KMT_chinese_ports_border_war_743 = {	#tsingtao
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = {
			has_country_flag = KMT_can_demand_ports_fascism
			NOT = {
				owns_state = 743 
				has_country_flag = KMT_occupy_743_flag
			}
			FROM = {
				owns_state = 743
			}
		}
		
		cancel_trigger = {
			divisions_in_border_state = {
				state = 597
				border_state = 743
				size < 1
			}
		}
		
		available = {
			NOT = {
				owns_state = 743 
			}
			custom_trigger_tooltip = {
				tooltip = kmt_china_unified_tt
				check_variable = { global.warlord_counts = 0 }
			}
			custom_trigger_tooltip = {
				tooltip = kmt_controls_china_proper_tt
				NOT = {
					any_state = {
						OR = {
							region = 165
							region = 164
							region = 143
							region = 244
							region = 247
							region = 248
							region = 246
							region = 281
							region = 280
							region = 250
							region = 249
							region = 282
							region = 245
						}
						NOT = {
							state = 729
							state = 728
							state = 326
							state = 743
						}
						NOT = { is_owned_by = ROOT }
					}
				}
			}
			divisions_in_border_state = {
				state = 597
				border_state = 743
				size > 0
			}
			has_full_control_of_state = 597
			743 = {
				OWNER = {
					NOT = {
						has_war_with = ROOT
					}
				}
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				FROM = {
					has_stability < 0.2
				}
				add = 15
			}
		}

		highlight_states = {
			highlight_state_targets = {
			state = 743
		}		}
		
		cost = 50
		
		
		target_trigger = {
			FROM = {
				owns_state = 743
			}
		}
		
		remove_effect = {
			set_country_flag = KMT_occupy_743_flag
			hidden_effect = {
				if = {
					limit = {
						FROM = {
							divisions_in_state = {
								state = 743
								size < 1
							}
						}
					}
					743 = { save_global_event_target_as = KMT_no_div_temp_port }
					FROM = { country_event = { id = kmt.593 }}
				}
			}
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = 592
					num_provinces = 5
					on_win = kmt.585
					on_lose = kmt.586
					on_cancel = kmt.587
				}
				
				defender = {
					state = 743
					num_provinces = 5
					on_win = kmt.585
					on_lose = kmt.586
					on_cancel = kmt.587
				}
			}
		}
	}

}

KMT_dcat_chinese_civil_war = {

	KMTccw_break_negotiation = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_ignite_civil_war
		
		visible = {
			OR = {
				AND = {
					OR = {
						has_active_mission = KMTccw_negotiate_mission1
						has_active_mission = KMTccw_negotiate_mission2
						has_active_mission = KMTccw_national_constitutional_assembly
					}
					NOT = { has_global_flag = KMT_ccw_broken_negotiation } 
				}
				AND = {
					has_active_mission = KMTccw_negotiate_mission3
					NOT = { has_global_flag = KMT_ccw_broken_negotiation2 } 
				}
			}
			OR = {
				tag = PRC
				tag = event_target:KMT_central_gov_tag
			}
			PRC = {	is_subject = no }
			event_target:KMT_central_gov_tag = { is_subject = no }
		}
		
		ai_will_do = { base = 0 }
		
		complete_effect = {
			clr_global_flag = PRC_attend_constitutional_assembly
			remove_ideas = KMT_ccw_ceasefire
			every_country = {
				limit = { has_idea = KMT_ccw_ceasefire }
				remove_ideas = KMT_ccw_ceasefire
			}
			every_country = {
				limit = { any_state = { has_dynamic_modifier = { modifier = KMT_ccw_ceasefire_state_dm scope = PREV }}}
				every_state = {
					limit = { has_dynamic_modifier = { modifier = KMT_ccw_ceasefire_state_dm scope = PREV }}
					remove_dynamic_modifier = { modifier = KMT_ccw_ceasefire_state_dm scope = PREV }
				}
			}
#			every_country = {
#				limit = { any_country = { has_relation_modifier = { target = PREV modifier = KMT_ccw_cease_fire }}}
#				every_country = {
#					limit = { has_relation_modifier = { target = PREV modifier = KMT_ccw_cease_fire }}
#					remove_relation_modifier = { target = PREV modifier = KMT_ccw_cease_fire }
#				}
#			}
			if = {
				limit = { tag = PRC }
				event_target:KMT_central_gov_tag = { country_event = { id = kmtccw.12 }}
				event_target:KMT_ccw_negotiator = { country_event = { id = kmtccw.13 }}
			}else = {
				PRC = { country_event = { id = kmtccw.12 }}
				event_target:KMT_ccw_negotiator = { country_event = { id = kmtccw.4 }}
			}
			set_global_flag = KMT_ccw_broken_negotiation
			set_global_flag = KMT_ccw_broken_negotiation2
			hidden_effect = { news_event = { id = kns.52 }}
		}
	}

	KMTccw_negotiate_mission1 = {
		activation = { always = no }
		
		priority = 200
		
		icon = infiltrate_state
		
		available = {
			OR = {
				PRC = { NOT = { has_war_with = event_target:KMT_central_gov_tag }}
				PRC = { is_subject = yes }
				PRC = { has_completed_focus = PRC_found_our_nation }
				event_target:KMT_central_gov_tag = { is_subject = yes }
				has_global_flag = KMT_ccw_broken_negotiation
			}
		}
		
		is_good = yes
		
		days_mission_timeout = 10
		
		complete_effect = {
		}
		
		timeout_effect = {
			effect_tooltip = { activate_mission = KMTccw_negotiate_mission2 }
			event_target:KMT_central_gov_tag = { country_event = { id = kmtccw.6 }}
		}
	}
	
	#political consultative conference
	KMTccw_negotiate_mission2 = {
		activation = { always = no }
		
		icon = generic_political_discourse
		
		priority = 200
		available = {
			OR = {
				PRC = { NOT = { has_war_with = event_target:KMT_central_gov_tag }}
				PRC = { is_subject = yes }
				PRC = { has_completed_focus = PRC_found_our_nation }
				event_target:KMT_central_gov_tag = { is_subject = yes }
				has_global_flag = KMT_ccw_broken_negotiation
				has_country_flag = PRC_ccw_withdrawn_from_pcc
			}
		}
		
		is_good = yes
		
		days_mission_timeout = 40
		
		complete_effect = {
		}
		
		timeout_effect = {
			#country_event = { id = kmtccw.9 }
			activate_mission = KMTccw_national_constitutional_assembly
			if = {
				limit = { PRC = { NOT = { has_country_flag = PRC_ccw_withdrawn_from_pcc }}}
				activate_mission = KMTccw_military_reorganisation
			}
			event_target:KMT_central_gov_tag = { set_country_flag = KMT_ccw_cg }
			hidden_effect = {
				country_event = { id = kmtccw.28 days = 30 }
				country_event = { id = kmtccw.31 days = 70 }
			}
		}
	}

	KMTccw_national_constitutional_assembly = {
		activation = { always = no }
		
		icon = eng_trade_unions_support
		
		priority = 200
		available = {
			OR = {
				has_global_flag = KMT_cna_failed
				event_target:KMT_central_gov_tag = {
					OR = {
						is_subject = yes
						has_government = fascism
						has_government = communism
					}
				}
			}
		}
		
		is_good = yes
		
		days_mission_timeout = 90
		
		complete_effect = {
		}
		
		timeout_effect = {
			if = {
				limit = { 
					NOT = { 
						has_global_flag = PRC_attend_constitutional_assembly 
						has_global_flag = KMT_constitutional_assembly_delayed
					}
				}
				country_event = { id = kmtccw.37 }
				if = {
					limit = { tag = event_target:KMT_central_gov_tag }
					activate_mission = KMTccw_national_constitutional_assembly
					PRC = { activate_mission = KMTccw_national_constitutional_assembly }
				}else = {
					activate_mission = KMTccw_national_constitutional_assembly
					event_target:KMT_central_gov_tag = { activate_mission = KMTccw_national_constitutional_assembly }
				}
				#add_days_mission_timeout = {
				#	mission = KMTccw_national_constitutional_assembly
				#	days = 90
				#}
				set_global_flag = KMT_constitutional_assembly_delayed
			}else = {
				country_event = { id = kmtccw.38 }
			}
			#PRC = { country_event = { id = kmtccw.9 }}
			#event_target:KMT_central_gov_tag = { set_country_flag = KMT_ccw_cg }
		}
	}

	KMTccw_military_reorganisation = {
		activation = { always = no }
		
		icon = generic_military
		
		priority = 200
		available = {
			OR = {
				PRC = { NOT = { has_war_with = event_target:KMT_central_gov_tag }}
				PRC = { is_subject = yes }
				PRC = { has_completed_focus = PRC_found_our_nation }
				PRC = { has_country_flag = PRC_ccw_withdrawn_from_pcc }
				event_target:KMT_central_gov_tag = { is_subject = yes }
				has_global_flag = KMT_ccw_broken_negotiation
				has_global_flag = PRC_ccw_withdrawn_from_military_reorg
			}
		}
		
		is_good = yes
		
		days_mission_timeout = 540
		
		complete_effect = {
		}
		
		timeout_effect = {
			delete_unit = { disband = yes }
			set_variable = { KMT_reorganised_army_att_base = 0.25 }
			set_variable = { KMT_reorganised_army_def_base = 0.25 }
			set_variable = { KMT_reorganised_army_breakthru_base = 0.25 }
			set_variable = { KMT_reorganised_army_org_base = 0.25 }
			set_variable = { KMT_reorganised_army_morale_base = 0.25 }
			set_variable = { KMT_reorganised_army_reinforce_rate_base = 0.10 }
			add_dynamic_modifier = { modifier = KMT_reorganised_army }
			if = {
				limit = { tag = PRC }
				load_oob = "PRC_reorganised"
			}else = {
				load_oob = "CHI_reorganised_central_gov"
				if = {
					limit = { owns_state = 524 }
					load_oob = "CHI_reorganised_central_gov_has_taiwan"
				}else = {
					load_oob = "CHI_reorganised_central_gov_no_taiwan"
				}
				if = {
					limit = { owns_state = 617 }
					load_oob = "CHI_reorganised_central_gov_has_sinkiang"
				}else = {
					load_oob = "CHI_reorganised_central_gov_no_sinkiang"
				}
			}
			if = {
				limit = { NOT = { tag = PRC }}
				every_other_country = {
					limit = {
						is_chinese_nations_w_HYQ = yes
						NOT = {
							tag = PRC
							tag = event_target:KMT_central_gov_tag
						}
					}
					country_event = { id = kmt.687 }
				}
			}
		}
	}

	KMTccw_negotiate_mission3 = {
		activation = { always = no }
		
		icon = generic_political_discourse
		
		priority = 200
		available = {
			OR = {
				PRC = { NOT = { has_war_with = event_target:KMT_central_gov_tag }}
				PRC = { is_subject = yes }
				event_target:KMT_central_gov_tag = { is_subject = yes }
				has_global_flag = KMT_ccw_broken_negotiation2
			}
		}
		
		is_good = yes
		
		days_mission_timeout = 120
		
		complete_effect = {
			every_country = {
				limit = { any_state = { has_dynamic_modifier = { modifier = KMT_ccw_ceasefire_state_dm scope = PREV }}}
				every_state = {
					limit = { has_dynamic_modifier = { modifier = KMT_ccw_ceasefire_state_dm scope = PREV }}
					remove_dynamic_modifier = { modifier = KMT_ccw_ceasefire_state_dm scope = PREV }
				}
			}
#			every_country = {
#				limit = { any_country = { has_relation_modifier = { target = PREV modifier = KMT_ccw_cease_fire }}}
#				every_country = {
#					limit = { has_relation_modifier = { target = PREV modifier = KMT_ccw_cease_fire }}
#					remove_relation_modifier = { target = PREV modifier = KMT_ccw_cease_fire }
#				}
#			}
		}
		
		timeout_effect = {
			country_event = { id = kmtccw.14 }
			#event_target:KMT_central_gov_tag = { set_country_flag = KMT_ccw_cg2 }
		}
	}
	
	KMTccw_give_seats = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		
		icon = hol_exchange_intelligence_data
		
		fire_only_once = yes
		
		visible = {
			NOT = { tag = PRC }
			has_global_flag = KMT_constitutional_assembly_delayed
			NOT = { has_global_flag = PRC_national_committee_seats_given }
			has_active_mission = KMTccw_national_constitutional_assembly
		}
		
		ai_will_do = { base = 0 }
		
		cost = 100
		
		complete_effect = {
			set_global_flag = PRC_national_committee_seats_given
			add_stability = -0.1
			add_stability = -0.05
			PRC = { country_event = { id = kmtccw.42 }}
		}
	}

	KMTccw_accept_negotiation = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		
		icon = generic_political_discourse
		
		visible = {
			has_global_flag = KMT_negotiate_ceasefire_popped
			has_global_flag = {
				flag = KMTccw_turned_down_first_negotiation
				days < 503
			}
			tag = event_target:KMT_central_gov_tag
			is_subject = no
			has_war_with = PRC
			FROM = {
				exists = yes
				NOT = { has_war_with = ROOT }
				NOT = { has_war_with = PRC }
			}
		}
		
		available = {
			has_global_flag = {
				flag = KMTccw_turned_down_first_negotiation
				days < 500
			}
		}
		
		fire_only_once = yes
		
		target_trigger = {
			FROM = { tag = event_target:KMT_ccw_negotiator }
		}
		
		cost = 10
		
		complete_effect = {
			if = { limit = { has_idea = KMT_us_military_embargo } remove_ideas = KMT_us_military_embargo }
			PRC = { country_event = { id = kmtccw.2 hours = 1 }}
			FROM = { country_event = { id = kmtccw.43 }}
		}
	}

	KMTccw_negotiate_ceasefire = {
		
		icon = hol_exchange_intelligence_data
		visible = {
			has_relation_modifier = { target = event_target:KMT_central_gov_tag modifier = KMT_industrial_assistance }
			event_target:KMT_central_gov_tag = {
				has_war_with = PRC 
			}
			has_global_flag = PRC_restart_CHI_war
			NOT = { has_global_flag = KMT_negotiate_ceasefire_popped }
			NOT = { has_global_flag = KMT_ccw_broken_negotiation }
			PRC = { has_government = communism }
		}
		
		available = {
			event_target:KMT_central_gov_tag = {
				OR = {
					has_government = neutrality
					has_government = democratic
				}
			}
			PRC = {
				num_of_controlled_states > 3
			}
		}
		
		cost = 15
		
		days_remove = 30
		
		cancel_if_not_visible = yes
		
		ai_will_do = {
			base = 0
			modifier = {
				has_government = democratic
				add = 5
			}
			modifier = {
				tag = USA
				has_government = democratic
				add = 25
			}
			modifier = {
				has_government = communism
				is_historical_focus_on = no
				add = 5
			}
			modifier = {
				NOT = { tag = USA }
				is_historical_focus_on = yes
				factor = 0
			}
			modifier = {
				OR = {
					date < 1939.1.1
					event_target:KMT_central_gov_tag = {
						strength_ratio = {
							tag = PRC
							ratio > 1.5
						}
					}
				}
				factor = 0
			}
		}
		
		remove_effect = {
			set_global_flag = KMT_negotiate_ceasefire_popped
			set_country_flag = KMT_ccw_negotiator_flag
			save_global_event_target_as = KMT_ccw_negotiator
			event_target:KMT_central_gov_tag = { country_event = { id = kmtccw.1 }}
		}
	}

	KMTccw_negotiate_ceasefire2 = {
		icon = hol_exchange_intelligence_data
		visible = {
			has_relation_modifier = { target = event_target:KMT_central_gov_tag modifier = KMT_industrial_assistance }
			event_target:KMT_central_gov_tag = { has_war_with = PRC }
			has_global_flag = PRC_restart_CHI_war
			has_country_flag = KMT_ccw_negotiator_flag
			NOT = { has_global_flag = KMT_negotiate_ceasefire_popped2 }
			OR = {
				has_global_flag = KMT_ccw_broken_negotiation
				has_global_flag = KMT_ccw_open_hostility_again
				has_global_flag = {
					flag = KMT_ccw_hostility_resumed_in_manchuria
					days > 10
				}
			}
			NOT = { has_global_flag = KMT_ccw_broken_negotiation2 }
			PRC = { has_government = communism }
		}
		
		available = {
		}
		
		cost = 0
		
		days_remove = 30
		
		cancel_if_not_visible = yes
		
		ai_will_do = {
			base = 0
			modifier = {
				has_government = democratic
				add = 5
			}
			modifier = {
				tag = USA
				has_government = democratic
				add = 25
			}
			modifier = {
				has_government = communism
				is_historical_focus_on = no
				add = 5
			}
			modifier = {
				NOT = { tag = USA }
				is_historical_focus_on = yes
				factor = 0
			}
		}
		
		remove_effect = {
			set_global_flag = KMT_negotiate_ceasefire_popped2
			save_global_event_target_as = KMT_ccw_negotiator
			event_target:KMT_central_gov_tag = { country_event = { id = kmtccw.19 }}
		}
	}

	KMT_resume_hostility_in_manchuria = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_ignite_civil_war
		
		visible = {
			has_idea = KMT_ccw_ceasefire
			OR = {
				tag = PRC
				tag = event_target:KMT_central_gov_tag
			}
			NOT = { has_global_flag = KMT_ccw_hostility_resumed_in_manchuria }
		}
		
		days_remove = 7
		
		ai_will_do = {
			base = 0
			modifier = {
				tag = PRC
				has_global_flag = PRC_ccw_withdrawn_from_military_reorg
				add = 100
			}
		}
		
		complete_effect = {
			if = {
				limit = { tag = PRC }
				event_target:KMT_central_gov_tag = { country_event = { id = kmtccw.44 }}
			}
		}
		
		remove_effect = {
			set_global_flag = KMT_ccw_hostility_resumed_in_manchuria
			every_country = {
				limit = { any_state = { has_dynamic_modifier = { modifier = KMT_ccw_ceasefire_state_dm scope = PREV }}}
				every_state = {
					limit = { 
						OR = {
							region = 155 
							region = 242 
							region = 243 
						}
						has_dynamic_modifier = { modifier = KMT_ccw_ceasefire_state_dm scope = PREV }
					}
					remove_dynamic_modifier = { modifier = KMT_ccw_ceasefire_state_dm scope = PREV }
				}
			}
		}
	}

	KMT_deal_with_PRC = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_prepare_civil_war
		visible = {
			always = no
			tag = event_target:KMT_central_gov_tag
			NOT = {
				has_war_with = PRC
				has_wargoal_against = PRC
			}
			PRC = { 
				exists = yes 
				NOT = { is_puppet_of = event_target:KMT_central_gov_tag }
			}
			JAP = {
				OR = {
					has_completed_focus = JAP_cast_the_die
					has_completed_focus = JAP_support_the_kodoha_faction
					has_completed_focus = JAP_pre_emptive_coup
				}
				has_civil_war = no
			}
		}
		
		available = {
			country_exists = PRC
			PRC = {
				NOT = {
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
		}
		
		custom_cost_trigger = {
			command_power > 49
		}
		
		custom_cost_text = MCK_50cp
		
		complete_effect = {
			hidden_effect = { add_command_power = -50 }
			create_wargoal = {
				target = PRC
				type = civil_war
			}
		}
	}
	
	KMT_join_central = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = {
			event_target:KMT_central_gov_tag = {
				NOT = {
					has_country_flag = KMT_pro_japanese_coup
					has_country_flag = KMT_red_coup_finish
				}
			}
			has_idea = cg_warlords
			NOT = { has_idea = KMT_joined_central_against_prc }
			PRC = {
				has_war_with = event_target:KMT_central_gov_tag
			}
			NOT = {
				has_war_with = event_target:KMT_central_gov_tag
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				PRC = {
					num_of_controlled_states > 5
				}
				add = 10
			}
			modifier = {
				has_global_flag = CHI_warred_with_JAP
				NOT = {
					any_country = {
						is_chinese_nations_w_HYQ = yes
						has_war_with = JAP
					}
				}
				add = 1
			}
			modifier = {
				PRC = {
					has_government = communism
				}
				has_government = communism
				factor = 0
			}
			modifier = {
				original_tag = SIK
				factor = 0
			}
			modifier = {
				tag = MEN
				factor = 0
			}
		}
		
		target_trigger = {
			FROM = {
				tag = event_target:KMT_central_gov_tag
			}
		}
		
		complete_effect = {
			FROM = {
				country_event = { id = kmt.302 }
				add_to_faction = ROOT
			}
			add_to_war = {
				targeted_alliance = FROM
				enemy = PRC
			}
			hidden_effect = {
				add_ideas = KMT_joined_central_against_prc
			}
		}
	}
	
	KMT_join_prc = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = {
			event_target:KMT_central_gov_tag = {
				NOT = {
					has_country_flag = KMT_pro_japanese_coup
					has_country_flag = KMT_red_coup_finish
				}
			}
			has_idea = cg_warlords
			PRC = {
				has_war_with = event_target:KMT_central_gov_tag
			}
			NOT = {
				has_war_with = PRC
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				PRC = {
					has_government = communism
				}
				has_government = communism
				add = 25
			}
			modifier = {
				original_tag = SIK
				add = -100
			}
			modifier = {
				tag = MEN
				add = -100
			}
			modifier = {
				tag = PGR
				add = -20
			}
			modifier = {
				has_completed_focus = KMT_devote_to_the_party_and_state
				factor = 0
			}
		}
		
		target_trigger = {
			FROM = {
				tag = PRC
			}
		}
		
		complete_effect = {
			set_country_flag = KMT_defected_to_PRC
			PRC = {
				country_event = { id = kmt.302 }
				annex_country = {
					target = ROOT
					transfer_troops = yes
				}
			}
			custom_effect_tooltip = GAME_OVER_TT
		}
	}
	
	KMT_fuckem_all = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = {
			event_target:KMT_central_gov_tag = {
				NOT = {
					has_country_flag = KMT_pro_japanese_coup
					has_country_flag = KMT_red_coup_finish
				}
			}
			has_idea = cg_warlords
			PRC = {
				has_war_with = event_target:KMT_central_gov_tag
			}
			OR = {
				NOT = {
					has_war_with = event_target:KMT_central_gov_tag
					has_war_with = PRC
				}
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				strength_ratio = {
					tag = PRC
					ratio > 1.25
				}
				strength_ratio = {
					tag = event_target:KMT_central_gov_tag
					ratio > 1.25
				}
				add = 25
			}
			modifier = {
				strength_ratio = {
					tag = PRC
					ratio > 1.75
				}
				strength_ratio = {
					tag = event_target:KMT_central_gov_tag
					ratio > 1.75
				}
				add = 25
			}
			modifier = {
				original_tag = SIK
				factor = 0
			}
			modifier = {
				tag = MEN
				factor = 0
			}
		}
		
		
		complete_effect = {
			declare_war_on = { target = PRC type = civil_war }
			declare_war_on = { target = event_target:KMT_central_gov_tag type = civil_war }
			every_country = {
				limit = {
					OR = {
						tag = PRC
						tag = event_target:KMT_central_gov_tag
					}
				}
				country_event = { id = kmt.599 }
			}
		}
	}
	
	KMT_retreat_to_taiwan = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = {
			always = no		#obsolete
			owns_state = 524
			OR = {
				has_war_with = PRC
				has_war_with = event_target:KMT_central_gov_tag
			}
			OR = {
				tag = PRC
				tag = event_target:KMT_central_gov_tag
			}
		}
		
		icon = infiltrate_state
		
		ai_will_do = {
			base = 0
			modifier = {
				surrender_progress > 0.85
				add = 5
			}
			modifier = {
				surrender_progress > 0.9
				add = 5
			}
			modifier = {
				capital_scope = { state = 524 }
				add = 5
			}
		}
		
		complete_effect = {
			add_ideas = KMT_retreat_to_taiwan_idea
			add_stability = -0.1
			add_war_support = -0.1
			set_capital = { state = 524 }
			every_state = {
				limit = {
					is_in_array = { ROOT.KMT_considered_inalienable_parts = THIS }
					NOT = { 
						state = 524 
						state = 591
						state = 595 
					}
				}
				if = {
					limit = { NOT = { is_core_of = PRC }}
					force_enable_resistance = {
						clear = no
						occupied = CHI
					}
				}
				set_variable = { KMT_retreat_to_TW@ROOT = 1 }
				remove_core_of = ROOT
				add_claim_by = ROOT
			}
		}
		
		available = {
			surrender_progress > 0.5
		}
	}
	
	KMT_hold_manchuria = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		visible = {
			OR = {
				tag = event_target:KMT_central_gov_tag
				tag = PRC
			}
			OR = {
				has_war_with = event_target:KMT_central_gov_tag
				has_war_with = PRC
			}
			any_controlled_state = {
				OR = {
					region = 155
					region = 242
					region = 243
				}
			}
		}
		
		available = {
			any_controlled_state = {
				OR = {
					custom_trigger_tooltip = {
						tooltip = MCK_region_155_tt
						region = 155
					}
					custom_trigger_tooltip = {
						tooltip = MCK_region_155_tt
						region = 242
					}
					custom_trigger_tooltip = {
						tooltip = MCK_region_155_tt
						region = 243
					}
				}
			}
			NOT = { any_country = { has_idea = KMT_ccw_ceasefire }}
		}
		
		icon = gre_faction_management_category
		
		ai_will_do = {
			base = 0.5
			modifier = {
				any_owned_state = {
					OR = {
						region = 155
						region = 242
						region = 243
					}
					NOT = { is_fully_controlled_by = ROOT }
				}
				add = 25
			}
			modifier = {
				is_historical_focus_on = yes
				tag = event_target:KMT_central_gov_tag
				factor = 0
			}
			modifier = {
				has_global_flag = {
					flag = PRC_restart_CHI_war
					days < 150
				}
				factor = 0
			}
		}
		
		cost = 5
		
		complete_effect = {
			every_state = {
				limit = { 
					OR = {
						region = 155
						region = 242
						region = 243
					} 
				}
				add_dynamic_modifier = {
					modifier = PRC_defend_manchuria
					scope = ROOT
					days = 360
				}
			}
		}
		
		fire_only_once = yes
		
		days_remove = 360
		
		modifier = {
		}
	}
	
	KMT_send_help_to_central = {
	
		icon = generic_industry
		visible = {
			event_target:KMT_central_gov_tag = {
				NOT = {
					has_country_flag = KMT_pro_japanese_coup
					has_country_flag = KMT_red_coup_finish
				}
			}
			FROM = {
				tag = event_target:KMT_central_gov_tag
				has_war_with = PRC
			}
			NOT = {
				has_country_flag = KMT_sent_help
				tag = event_target:KMT_central_gov_tag
				is_chinese_nations_w_HYQ = yes
			}
			is_major = yes
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 0
			modifier = {
				FROM = {
					has_government = ROOT
				}
				add = 10
			}
			modifier = {
				FROM = {
					NOT = { has_government = ROOT }
				}
				add = -10
			}
			modifier = {
				FROM = {
					has_government = ROOT
					surrender_progress > 0.8
				}
				add = 5
			}
			modifier = {
				FROM = {
					is_in_faction_with = ROOT
				}
				add = 25
			}
			modifier = {
				has_opinion = {
					target = FROM
					value < 0
				}
				add = -25
			}
			modifier = {
				has_opinion = {
					target = FROM
					value > 50
				}
				add = 6
			}
			modifier = {
				FROM = { is_major = no }
				add = -10
			}
			modifier = {
				has_government = communism
				factor = 0
			}
		}
		
		fire_only_once = yes
		
		available = {
		}
		
		target_trigger = {
			FROM = {
				tag = event_target:KMT_central_gov_tag
				has_war_with = PRC
			}
		}
		
		complete_effect = {
			set_country_flag = KMT_sent_help
			event_target:KMT_central_gov_tag = { country_event = { id = kmt.594 }}
		}
	}
	
	KMT_send_help_to_commie = {
		icon = generic_industry
		visible = {
			event_target:KMT_central_gov_tag = {
				NOT = {
					has_country_flag = KMT_pro_japanese_coup
					has_country_flag = KMT_red_coup_finish
				}
			}
			FROM = {
				has_war_with = event_target:KMT_central_gov_tag
				tag = PRC
			}
			NOT = {
				has_country_flag = KMT_sent_help
				tag = event_target:KMT_central_gov_tag
				is_chinese_nations_w_HYQ = yes
			}
			is_major = yes
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				FROM = {
					has_government = ROOT
				}
				add = 100
			}
			modifier = {
				FROM = {
					NOT = { has_government = ROOT }
				}
				add = -10
			}
			modifier = {
				FROM = {
					is_in_faction_with = ROOT
				}
				add = 25
			}
			modifier = {
				has_opinion = {
					target = FROM
					value < 0
				}
				add = -25
			}
			modifier = {
				has_opinion = {
					target = FROM
					value > 50
				}
				add = 6
			}
			modifier = {
				FROM = { is_major = no }
				add = -10
			}
		}
		
		fire_only_once = yes
		
		target_trigger = {
			FROM = {
				has_war_with = event_target:KMT_central_gov_tag
				tag = PRC
			}
		}
		
		complete_effect = {
			set_country_flag = KMT_sent_help
			PRC = { country_event = { id = kmt.594 }}
			if = {
				limit = { has_relation_modifier = { modifier = KMT_industrial_assistance target = event_target:KMT_central_gov_tag } }
				remove_relation_modifier = { modifier = KMT_industrial_assistance target = event_target:KMT_central_gov_tag }
				remove_opinion_modifier = {
					modifier = KMT_offered_assistance
					target = CHI
				}
				CHI = {
					remove_opinion_modifier = {
						modifier = KMT_offered_assistance
						target = ROOT
					}
					country_event = { id = kmt.538 }
				}
				if = {
					limit = {
						any_state = {
							controller = {
								OR = {
									tag = ROOT
									is_puppet_of = ROOT
								}
							}
							has_state_flag = CHI_needed_for_hanoi_route
							NOT = { has_state_flag = CHI_hanoi_route_closed_state }
						}
					}
					hidden_effect = {
						every_state = {
							limit = {
								has_state_flag = CHI_needed_for_hanoi_route
								NOT = { has_state_flag = CHI_hanoi_route_closed_state }
								OR = {
									is_controlled_by = ROOT
									CONTROLLER = { is_subject_of = ROOT }
								}
							}
							set_state_flag = CHI_hanoi_route_closed_state
						}
					}
					random_country = {
						#Country that had the route
						limit = { 
							OR = {
								has_idea = KMT_yunnan_bahn_idea
								has_idea = KMT_yunnan_bahn_idea_closed
							}
						}
						country_event = { id = kmt_fsr.10 }
						custom_effect_tooltip = close_hanoi_route_explanation # Prints the contents of the CHI_hanoi_route_current_level variable
					}
				}
				if = {
					limit = {
						any_state = {
							controller = {
								OR = {
									tag = ROOT
									is_puppet_of = ROOT
								}
							}
							has_state_flag = CHI_the_hump_closed_state
							NOT = { has_state_flag = CHI_the_hump_closed_state }
						}
					}
					hidden_effect = {
						every_state = {
							limit = {
								has_state_flag = CHI_needed_for_the_hump
								NOT = { has_state_flag = CHI_the_hump_closed_state }
								OR = {
									is_controlled_by = ROOT
									CONTROLLER = { is_subject_of = ROOT }
								}
							}
							set_state_flag = CHI_the_hump_closed_state
						}
					}
					random_country = {
						#Country that had the route
						limit = { 
							OR = {
								has_idea = KMT_the_hump_idea
								has_idea = KMT_the_hump_idea_closed
							}
						}
						country_event = { id = kmt_fsr.12 }
						custom_effect_tooltip = close_the_hump_explanation # Prints the contents of the CHI_the_hump_current_level variable
					}
				}
				if = {
					limit = {
						any_state = {
							controller = {
								OR = {
									tag = ROOT
									is_puppet_of = ROOT
								}
							}
							has_state_flag = CHI_needed_for_ledo_road
							NOT = { has_state_flag = CHI_ledo_road_closed_state }
						}
					}
					hidden_effect = {
						every_state = {
							limit = {
								has_state_flag = CHI_needed_for_ledo_road
								NOT = { has_state_flag = CHI_ledo_road_closed_state }
								OR = {
									is_controlled_by = ROOT
									CONTROLLER = { is_subject_of = ROOT }
								}
							}
							set_state_flag = CHI_ledo_road_closed_state
						}
					}
					random_country = {
						#Country that had the route
						limit = { 
							OR = {
								has_idea = KMT_ledo_road_idea
								has_idea = KMT_ledo_road_idea_closed
							}
						}
						country_event = { id = kmt_fsr.6 }
						custom_effect_tooltip = close_ledo_road_explanation # Prints the contents of the CHI_ledo_road_current_level variable
					}
				}
				if = {
					limit = {
						any_state = {
							controller = {
								OR = {
									tag = ROOT
									is_puppet_of = ROOT
								}
							}
							has_state_flag = CHI_needed_for_burma_road
							NOT = { has_state_flag = CHI_burma_road_closed_state }
						}
					}
					hidden_effect = {
						every_state = {
							limit = {
								has_state_flag = CHI_needed_for_burma_road
								NOT = { has_state_flag = CHI_burma_road_closed_state }
								OR = {
									is_controlled_by = ROOT
									CONTROLLER = { is_subject_of = ROOT }
								}
							}
							set_state_flag = CHI_burma_road_closed_state
						}
					}
					random_country = {
						limit = { 
							OR = {
								has_idea = KMT_burma_road_idea 
								has_idea = KMT_burma_road_idea_closed
							}				
						}
						country_event = { id = kmt_fsr.2 }
					}
				}
				set_country_flag = KMT_withdrew_support_from_chi
				set_country_flag = KMT_sent_support_to_commie
			}
		}
	}
	
	KMT_declare_independence = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_nationalism
		visible = {
			NOT = { has_country_flag = KMT_sent_help }
			is_subject_of = FROM
			PRC = { has_war_with = event_target:KMT_central_gov_tag }
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				is_subject_of = FROM
				NOT = {
					any_owned_state = {
						any_neighbor_state = {
							OWNER = {
								OR = {
									tag = FROM
									is_in_faction_with = FROM
								}
							}
						}
					}
				}
				add = 10
			}
			modifier = {
				any_owned_state = {
					any_neighbor_state = {
						OWNER = {
							has_country_flag = KMT_declared_independence_during_CNCivilWar
						}
					}
				}
				add = 1
			}
			modifier = {
				strength_ratio = {
					tag = FROM
					ratio > 1.5
				}
				add = 10
			}
			modifier = {
				FROM = {
					surrender_progress > 0.8 
				}
				add = 5
			}
			modifier = {
				is_chinese_nations_w_HYQ = yes
				factor = 0
			}
		}
		
		cost = 50
		
		fire_only_once = yes
		
		target_trigger = {
			ROOT = {
				is_subject_of = FROM
			}
			FROM = {
				OR = {
					tag = PRC
					tag = event_target:KMT_central_gov_tag
				}
			}
		}
		
		complete_effect = {
			set_country_flag = KMT_declared_independence_during_CNCivilWar
			FROM = { country_event = { id = kmt.595 }}
			effect_tooltip = { FROM = { end_puppet = ROOT }}
			hidden_effect = {
				country_event = { id = wd.1 }
			}
		}
	}
	
	KMT_yangtze_partition = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = jap_conquer_china
		visible = {
			PRC = {
				has_completed_focus = PRC_found_our_nation
			}
			OR = { 
				AND = {
					has_war_with = PRC
					tag = event_target:KMT_central_gov_tag
				}
				AND = {
					tag = PRC
					has_war_with = event_target:KMT_central_gov_tag
				}
			}
			NOT = {
				has_global_flag = KMT_has_proposed_yangtze_partition
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				has_country_leader = {
					character = GXC_li_zongren
					ruling_only = yes
				}
				factor = 10
			}
			modifier = {
				any_state = {
					OR = {
						region = 233
						region = 232
						region = 231
					}
					NOT = {
						state = 748
						state = 750
						state = 980
					}
					CONTROLLER = {
						OR = {
							tag = ROOT
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
					}
				}
				factor = 0
			}
			modifier = {
				any_country = { 
					is_in_faction_with = ROOT
					is_ai = no
				}
				factor = 0
			}
		}
		
		cost = 50
		
		target_trigger = {
			OR = {
				AND = {
					tag = event_target:KMT_central_gov_tag
					FROM = {
						tag = PRC
					}
				}
				AND = {
					tag = PRC
					FROM = {
						tag = event_target:KMT_central_gov_tag
					}
				}
			}
		}
		
		available = {
			OR = {
				AND = {
					tag = event_target:KMT_central_gov_tag
					custom_trigger_tooltip = {
						tooltip = KMT_yangtze_partition_trigger_central_tt
						any_state = {
							OR = {
								region = 164
								region = 228
								region = 229
								region = 230
								region = 165
								state = 748
								state = 750
								state = 980
							}
							NOT = { state = 979 }
							CONTROLLER = {
								OR = {
									tag = ROOT
									is_in_faction_with = ROOT
									is_subject_of = ROOT
								}
							}
						}
					}
				}
				AND = {
					tag = PRC
					custom_trigger_tooltip = {
						tooltip = KMT_yangtze_partition_trigger_prc_tt
						any_state = {
							OR = {
								region = 233
								region = 232
								region = 231
							}
							NOT = {
								state = 748
								state = 750
								state = 980
							}
							CONTROLLER = {
								OR = {
									tag = ROOT
									is_in_faction_with = ROOT
									is_subject_of = ROOT
								}
							}
						}
					}
				}
			}
		}
		
		complete_effect = {
			set_global_flag = KMT_has_proposed_yangtze_partition
			FROM = {
				country_event = { id = kmt.212 }
				custom_effect_tooltip = needs_approval
				effect_tooltip = {
					if = {
						limit = {
							FROM = { tag = PRC }
						}
						every_state = {
							limit = {
								OR = {
									region = 155
									region = 242
									region = 243
									region = 244
									region = 245
									region = 143
									region = 152
									region = 236
									region = 145
									region = 144
									region = 235
									region = 234
									region = 233
									region = 231
									region = 232
									state = 979
								}
								NOT = {
									state = 748
									state = 750
									state = 980
								}
								OWNER = {
									OR = {
										tag = ROOT
										is_puppet_of = ROOT
									}
								}
							}
							FROM = {
								transfer_state = PREV
							}
						}
						every_state = {
							limit = {
								OR = {
									region = 164
									region = 228
									region = 229
									region = 230
									region = 165
									state = 524
									state = 748
									state = 750
								}
								NOT = { state = 979 }
								OWNER = {
									OR = {
										tag = FROM
										is_puppet_of = FROM
									}
								}
							}
							ROOT = {
								transfer_state = PREV
							}
						}
						else = {
							every_state = {
								limit = {
									OR = {
										region = 164
										region = 228
										region = 229
										region = 230
										region = 165
										state = 524
										state = 748
										state = 750
									}
									NOT = { state = 979 }
									OWNER = {
										OR = {
											tag = ROOT
											is_puppet_of = ROOT
										}
									}
								}
								FROM = {
									transfer_state = PREV
								}
							}
							every_state = {
								limit = {
									OR = {
										region = 155
										region = 242
										region = 243
										region = 244
										region = 245
										region = 143
										region = 152
										region = 236
										region = 145
										region = 144
										region = 235
										region = 234
										region = 233
										region = 231
										region = 232
										state = 979
									}
									NOT = {
										state = 748
										state = 750
										state = 980
									}
									OWNER = {
										OR = {
											tag = FROM
											is_puppet_of = FROM
										}
									}
								}
								ROOT = {
									transfer_state = PREV
								}
							}
						}
					}
					white_peace = ROOT
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
						active = yes
					}
				}
			}
		}
	}
	
	KMT_deal_with_separatist_window = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_independence
		visible = {
			any_country = { check_variable = { KMT_deal_with_them_later@ROOT = 1 }}
			NOT = {
				has_war_with = event_target:KMT_central_gov_tag
				has_war_with = PRC
			}
		}

		activation = {
			any_country = { check_variable = { KMT_deal_with_them_later@ROOT = 1 }}
			NOT = {
				has_war_with = event_target:KMT_central_gov_tag
				has_war_with = PRC
			}
		}
		
		days_mission_timeout = 90

		cancel_if_not_visible = yes
		is_good = no
		fire_only_once = yes
		
		available = {
			hidden_trigger = { always = no }
		}
		
		target_trigger = {
			FROM = {
				check_variable = { KMT_deal_with_them_later@ROOT = 1 }
			}
		}
		
		cancel_trigger = {
			NOT = { any_country = { check_variable = { KMT_deal_with_them_later@ROOT = 1 }}}
		}
		
		timeout_effect = {
			add_stability = -0.1
			add_war_support = -0.1
			add_political_power = -100
			every_country = {
				limit = {
					check_variable = { KMT_deal_with_them_later@ROOT = 1 }
				}
				set_variable = { KMT_deal_with_them_later@ROOT = 0 }
			}
		}
	}
	
	KMT_deal_with_separatist = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_tank
		visible = {
			NOT = {
				has_war_with = event_target:KMT_central_gov_tag
				has_war_with = PRC
			}
			FROM = {
				check_variable = { KMT_deal_with_them_later@ROOT = 1 }
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				any_country = {
					OR = {
						tag = ROOT
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
					any_owned_state = {
						any_neighbor_state = {
							OWNER = {
								tag = FROM
							}
						}
					}
				}
				add = 10
			}
			modifier = {
				strength_ratio = {
					tag = FROM
					ratio > 1.5
				}
				add = 10
			}
		}
		
		available = {
			NOT = {
				has_war_with = event_target:KMT_central_gov_tag
				has_war_with = PRC
			}
		}
		
		cost = 50
		
		target_trigger = {
			FROM = {
				check_variable = { KMT_deal_with_them_later@ROOT = 1 }
			}
		}
		
		complete_effect = {
			FROM = {
				country_event = { id = kmt.596 }
			}
		}
	}
	
	KMT_retake_the_mainland = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = hol_draw_up_staff_plans
		visible = {
			has_country_flag = KMT_retreated_to_taiwan_flag
			is_chinese_nations_w_HYQ = yes
			owns_state = 524
			NOT = {
				any_owned_state = {
					NOT = {
						state = 524
					}
					is_in_array = { KMT_considered_inalienable_parts = THIS }
				}
				any_country = {
					any_owned_state = {
						NOT = {
							state = 729
							state = 728
							state = 326
							state = 743
						}
						is_in_array = { KMT_considered_inalienable_parts = THIS }
					}
					has_war_with = ROOT
				}
			}
		}
		
		ai_will_do = {
			base = 10
		}
		
		available = {
			is_subject = no
		}
		
		fire_only_once = yes
		
		cost = 10
		
		complete_effect = {
			unlock_decision_category_tooltip = KMT_dcat_operation_national_glory
			set_country_flag = KMT_national_glory_start_planning
		}
	}
	
	KMT_declare_martial_law = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_intelligence_operation
		visible = {
			NOT = { has_country_flag = KMT_lifted_martial_law }
			OR = {
				AND = {
					tag = event_target:KMT_central_gov_tag
					has_war_with = PRC
				}
				AND = {
					has_war_with = event_target:KMT_central_gov_tag
					tag = PRC
				}
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				num_of_controlled_states < 5
				add = 10
			}
			modifier = {
				num_of_controlled_states < 10
				tag = event_target:KMT_central_gov_tag
				is_historical_focus_on = yes
				add = 10
			}
			modifier = {
				is_historical_focus_on = yes
				NOT = { tag = PRC }
				NOT = {
					any_owned_state = { NOT = { state = 524 }}
				}
				add = 100
			}
			modifier = {
				has_country_leader = {
					character = CHI_chiang_kaishek
					ruling_only = yes
				}
				add = 10
			}
			modifier = {
				
				has_government = democratic
				factor = 0
			}
		}
		
		available = {
		}
		
		cancel_trigger = {
			NOT = { has_country_flag = KMT_martial_law }
		}
		
		days_remove = -1
		
		cost = 50
		
		modifier = {	
			democratic_drift = -0.1
			political_power_factor = 0.5
			war_stability_factor = 0.2
			stability_factor = 0.2
			war_support_factor = 0.1
			resistance_target = -0.1
			resistance_growth = 0.25
			compliance_growth = -0.5
			foreign_subversive_activites = -1
		}
		
		complete_effect = {
			custom_effect_tooltip = KMT_cannot_lift_before_360days_tt
			add_stability = -0.1
			add_war_support = -0.1
			set_country_flag = KMT_martial_law
		}
	}
	
	KMT_lift_martial_law = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_intelligence_operation
		visible = {
			has_country_flag = KMT_martial_law
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				has_country_leader = {
					character = CHI_chiang_kaishek
					ruling_only = yes
				}
				add = 10
			}
		}
		
		available = {
			has_country_flag = {
				flag = KMT_martial_law
				days > 360
			}
		}
		
		cancel_trigger = {}
		
		days_remove = 30
		
		cost = 150
		
		modifier = {
			democratic_drift = 1
			stability_weekly = -0.01
			political_power_cost = 1
		}
		
		remove_effect = {
			custom_effect_tooltip = KMT_lift_martial_law_tt
			clr_country_flag = KMT_martial_law
			set_country_flag = KMT_lifted_martial_law
		}
	}
	
	PRC_soviet_send_weapons_mission = {
		icon = generic_prepare_civil_war
		allowed = { original_tag = PRC }
		activation = {
			tag = PRC
			NOT = { has_active_mission = PRC_soviet_send_weapons_mission2 }
			SOV = {
				exists = yes
				is_major = yes
				NOT = { has_war_with = ROOT }
				is_subject = no
				num_of_military_factories > 50
				has_government = ROOT
				has_opinion = { target = ROOT value > -50 }
			}
			has_war_with = event_target:KMT_central_gov_tag
			has_global_flag = PRC_restart_CHI_war
			NOT = { has_global_flag = KMT_ccw_over }
			any_country = {
				OR = {
					tag = SOV
					is_subject_of = SOV
					is_in_faction_with = SOV
				}
				is_neighbor_of = ROOT
			}
		}
		
		is_good = yes
		
		available = {
			SOV = {
				OR = {
					exists = no
					has_war_with = ROOT 
					is_subject = yes
					has_opinion = { target = ROOT value < -95 }
					NOT = { has_government = ROOT }
				}
			}
		}
		
		days_mission_timeout = 30
		
		timeout_effect = {
			add_equipment_to_stockpile = { type = infantry_equipment amount = 12500 producer = SOV }
			add_equipment_to_stockpile = { type = support_equipment amount = 1000 producer = SOV }
			add_equipment_to_stockpile = { type = motorized_equipment amount = 100 producer = SOV }
			add_equipment_to_stockpile = { type = artillery_equipment amount = 600 producer = SOV }
			add_equipment_to_stockpile = { type = light_tank_chassis amount = 10 producer = SOV }
			add_equipment_to_stockpile = { type = small_plane_airframe amount = 20 producer = SOV }
			add_equipment_to_stockpile = { type = train_equipment amount = 3 producer = SOV }
		}
	}
	
	PRC_soviet_send_weapons_mission2 = {
		name = PRC_soviet_send_weapons_mission
		icon = generic_prepare_civil_war
		allowed = { original_tag = PRC }
		activation = {
			tag = PRC
			NOT = { has_active_mission = PRC_soviet_send_weapons_mission }
			SOV = {
				exists = yes
				is_major = yes
				NOT = { has_war_with = ROOT }
				is_subject = no
				num_of_military_factories > 50
				has_government = ROOT
				has_opinion = { target = ROOT value > -50 }
			}
			has_war_with = event_target:KMT_central_gov_tag
			has_global_flag = PRC_restart_CHI_war
			NOT = { has_global_flag = KMT_ccw_over }
			any_country = {
				OR = {
					tag = SOV
					is_subject_of = SOV
					is_in_faction_with = SOV
				}
				is_neighbor_of = ROOT
			}
		}
		
		is_good = yes
		
		available = {
			SOV = {
				OR = {
					exists = no
					has_war_with = ROOT 
					is_subject = yes
					has_opinion = { target = ROOT value < -95 }
					NOT = { has_government = ROOT }
				}
			}
		}
		
		days_mission_timeout = 30
		
		timeout_effect = {
			add_equipment_to_stockpile = { type = infantry_equipment amount = 12500 producer = SOV }
			add_equipment_to_stockpile = { type = support_equipment amount = 1000 producer = SOV }
			add_equipment_to_stockpile = { type = motorized_equipment amount = 100 producer = SOV }
			add_equipment_to_stockpile = { type = artillery_equipment amount = 600 producer = SOV }
			add_equipment_to_stockpile = { type = light_tank_chassis amount = 10 producer = SOV }
			add_equipment_to_stockpile = { type = small_plane_airframe amount = 20 producer = SOV }
			add_equipment_to_stockpile = { type = train_equipment amount = 3 producer = SOV }
		}
	}
	
	PRC_retreat_from_yenan = {
		icon = eng_blackshirt_march
		allowed = { original_tag = PRC }
		visible = {
			has_global_flag = PRC_restart_CHI_war
			capital_scope = { state = 622 }
			OR = {
				any_controlled_state = {
					OR = {
						region = 155 
						region = 242 
						region = 243 
					}
				}
				any_owned_state = {
					OR = {
						region = 155 
						region = 242 
						region = 243 
					}
				}
			}
		}
		
		available = {
			any_owned_state = {
				OR = {
					region = 155 
					region = 242 
					region = 243 
				}
				is_controlled_by = ROOT
			}
		}
		
		ai_will_do = { 
			factor = 0
			modifier = {
				any_owned_state = {
					OR = {
						region = 155 
						region = 242 
						region = 243 
					}
					OR = {
						state = 716
						state = 328
						state = 610
					}
				}
			}
		}
		
		fire_only_once = yes
		
		complete_effect = {
			if = {
				limit = { 
					any_owned_state = { 
						is_controlled_by = ROOT
						OR = {
							region = 155 
							region = 242 
							region = 243 
						}
					}
					NOT = { has_country_flag = prc_capital_decided }
				}
				random_controlled_state = {
					prioritize = { 716 328 610 }
					limit = { 
						OR = {
							region = 155 
							region = 242 
							region = 243 
						}
					}
					ROOT = { set_capital = { state = PREV }}
				}
			}
			622 = {
				add_dynamic_modifier = {
					modifier = PRC_retreat_from_yenan_dm
					days = 180
					scope = PRC
				}
			}
		}
	}
	
	PRC_liaoxi_campaign = {
		icon = hol_draw_up_staff_plans
		allowed = { original_tag = PRC }
		visible = {
			any_state = {
				OR = {
					state = 328
					state = 716
				}
				CONTROLLER = { has_war_with = ROOT }
			}
		}
		
		available = {
			any_state = {
				OR = {
					state = 328
					state = 716
				}
				CONTROLLER = { has_war_with = ROOT }
				any_neighbor_state = {
					is_controlled_by = ROOT
				}
			}
			NOT = { any_country = { has_idea = KMT_ccw_ceasefire }}
			has_global_flag = {
				flag = PRC_restart_CHI_war
				days > 30
			}
		}
		
		cancel_if_not_visible = yes
		
		days_remove = 10
		
		
		ai_will_do = { 
			factor = 0
			modifier = {
				divisions_in_state = { state = 328 size > 1 }
				add = 25
			}
			modifier = {
				divisions_in_state = { state = 716 size > 1 }
				add = 25
			}
		}
		
		fire_only_once = yes
		
		custom_cost_trigger = {
			NOT = { has_political_power < 50 }
			NOT = { command_power < 50 }
		}
		
		custom_cost_text = 50cp_50pp
		
		complete_effect = {
			hidden_effect = {
				add_political_power = -50
				add_command_power = -50
			}
		}
		
		remove_effect = {
			if = {
				limit = { 328 = { controller = { has_war_with = ROOT }}}
				328 = {
					add_dynamic_modifier = {
						modifier = PRC_military_offensive
						scope = PRC
						days = 75
					}
					every_neighbor_state = {
						add_dynamic_modifier = {
							modifier = PRC_military_offensive_secondary
							scope = PRC
							days = 75
						}
					}
				}
			}
			if = {
				limit = { 716 = { controller = { has_war_with = ROOT }}}
				716 = {
					add_dynamic_modifier = {
						modifier = PRC_military_offensive
						scope = PRC
						days = 75
					}
					every_neighbor_state = {
						add_dynamic_modifier = {
							modifier = PRC_military_offensive_secondary
							scope = PRC
							days = 75
						}
					}
				}
			}
		}
	}
	
	PRC_huaihai_campaign = {
		icon = hol_draw_up_staff_plans
		allowed = { original_tag = PRC }
		visible = {
			598 = {
				CONTROLLER = { has_war_with = ROOT }
			}
		}
		
		days_remove = 10
		
		available = {
			598 = {
				CONTROLLER = { has_war_with = ROOT }
				any_neighbor_state = {
					is_controlled_by = ROOT
				}
			}
			NOT = { any_country = { has_idea = KMT_ccw_ceasefire }}
			has_global_flag = {
				flag = PRC_restart_CHI_war
				days > 30
			}
		}
		
		cancel_if_not_visible = yes
		
		
		ai_will_do = { 
			factor = 0
			modifier = {
				divisions_in_state = { state = 598 size > 1 }
				add = 25
			}
		}
		
		fire_only_once = yes
		
		custom_cost_trigger = {
			NOT = { has_political_power < 50 }
			NOT = { command_power < 50 }
		}
		
		custom_cost_text = 50cp_50pp
		
		complete_effect = {
			hidden_effect = {
				add_political_power = -50
				add_command_power = -50
			}
		}
		
		remove_effect = {
			598 = {
				add_dynamic_modifier = {
					modifier = PRC_military_offensive
					scope = PRC
					days = 75
				}
				every_neighbor_state = {
					add_dynamic_modifier = {
						modifier = PRC_military_offensive_secondary
						scope = PRC
						days = 75
					}
				}
			}
		}
	}
	
	PRC_pingtsin_campaign = {
		icon = hol_draw_up_staff_plans
		allowed = { original_tag = PRC }
		visible = {
			608 = {
				CONTROLLER = { has_war_with = ROOT }
			}
		}
		
		days_remove = 10
		
		available = {
			608 = {
				CONTROLLER = { has_war_with = ROOT }
				any_neighbor_state = {
					is_controlled_by = ROOT
				}
			}
			NOT = { any_country = { has_idea = KMT_ccw_ceasefire }}
			has_global_flag = {
				flag = PRC_restart_CHI_war
				days > 30
			}
		}
		
		cancel_if_not_visible = yes
		
		ai_will_do = { 
			factor = 0
			modifier = {
				divisions_in_state = { state = 608 size > 1 }
				add = 25
			}
		}
		
		fire_only_once = yes
		
		custom_cost_trigger = {
			NOT = { has_political_power < 50 }
			NOT = { command_power < 50 }
		}
		
		custom_cost_text = 50cp_50pp
		
		complete_effect = {
			hidden_effect = {
				add_political_power = -50
				add_command_power = -50
			}
		}
		
		remove_effect = {
			608 = {
				add_dynamic_modifier = {
					modifier = PRC_military_offensive
					scope = PRC
					days = 75
				}
				every_neighbor_state = {
					add_dynamic_modifier = {
						modifier = PRC_military_offensive_secondary
						scope = PRC
						days = 75
					}
				}

			}
		}
	}
}

KMT_dcat_fate_of_collaborators = {

	KMT_deal_with_them_mission = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
	
		icon = generic_political_rally
	
		activation = {
			has_war = no
			NOT = { 
				is_subject_of = JAP 
				has_global_flag = collaborator_event_fired
				has_country_flag = KMT_pro_japanese_coup
				has_global_flag = KMT_selected_a_method
				has_idea = KMT_trautmann_peace
			}
			has_global_flag = CHI_warred_with_JAP
			tag = event_target:KMT_central_gov_tag
			any_state = {
				has_state_flag = KMT_collaborator_state
				OWNER = {
					OR = {	
						tag = ROOT
						has_idea = cg_warlords
						is_subject_of = ROOT
					}
				}
			}
		}
		
		visible = {
			has_war = no
			NOT = { 
				is_subject_of = JAP 
				has_global_flag = collaborator_event_fired
				has_country_flag = KMT_pro_japanese_coup
				has_global_flag = KMT_selected_a_method
				has_idea = KMT_trautmann_peace
			}
			tag = event_target:KMT_central_gov_tag
			any_state = {
				has_state_flag = KMT_collaborator_state
				OWNER = {
					OR = {	
						tag = ROOT
						has_idea = cg_warlords
						is_subject_of = ROOT
					}
				}
			}
		}
		
		fire_only_once = yes
		is_good = no
		days_mission_timeout = 35

		cancel_if_not_visible = yes
		
		available = {
			custom_trigger_tooltip = {
				tooltip = KMT_select_a_method
				has_global_flag = KMT_selected_a_method
			}
		}
		
		timeout_effect = {
			set_global_flag = collaborator_event_fired
			country_event = {
				id = kmt.367
			}
		}
	}
	
	KMT_deal_with_them_purge = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
	
		icon = generic_tank
		
		visible = {
			has_war = no
			NOT = { 
				is_subject_of = JAP 
				has_global_flag = collaborator_event_fired
				has_country_flag = KMT_pro_japanese_coup
				has_global_flag = KMT_selected_a_method
				has_idea = KMT_trautmann_peace
			}
			has_global_flag = CHI_warred_with_JAP
			tag = event_target:KMT_central_gov_tag
			any_state = {
				has_state_flag = KMT_collaborator_state
				OWNER = {
					OR = {	
						tag = ROOT
						has_idea = cg_warlords
					}
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 0
		}
		
		cost = 25
		
		available = {
			has_war = no
			NOT = { 
				is_subject_of = JAP 
				has_global_flag = collaborator_event_fired
				has_country_flag = KMT_pro_japanese_coup
				has_global_flag = KMT_selected_a_method
			}
			tag = event_target:KMT_central_gov_tag
			any_state = {
				has_state_flag = KMT_collaborator_state
				OWNER = {
					OR = {	
						tag = ROOT
						has_idea = cg_warlords
						is_subject_of = ROOT
					}
				}
			}
		}
		
		complete_effect = {
			set_global_flag = KMT_purge_collaborators_flag
			set_global_flag = KMT_selected_a_method
			add_timed_idea = {
				idea = KMT_purge_collaborators
				days = 365
			}
			hidden_effect = {
				PRC = {
					country_event = {
						id = kmt.368 hours = 2
					}
				}
			}
		}
	}
	
	KMT_deal_with_them_reorganise = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
	
		icon = eng_blackshirt_march
		
		visible = {
			has_war = no
			has_global_flag = CHI_warred_with_JAP
			NOT = { 
				is_subject_of = JAP 
				has_global_flag = collaborator_event_fired
				has_country_flag = KMT_pro_japanese_coup
				has_global_flag = KMT_selected_a_method
				has_idea = KMT_trautmann_peace
			}
			tag = event_target:KMT_central_gov_tag
			any_state = {
				has_state_flag = KMT_collaborator_state
				OWNER = {
					OR = {	
						tag = ROOT
						has_idea = cg_warlords
					}
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 0
		}
		
		cost = 50
		
		available = {
		}
		
		complete_effect = {
			set_global_flag = KMT_selected_a_method
			add_timed_idea = {
				idea = KMT_harsh_takeover
				days = 600
			}
			add_equipment_to_stockpile = { type = infantry_equipment amount = 2500 producer = MEN }
			add_equipment_to_stockpile = { type = infantry_equipment amount = 2500 producer = MCK }
			add_equipment_to_stockpile = { type = infantry_equipment amount = 2500 producer = JAP }
			every_state = {
				limit = {
					has_state_flag = KMT_collaborator_state
					OWNER = {
						OR = {	
							tag = ROOT
							has_idea = cg_warlords
						}
					}
				}
				add_manpower = -25000
			}
			custom_effect_tooltip = kmt_harsh_takover_oob_tt
			hidden_effect = {
				load_oob = "CHI_harsh_takeover_oob"
				PRC = {
					country_event = {
						id = kmt.368 hours = 2
					}
				}
			}
		}
	}
	
	KMT_deal_with_them_forgive = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
	
		icon = generic_political_discourse
		
		visible = {
			has_war = no
			has_global_flag = CHI_warred_with_JAP
			NOT = { 
				is_subject_of = JAP 
				has_global_flag = collaborator_event_fired
				has_country_flag = KMT_pro_japanese_coup
				has_global_flag = KMT_selected_a_method
				has_idea = KMT_trautmann_peace
			}
			tag = event_target:KMT_central_gov_tag
			any_state = {
				has_state_flag = KMT_collaborator_state
				OWNER = {
					OR = {	
						tag = ROOT
						has_idea = cg_warlords
					}
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 0
		}
		
		cost = 75
		
		available = {
		}
		
		complete_effect = {
			set_global_flag = KMT_selected_a_method
			add_timed_idea = {
				idea = KMT_collaborate_with_collaborators
				days = 365
			}
		}
	}
}

KMT_dcat_chinese_focus = {


	KMT_switch_focus_to_internal_stability = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = hol_draw_up_staff_plans
		visible = {
			tag = event_target:KMT_central_gov_tag
			OR = {
				has_completed_focus = KMT_external_defense
				has_global_flag = {
					flag = PRC_yes_truce
					days > 7
				}
			}
			NOT = {
				PRC = { has_country_flag = PRC_joined_CHI_against_JAP }
			}
		}
		
		available = {
			JAP = {
				OR = {
					has_completed_focus = JAP_support_the_kodoha_faction
					has_completed_focus = JAP_cast_the_die
					has_completed_focus = JAP_pre_emptive_coup
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 1000
			modifier = {
				factor = 0
				has_global_flag = {
					flag = PRC_yes_truce
					days < 250
				}
			}
		}
		
		complete_effect = {
			log = "[GetDate]: cg switch focus to internal stability"
			add_stability = -0.025
			add_war_support = -0.1
			set_country_flag = KMT_switched_to_internal
			if = {
				limit = { NOT = { has_completed_focus = KMT_internal_stability }}
				unlock_national_focus = KMT_internal_stability
			}
			create_wargoal = { target = PRC type = civil_war }
			if = {
				limit = {
					is_in_faction_with = PRC
				}
				if = {
					limit = {
						is_faction_leader = yes
					}
					remove_from_faction = PRC
				}
				else = {
					random_country = {
						limit = { 
							is_in_faction_with = ROOT
							is_faction_leader = yes
						}
						remove_from_faction = ROOT
					}
				}
				PRC = { country_event = { id = prc.238 }}
			}
			diplomatic_relation = { relation = non_aggression_pact country = PRC active = no }
			PRC = { diplomatic_relation = { relation = non_aggression_pact country = ROOT active = no }}
		}
	}
}

KMT_dcat_skirmishes_with_commies = {
	KMT_the_next_offensive_mission = {
		allowed = { original_tag = ZXL }
		icon = generic_ignite_civil_war
		visible = {
		}
		
		activation = { always = no }
		
		available = { 
			OR = { 
				has_global_flag = KMT_zxl_stopped_attack 
				has_border_war_with = PRC
				has_active_mission = KMT_all_out_assault
			}
		}
		
		priority = 100
		
		days_mission_timeout = 7

		cancel_if_not_visible = yes
		
		is_good = no
		
		timeout_effect = {
			KMT_zxlprc_border_war = yes
		}
	}
	
	KMT_all_out_assault = {
		icon = generic_ignite_civil_war
		visible = {
		}
		
		activation = { always = no }
		
		available = { 
			OR = { 
				OR = {
					NOT = { has_event_target = KMT_central_gov_tag }
					event_target:KMT_central_gov_tag = { has_civil_war = yes }
				}
				NOT = { country_exists = PRC }
				has_war_with = PRC
				has_global_flag = xian_incident_started
				has_global_flag = cks_killed_xian
				event_target:KMT_central_gov_tag = {
					OR = {
						has_country_flag = KMT_pro_japanese_coup
						has_country_flag = KMT_red_coup_finish
					}
				}
			}
		}
		
		priority = 100
		
		days_mission_timeout = 10

		cancel_if_not_visible = yes
		
		is_good = no
		
		timeout_effect = {
			declare_war_on = {
				target = PRC
				type = annex_everything
			}
			activate_mission = KMT_gross_incompetence
		}
	}
	
	KMT_gross_incompetence = {
		icon = generic_ignite_civil_war
		visible = {
		}
		
		activation = { always = no }
		
		available = { 
			OR = { 
				surrender_progress > 0.8
				NOT = { controls_state = 744 }
				has_global_flag = xian_incident_started
				has_global_flag = cks_killed_xian
			}
		}
		
		priority = 100
		
		days_mission_timeout = 30

		cancel_if_not_visible = yes
		
		is_good = no
		
		complete_effect = {
			custom_effect_tooltip = KMT_not_annex_if_taken_action
			if = {
				limit = {
					NOT = {
						has_global_flag = xian_incident_started
						has_global_flag = cks_killed_xian
					}
				}
				OVERLORD = {
					annex_country = { target = ROOT transfer_troops = yes }
					declare_war_on = { 
						target = PRC
						type = civil_war
					}
				}
			}
		}
		
		timeout_effect = {
			OVERLORD = {
				annex_country = { target = ROOT transfer_troops = yes }
				declare_war_on = { 
					target = PRC
					type = civil_war
				}
			}
		}
	}
	
	KMT_arrest_chiang = {
		icon = generic_civil_support
		allowed = { original_tag = ZXL }
		visible = {
			OR = {
				has_active_mission = KMT_all_out_assault
				has_active_mission = KMT_gross_incompetence
			}
			has_country_flag = KMT_zxl_arrest_flag
		}
		
		available = {
			NOT = { has_completed_focus = KMT_devote_to_the_party_and_state }
		}
		
		cost = 5
		
		ai_will_do = {
			base = 0
			modifier = {
				has_country_flag = {
					flag = KMT_zxl_arrest_flag
					days > 5
				}
				add = 1000
			}
		}
		
		complete_effect = {
			event_target:KMT_central_gov_tag = {
				country_event = { id = xian.3 }
			}
			add_stability = -0.05
			add_war_support = 0.05
			hidden_effect = {
				SOV = {
					country_event = { id = xian.6 days = 3 }
				}
				PRC = {
					country_event = { id = xian.7 hours = 5 }
				}
			}
			set_global_flag = cks_held
			set_global_flag = xian_incident_started
			if = {
				limit = { has_war_with = PRC }
				white_peace = PRC
			}
		}
	}
	
	KMT_assassinate_chiang = {
		icon = generic_assasination
		allowed = { original_tag = ZXL }
		visible = {
			OR = {
				has_active_mission = KMT_all_out_assault
				has_active_mission = KMT_gross_incompetence
			}
			has_country_flag = KMT_zxl_arrest_flag
		}
		
		available = {
			NOT = { 
				has_completed_focus = KMT_devote_to_the_party_and_state 
			}
		}
		
		cost = 5
		
		ai_will_do = {
			base = 0
		}
		
		complete_effect = {
			event_target:KMT_central_gov_tag = {
				country_event = { id = xian.14 }
				effect_tooltip = {
					kill_country_leader = yes
				}
				end_puppet = ROOT
			}
			set_global_flag = cks_killed_xian
			if = {
				limit = { has_war_with = PRC }
				white_peace = PRC
			}
		}
	}
	
	KMT_defected_to_PRC = {
		icon = generic_civil_support
		allowed = { original_tag = ZXL }
		visible = {
			country_exists = PRC
			PRC = { is_subject = no }
			NOT = { is_subject_of = PRC }
		}
		
		available = {
			OR = {
				is_subject = no
				AND = {
					owns_state = 744
					PRC = { controls_state = 744 }
				}
				OVERLORD = { has_war_with = PRC }
				AND = {
					NOT = { has_country_flag = KMT_zxl_arrest_flag }
					OR = {
						has_active_mission = KMT_all_out_assault
						has_active_mission = KMT_gross_incompetence
					}
				}
			}
			NOT = {
				has_completed_focus = KMT_devote_to_the_party_and_state 
			}
		}
		
		cost = 0
		
		ai_will_do = {
			base = 0
			modifier = {
				OR = {
					AND = {
						owns_state = 744
						PRC = { controls_state = 744 }
					}
					OVERLORD = { has_war_with = PRC }
				}
				add = 1000
			}
			modifier = {
				NOT = { has_country_flag = KMT_zxl_arrest_flag }
				OR = {
					AND = {
						check_variable = { days_mission_timeout@KMT_all_out_assault < 6 }
						has_active_mission = KMT_all_out_assault
					}
					AND = {
						check_variable = { days_mission_timeout@KMT_gross_incompetence < 6 }
						has_active_mission = KMT_gross_incompetence
					}
				}
				add = 1000
			}
		}
		
		complete_effect = {
			set_country_flag = KMT_defected_to_PRC
			if = {
				limit = { owns_state = 744 }
				744 = {
					if = { limit = { is_claimed_by = PRC } remove_claim_by = PRC }
					if = { limit = { NOT = { is_core_of = PRC }} add_core_of = PRC }
				}
			}
			if = {
				limit = { is_subject = yes }
				OVERLORD = { country_event = { id = kmt.648 }
				}
			}
			PRC = { annex_country = { target = ROOT transfer_troops = yes }}
			every_unit_leader = { 
				#effect_tooltip = { set_nationality = PRC }
				set_character_flag = KMT_defector_to_the_PRC
			}
			every_character = { 
				limit = { has_character_flag = KMT_defector_to_the_PRC }
				set_nationality = PRC
			}
			custom_effect_tooltip = GAME_OVER_TT
		}
	}
	
	KMT_seek_ceasefire_with_commie = {
		icon = hol_exchange_intelligence_data
		allowed = { original_tag = ZXL }
		visible = {
			NOT = { has_global_flag = KMT_zxl_stopped_attack }
		}
		
		available = { 
			country_exists = PRC
			OR = {
				date > 1936.7.1
				has_global_flag = liangguang_incident 
				AND = {
					has_event_target = KMT_central_gov_tag
					any_country = {
						has_war_with = event_target:KMT_central_gov_tag
						strength_ratio = {
							tag = event_target:KMT_central_gov_tag
							ratio > 1.25
						}
					}
				}
				tag = event_target:KMT_central_gov_tag
				event_target:KMT_central_gov_tag = { has_civil_war = yes }
				event_target:KMT_central_gov_tag = { has_war_with = PRC }
				event_target:KMT_central_gov_tag = {
					OR = {
						has_country_flag = KMT_pro_japanese_coup
						has_country_flag = KMT_red_coup_finish
					}
				}
				NOT = { has_event_target = KMT_central_gov_tag }
				NOT = {
					is_subject_of = event_target:KMT_central_gov_tag
				}
			}
			NOT = { has_completed_focus = KMT_devote_to_the_party_and_state }
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 1000
		}
		
		complete_effect = {
			PRC = {
				country_event = { id = jyutgwai.34 }
			}
		}
	}
	
	#KMT_familiarise_with_enemy = {
	#	visible = {
	#		NOT = { has_global_flag = KMT_zxl_stopped_attack }
	#	}
	#	
	#	available = { 
	#		has_global_flag = liangguang_incident 
	#		has_border_war = no
	#	}
	#	
	#	cost = 10
	#	
	#	ai_will_do = {
	#		base = 0
	#		modifier = {
	#			date > 1936.6.30
	#			add = 25
	#		}
	#	}
	#	
	#	complete_effect = {
	#		PRC = {
	#			country_event = { id = jyutgwai.34 }
	#		}
	#	}
	#}
}

KMT_dcat_xian_incident = {
	KMT_xian_incident_negotiate_mission = {
		icon = generic_assasination
		visible = {
			has_global_flag = cks_held
			OR = {
				tag = ZXL
				tag = event_target:KMT_central_gov_tag
			}
		}
		
		activation = {
			always = no
		}
		
		available = {
			OR = {
				has_global_flag = cks_killed_xian
				has_global_flag = xian_negotiation_concluded
			}
			hidden_trigger = {
				event_target:KMT_central_gov_tag = {
					NOT = {
						has_country_flag = KMT_pro_japanese_coup
						has_country_flag = KMT_red_coup_finish
					}
				}
			}
		}
		
		days_mission_timeout = 30

		cancel_if_not_visible = yes
		
		is_good = no
		
		priority = 100
		
		timeout_effect = {
			event_target:KMT_central_gov_tag = {
				country_event = { id = xian.14 }
				effect_tooltip = {
					kill_country_leader = yes
				}
				end_puppet = ZXL
			}
		}
	}
	
	KMT_xian_incident_negotiate_mission_zxl = {
		name = KMT_xian_incident_negotiate_mission
		desc = KMT_xian_incident_negotiate_mission_desc
		icon = generic_assasination
		visible = {
			has_global_flag = cks_held
			OR = {
				tag = ZXL
				tag = event_target:KMT_central_gov_tag
			}
		}
		
		activation = {
			always = no
		}
		
		available = {
			OR = {
				has_global_flag = cks_killed_xian
				has_global_flag = xian_negotiation_concluded
			}
			hidden_trigger = {
				event_target:KMT_central_gov_tag = {
					NOT = {
						has_country_flag = KMT_pro_japanese_coup
						has_country_flag = KMT_red_coup_finish
					}
				}
			}
		}
		
		days_mission_timeout = 30

		cancel_if_not_visible = yes
		
		is_good = no
		
		priority = 100
		
		timeout_effect = {
			event_target:KMT_central_gov_tag = {
				effect_tooltip = {
					country_event = { id = xian.14 }
					kill_country_leader = yes
					end_puppet = ZXL
				}
			}
		}
	}
	
	KMT_xian_negotiation_sign = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_political_discourse
		visible = {
			has_global_flag = cks_held
			OR = {
				tag = ZXL 
				tag = event_target:KMT_central_gov_tag
			}
			NOT = {
				has_global_flag = cks_killed_xian
				has_global_flag = xian_negotiation_concluded
			}
		}
		available = { 
			custom_trigger_tooltip = {
				tooltip = KMT_satisfied_already
				NOT = { check_variable = { global.KMT_xian_negotiation_signed@ROOT = 1 }}
			}
		}
		
		target_trigger = {
			OR = {
				AND = {
					FROM = { tag = event_target:KMT_central_gov_tag }
					tag = ZXL
				}
				AND = {
					tag = event_target:KMT_central_gov_tag
					FROM = { tag = ZXL }
				}
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				has_global_flag = KMT_chi_stop_civil_war_demand
				tag = ZXL
				add = 1000
			}
			modifier = {
				has_global_flag = KMT_zxl_release_chiang_demand
				tag = event_target:KMT_central_gov_tag
				add = 1000
			}
			modifier = {
				has_country_flag = KMT_xian_making_demand
				factor = 0
			}
		}
		
		complete_effect = {
			custom_effect_tooltip = KMT_end_if_both_agree_tt
			set_variable = { global.KMT_xian_negotiation_signed@ROOT = 1 }
			if = {
				limit = {
					check_variable = { global.KMT_xian_negotiation_signed@FROM = 1 }
				}
				set_global_flag = xian_negotiation_concluded
				if = {
					limit = {
						event_target:KMT_central_gov_tag = {
							NOT = {
								has_country_flag = KMT_pro_japanese_coup
								has_country_flag = KMT_red_coup_finish
							}
						}
					}
					set_global_flag = xian_resolved
					clr_global_flag = xian_incident
					if = {
						limit = { has_global_flag = KMT_chi_stop_civil_war_demand }
						set_global_flag = PRC_yes_truce
					}
					log = "[GetDate]: [Root.GetName] PRC_yes_truce"
					set_variable = { global.PRC_past_month_ire = global.PRC_expansion_ire }
					if = {
						limit = {
							has_global_flag = KMT_zxl_release_chiang_demand
						}
						event_target:KMT_central_gov_tag = {
							custom_effect_tooltip = KMT_chiang_return_tt
							every_unit_leader = {
								limit = {
									has_trait = KMT_held_hostage
								}
								remove_unit_leader_trait = KMT_held_hostage
							}
						}
					}
					if = {
						limit = {
							has_global_flag = KMT_zxl_submit_demand
						}
						event_target:KMT_central_gov_tag = {
							annex_country = {
								target = ZXL
								transfer_troops = yes
							}
						}
					}
					if = {
						limit = {
							has_global_flag = KMT_chi_stop_civil_war_demand
						}
						set_global_flag = KMT_united_front_enabled
						clr_global_flag = KMT_first_chinese_civil_war
						custom_effect_tooltip = KMT_enables_united_front_tt
						if = {
							limit = {
								any_country = {
									OR = {
										tag = PRC
										has_country_flag = is_warlords
									}
									has_war_with = event_target:KMT_central_gov_tag
								}
							}
							every_country = {
								limit = {
									OR = {
										has_country_flag = is_warlords
										tag = PRC
									}	
								}
								event_target:KMT_central_gov_tag = {
									white_peace = PREV
								}
							}
						}
						every_country = {
							limit = {
								OR = {
									has_country_flag = is_warlords
									tag = PRC
								}	
							}
							event_target:KMT_central_gov_tag = {
								diplomatic_relation = {
									country = PREV
									relation = non_aggression_pact
									active = yes
								}
							}
						}
					}
					hidden_effect = {
						country_event = { id = xian.102 }
						FROM = {
							country_event = { id = xian.102 }
						}
					}
					clr_global_flag = liangguang_incident
					set_global_flag = liangguang_solved
					clr_global_flag = KMT_chi_stop_civil_war_demand_rejected
					clr_global_flag = KMT_zxl_submit_demand_flag
					clr_global_flag = KMT_zxl_submit_demand_rejected
					clr_global_flag = KMT_chi_stop_civil_war_demand_again
					clr_global_flag = cks_held
				}
				country_event = { id = xian.102 }
				FROM = { country_event = { id = xian.102 }}
			}
		}
	}
	
	KMT_xian_negotiation_stop_civil_war = {
		allowed = { tag = ZXL }
		icon = generic_political_discourse
		visible = {
			has_global_flag = cks_held
			tag = ZXL 
			NOT = {
				has_global_flag = cks_killed_xian
				has_global_flag = xian_negotiation_concluded
				has_global_flag = KMT_chi_stop_civil_war_demand 
			}
		}
		available = { 
			NOT = { 
				has_global_flag = KMT_chi_stop_civil_war_demand 
			}
		}
		
		ai_will_do = {
			base = 1000
		}
		
		days_remove = 5
		
		target_trigger = {
			FROM = { tag = event_target:KMT_central_gov_tag }
		}
		
		complete_effect = {
			set_variable = { global.KMT_xian_negotiation_signed@ROOT = 0 }
			set_country_flag = KMT_xian_making_demand
		}
		
		remove_effect = {
			custom_effect_tooltip = KMT_add_stop_civil_war_demand_tt
			set_variable = { global.KMT_xian_negotiation_signed@FROM = 0 }
			set_global_flag = KMT_chi_stop_civil_war_demand
			set_variable = { global.KMT_xian_demand_id = 1 }
			FROM = { country_event = { id = xian.103 }}
			clr_country_flag = KMT_xian_making_demand
		}
	}
	
	KMT_xian_negotiation_no_prosecution = {
		allowed = { tag = ZXL }
		icon = generic_political_discourse
		visible = {
			has_global_flag = cks_held
			tag = ZXL 
			NOT = {
				has_global_flag = cks_killed_xian
				has_global_flag = xian_negotiation_concluded
				has_global_flag = KMT_chi_no_prosecution_demand 
			}
		}
		available = { 
			NOT = { 
				has_global_flag = KMT_chi_no_prosecution_demand 
			}
		}
		
		days_remove = 10
		
		cost = 50
		
		target_trigger = {
			FROM = { tag = event_target:KMT_central_gov_tag }
		}
		
		complete_effect = {
			set_variable = { global.KMT_xian_negotiation_signed@ROOT = 0 }
			set_country_flag = KMT_xian_making_demand
		}
		
		remove_effect = {
			custom_effect_tooltip = KMT_add_no_prosecution_demand_tt
			set_variable = { global.KMT_xian_negotiation_signed@FROM = 0 }
			set_global_flag = KMT_chi_no_prosecution_demand
			set_variable = { global.KMT_xian_demand_id = 2 }
			FROM = { country_event = { id = xian.103 }}
			clr_country_flag = KMT_xian_making_demand
		}
	}
	
	KMT_xian_negotiation_reject_release_cks = {
		allowed = { tag = ZXL }
		icon = generic_political_discourse
		visible = {
			always = no
			has_global_flag = cks_held
			tag = ZXL 
			NOT = {
				has_global_flag = cks_killed_xian
				has_global_flag = xian_negotiation_concluded
			}
			has_global_flag = KMT_zxl_release_chiang_demand 
		}
		available = { 
			always = no
			has_global_flag = KMT_zxl_release_chiang_demand 
		}
		
		days_remove = 2
		
		target_trigger = {
			FROM = { tag = event_target:KMT_central_gov_tag }
		}
		
		complete_effect = {
			set_variable = { global.KMT_xian_negotiation_signed@ROOT = 0 }
			set_country_flag = KMT_xian_making_demand
		}
		
		remove_effect = {
			custom_effect_tooltip = KMT_reject_release_chiang_demand_tt
			set_variable = { global.KMT_xian_negotiation_signed@FROM = 0 }
			clr_global_flag = KMT_zxl_release_chiang_demand
			set_variable = { global.KMT_xian_demand_id = 5 }
			FROM = { country_event = { id = xian.103 }}
			clr_country_flag = KMT_xian_making_demand
		}
	}
	
	KMT_xian_negotiation_reject_submit = {
		allowed = { tag = ZXL }
		icon = generic_political_discourse
		visible = {
			has_global_flag = cks_held
			tag = ZXL 
			NOT = {
				has_global_flag = cks_killed_xian
				has_global_flag = xian_negotiation_concluded
			}
			has_global_flag = KMT_zxl_submit_demand 
		}
		available = { 
			has_global_flag = KMT_zxl_submit_demand 
		}
		
		days_remove = 2
		
		ai_will_do = {
			base = 0
			modifier = {
				has_global_flag = KMT_chi_no_prosecution_demand
				add = 100
			}
		}
		
		target_trigger = {
			FROM = { tag = event_target:KMT_central_gov_tag }
		}
		
		complete_effect = {
			set_variable = { global.KMT_xian_negotiation_signed@ROOT = 0 }
			set_country_flag = KMT_xian_making_demand
		}
		
		remove_effect = {
			custom_effect_tooltip = KMT_reject_submission_demand_tt
			set_variable = { global.KMT_xian_negotiation_signed@FROM = 0 }
			clr_global_flag = KMT_zxl_submit_demand
			set_variable = { global.KMT_xian_demand_id = 6 }
			FROM = { country_event = { id = xian.103 }}
			clr_country_flag = KMT_xian_making_demand
		}
	}
#	
#	KMT_xian_negotiation_release_cks = {
#		allowed = { tag = ZXL }
#		icon = generic_political_discourse
#		visible = {
#			has_global_flag = cks_held
#			tag = ZXL 
#			NOT = {
#				has_global_flag = cks_killed_xian
#				has_global_flag = xian_negotiation_concluded
#				has_global_flag = KMT_zxl_release_chiang_demand 
#			}
#		}
#		available = { 
#			NOT = { 
#				has_global_flag = KMT_zxl_release_chiang_demand 
#			}
#		}
#		
#		ai_will_do = {
#			base = 1000
#		}
#		
#		days_remove = 5
#		
#		target_trigger = {
#			FROM = { tag = ZXL }
#		}
#		
#		complete_effect = {
#			set_variable = { global.KMT_xian_negotiation_signed@ROOT = 0 }
#			set_country_flag = KMT_xian_making_demand
#		}
#		
#		remove_effect = {
#			custom_effect_tooltip = KMT_add_release_chiang_demand_tt
#			set_global_flag = KMT_zxl_release_chiang_demand
#			set_variable = { global.KMT_xian_demand_id = 3 }
#			FROM = { country_event = { id = xian.103 }}
#			clr_country_flag = KMT_xian_making_demand
#		}
#	}
	
	KMT_xian_negotiation_immediate_submission = {
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes 
			NOT = {
				tag = PRC
				tag = ZXL
			}
		}
		icon = generic_political_discourse
		visible = {
			has_global_flag = cks_held
			tag = event_target:KMT_central_gov_tag 
			NOT = {
				has_global_flag = cks_killed_xian
				has_global_flag = xian_negotiation_concluded
				has_global_flag = KMT_zxl_submit_demand 
			}
		}
		available = { 
			NOT = { 
				has_global_flag = KMT_zxl_submit_demand 
			}
		}
		
		days_remove = 10
		
		cost = 50
		
		target_trigger = {
			FROM = { tag = ZXL }
		}
		
		complete_effect = {
			set_variable = { global.KMT_xian_negotiation_signed@ROOT = 0 }
			set_country_flag = KMT_xian_making_demand
		}
		
		remove_effect = {
			custom_effect_tooltip = KMT_add_submit_demand_tt
			set_variable = { global.KMT_xian_negotiation_signed@FROM = 0 }
			set_global_flag = KMT_zxl_submit_demand
			set_variable = { global.KMT_xian_demand_id = 4 }
			FROM = { country_event = { id = xian.103 }}
			clr_country_flag = KMT_xian_making_demand
		}
	}
	
	KMT_xian_negotiation_reject_stop_civil_war = {
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes 
			NOT = {
				tag = PRC
				tag = ZXL
			}
		}
		icon = generic_political_discourse
		visible = {
			has_global_flag = cks_held
			tag = event_target:KMT_central_gov_tag
			NOT = {
				has_global_flag = cks_killed_xian
				has_global_flag = xian_negotiation_concluded
			}
			has_global_flag = KMT_chi_stop_civil_war_demand
		}
		available = { 
			has_global_flag = KMT_chi_stop_civil_war_demand 
		}
		
		days_remove = 2
		
		target_trigger = {
			FROM = { tag = ZXL }
		}
		
		complete_effect = {
			set_variable = { global.KMT_xian_negotiation_signed@ROOT = 0 }
			set_country_flag = KMT_xian_making_demand
		}
		
		remove_effect = {
			custom_effect_tooltip = KMT_reject_stop_civil_war_demand_tt
			set_variable = { global.KMT_xian_negotiation_signed@FROM = 0 }
			clr_global_flag = KMT_chi_stop_civil_war_demand
			set_variable = { global.KMT_xian_demand_id = 7 }
			FROM = { country_event = { id = xian.103 }}
			clr_country_flag = KMT_xian_making_demand
		}
	}
	
	KMT_xian_negotiation_reject_no_prosecution = {
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes 
			NOT = {
				tag = PRC
				tag = ZXL
			}
		}
		icon = generic_political_discourse
		visible = {
			has_global_flag = cks_held
			tag = event_target:KMT_central_gov_tag
			NOT = {
				has_global_flag = cks_killed_xian
				has_global_flag = xian_negotiation_concluded
			}
			has_global_flag = KMT_chi_no_prosecution_demand
		}
		available = { 
			has_global_flag = KMT_chi_no_prosecution_demand 
		}
		
		days_remove = 2
		
		target_trigger = {
			FROM = { tag = event_target:KMT_central_gov_tag }
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				has_global_flag = KMT_chi_no_prosecution_demand
				add = 100
			}
		}
		
		complete_effect = {
			set_variable = { global.KMT_xian_negotiation_signed@ROOT = 0 }
			set_country_flag = KMT_xian_making_demand
		}
		
		remove_effect = {
			custom_effect_tooltip = KMT_reject_release_chiang_demand_tt
			set_variable = { global.KMT_xian_negotiation_signed@FROM = 0 }
			clr_global_flag = KMT_chi_no_prosecution_demand
			set_variable = { global.KMT_xian_demand_id = 8 }
			FROM = { country_event = { id = xian.103 }}
			clr_country_flag = KMT_xian_making_demand
		}
	}
}

KMT_dcat_liangguang_incident = {
	KMT_liangguang_war_mission = {
		activation = { 
			tag = event_target:KMT_central_gov_tag
			has_global_flag = liangguang_incident_war
			OR = {
				has_war_with = GXC
				has_war_with = YUT
			}
		}
		
		available = {
			OR = {
				NOT = { has_global_flag = liangguang_incident_war }
				NOT = {
					has_war_with = GXC
					has_war_with = YUT
				}
				has_war_with = HYQ
			}
		}
		
		fire_only_once = yes
		
		days_mission_timeout = 200
		
		is_good = no
		
		priority = 100
		
		timeout_effect = {
			country_event = { id = jyutgwai.66 }
		}
	}
	
	KMT_liangguang_negotiation_mission = {
		activation = { always = no }
		icon = generic_political_discourse
		
		visible = {
			NOT = {
				event_target:KMT_central_gov_tag = {
					has_country_flag = KMT_red_coup_finish
					has_country_flag = KMT_pro_japanese_coup
				}
			}
			hidden_trigger = {
				event_target:KMT_central_gov_tag = {
					NOT = {
						has_country_flag = KMT_pro_japanese_coup
						has_country_flag = KMT_red_coup_finish
					}
				}
			}
		}
		
		available = {
			OR = {
				NOT = {
					has_global_flag = liangguang_incident
				}
				has_global_flag = liangguang_incident_war
			}
			hidden_trigger = {
				event_target:KMT_central_gov_tag = {
					NOT = {
						has_country_flag = KMT_pro_japanese_coup
						has_country_flag = KMT_red_coup_finish
					}
				}
			}
		}
		
		days_mission_timeout = 90

		cancel_if_not_visible = yes
		
		is_good = yes
		
		priority = 1000
		
		timeout_effect = {
			country_event = { id = jyutgwai.20 }
		}
	}
	
	KMT_reputation_damaged_mission = {
		icon = generic_political_rally
		activation = { always = no }
		
		visible = {
			NOT = {
				event_target:KMT_central_gov_tag = {
					has_country_flag = KMT_red_coup_finish
					has_country_flag = KMT_pro_japanese_coup
				}
			}
			hidden_trigger = {
				event_target:KMT_central_gov_tag = {
					NOT = {
						has_country_flag = KMT_pro_japanese_coup
						has_country_flag = KMT_red_coup_finish
					}
				}
			}
		}
		
		available = {
			NOT = {
				has_global_flag = liangguang_incident
			}
			hidden_trigger = {
				event_target:KMT_central_gov_tag = {
					NOT = {
						has_country_flag = KMT_pro_japanese_coup
						has_country_flag = KMT_red_coup_finish
					}
				}
			}
		}
		
		days_mission_timeout = 35

		cancel_if_not_visible = yes
		
		is_good = no
		
		priority = 999
		
		timeout_effect = {
			country_event = { id = jyutgwai.11 }
		}
	}
	
	KMT_break_negotiation = {
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes 
		}
		icon = generic_prepare_civil_war
		visible = {
			tag = event_target:KMT_central_gov_tag
			has_global_flag = liangguang_incident
		}
		
		available = {
			country_exists = GXC
			has_active_mission = KMT_liangguang_negotiation_mission
		}
		
		fire_only_once = yes
		
		cost = 50
		
		ai_will_do = {
			base = 0
		}
		
		target_trigger = {
			FROM = { tag = GXC }
		}
		
		complete_effect = {
			FROM = { country_event = { id = jyutgwai.24 }}
			declare_war_on = { 
				target = FROM
				type = civil_war
			}
			add_stability = -0.2
			add_war_support = -0.2
			add_political_power = -150
		}
	}
}

KMT_dcat_corruption = {
	KMT_hyperinflation_countdown = {
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes 
		}
		icon = hol_attract_foreign_investors
		visible = {
			OR = {
				has_idea = KMT_corrupted_government_wartime
				has_idea = KMT_corrupted_government
			}
		}
		
		activation = {
			tag = event_target:KMT_central_gov_tag
			NOT = { has_war_with = JAP }
			has_global_flag = CHI_warred_with_JAP
			has_country_flag = KMT_can_hyperinflation_flag
			OR = {
				has_idea = KMT_corrupted_government
				has_idea = KMT_corrupted_government_wartime
			}
		}
		
		days_mission_timeout = 200
		fire_only_once = yes
		
		is_good = no
		
		available = {
			NOT = {
				has_idea = KMT_corrupted_government
				has_idea = KMT_corrupted_government_wartime
			}
		}
		
		timeout_effect = {
			country_event = { id = kmt.209 }
		}
	}
	
	KMT_corruption_investigate_tvsoong = {
		allowed = { tag = CHI }
		icon = hol_attract_foreign_investors
		visible = { has_idea = KMT_soong_tv }
		
		available = {
			NOT = { has_idea = KMT_soong_ml }
			OR = {
				has_stability > 0.85
				has_idea = KMT_jinyuanquan_inflation
				has_idea = KMT_usa_aid_remove_inflation
				AND = {
					has_stability > 0.65
					has_idea = KMT_fsn
				}
			}
		}
		
		
		ai_will_do = {
			base = 10
		}
		
		cost = 200
		
		days_remove = 120
		
		modifier = {
			political_power_cost = 0.25
		}
		
		remove_effect = { country_event = { id = kmt.607 }}
	}
	
	KMT_corruption_investigate_hhkung = {
		allowed = { tag = CHI }
		visible = { has_idea = KMT_hhk }
		icon = hol_attract_foreign_investors
		
		available = {
			OR = {
				has_stability > 0.85
				has_idea = KMT_jinyuanquan_inflation
				has_idea = KMT_usa_aid_remove_inflation
				AND = {
					has_stability > 0.65
					has_idea = KMT_fsn
				}
			}
		}
		
		cost = 200
		
		days_remove = 120
		
		ai_will_do = {
			base = 10
		}
		
		modifier = {
			political_power_cost = 0.25
		}
		
		remove_effect = { country_event = { id = kmt.608 }}
	}
	
	KMT_root_out_corruption = {
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes 
		}
		icon = ger_mefo_bills
		visible = { 
			OR = {
				has_idea = KMT_corrupted_government
				has_idea = KMT_corrupted_government_wartime
			}
		}
		
		available = {
			OR = {
				has_stability > 0.9
				AND = {
					has_stability > 0.7
					has_idea = KMT_fsn
				}
			}
			NOT = {
				has_idea = KMT_hhk
				has_idea = KMT_soong_tv
			}
		}
		
		cost = 300
		
		days_remove = 365
		
		ai_will_do = {
			base = 10
		}
		
		modifier = {
			production_speed_buildings_factor = -0.1
			consumer_goods_factor = 0.3
			political_power_cost = 0.25
		}
		
		remove_effect = { country_event = { id = kmt.609 }}
	}
	
	KMT_jyq_tiger_hunt = {
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes 
		}
		icon = ger_mefo_bills
		visible = { 
			OR = {
				has_idea = KMT_jinyuanquan_inflation
				has_idea = KMT_jinyuanquan_inflation_2
				has_idea = KMT_jinyuanquan_inflation_3
				has_idea = KMT_jinyuanquan_inflation_4
			}
			NOT = { has_idea = KMT_usa_aid_remove_inflation }
		}
		
		available = {
			NOT = { has_idea = KMT_usa_aid_remove_inflation }
		}
		
		cost = 100
		
		fire_only_once = yes
		
		days_remove = 150
		
		ai_will_do = {
			base = 10
		}
		
		cancel_if_not_visible = yes
		
		modifier = {
			political_power_cost = 0.25
			max_command_power = -50
			consumer_goods_factor = 0.15
			production_speed_buildings_factor = -0.15
			industrial_capacity_factory = -0.15
		}
		
		complete_effect = {
			add_stability = -0.05
			add_command_power = -25
		}
		
		remove_effect = { 
			if = {
				limit = { has_idea = KMT_jinyuanquan_inflation }
				swap_ideas = {
					remove_idea = KMT_jinyuanquan_inflation
					add_idea = KMT_jinyuanquan_inflation_2
				}
			}else_if = {
				limit = { has_idea = KMT_jinyuanquan_inflation_2 }
				swap_ideas = {
					remove_idea = KMT_jinyuanquan_inflation_2
					add_idea = KMT_jinyuanquan_inflation_3
				}
			}else_if = {
				limit = { has_idea = KMT_jinyuanquan_inflation_3 }
				swap_ideas = {
					remove_idea = KMT_jinyuanquan_inflation_3
					add_idea = KMT_jinyuanquan_inflation_4
				}
			}else_if = {
				limit = { has_idea = KMT_jinyuanquan_inflation_4 }
				remove_ideas = KMT_jinyuanquan_inflation_4
			}
		}
	}
	
	KMT_jyq_price_control = {
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes 
		}
		icon = ger_mefo_bills
		visible = { 
			OR = {
				has_idea = KMT_jinyuanquan_inflation
				has_idea = KMT_jinyuanquan_inflation_2
				has_idea = KMT_jinyuanquan_inflation_3
				has_idea = KMT_jinyuanquan_inflation_4
			}
			NOT = { has_idea = KMT_usa_aid_remove_inflation }
		}
		
		available = {
			NOT = { has_idea = KMT_usa_aid_remove_inflation }
		}
		
		cost = 100
		
		fire_only_once = yes
		
		days_remove = 75
		
		ai_will_do = {
			base = 10
		}
		
		cancel_if_not_visible = yes
		
		modifier = {
			political_power_cost = 2.5
			consumer_goods_factor = 0.5
			max_command_power = -10
		}
		
		complete_effect = {
			add_stability = -0.05
			add_command_power = -25
		}
		
		remove_effect = { 
			if = {
				limit = { has_idea = KMT_jinyuanquan_inflation }
				swap_ideas = {
					remove_idea = KMT_jinyuanquan_inflation
					add_idea = KMT_jinyuanquan_inflation_2
				}
			}else_if = {
				limit = { has_idea = KMT_jinyuanquan_inflation_2 }
				swap_ideas = {
					remove_idea = KMT_jinyuanquan_inflation_2
					add_idea = KMT_jinyuanquan_inflation_3
				}
			}else_if = {
				limit = { has_idea = KMT_jinyuanquan_inflation_3 }
				swap_ideas = {
					remove_idea = KMT_jinyuanquan_inflation_3
					add_idea = KMT_jinyuanquan_inflation_4
				}
			}else_if = {
				limit = { has_idea = KMT_jinyuanquan_inflation_4 }
				remove_ideas = KMT_jinyuanquan_inflation_4
			}
		}
	}
	
	KMT_jyq_fill_reserve = {
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes 
		}
		icon = ger_mefo_bills
		visible = { 
			OR = {
				has_idea = KMT_jinyuanquan_inflation
				has_idea = KMT_jinyuanquan_inflation_2
				has_idea = KMT_jinyuanquan_inflation_3
				has_idea = KMT_jinyuanquan_inflation_4
			}
			NOT = { has_idea = KMT_usa_aid_remove_inflation }
		}
		
		available = {
			NOT = { has_idea = KMT_usa_aid_remove_inflation }
		}
		
		cost = 100
		
		fire_only_once = yes
		
		days_remove = 150
		
		ai_will_do = {
			base = 10
		}
		
		cancel_if_not_visible = yes
		
		modifier = {
			political_power_cost = 0.1
			consumer_goods_factor = 1
			production_speed_buildings_factor = -0.25
			industrial_capacity_factory = -0.25
		}
		
		remove_effect = { 
			if = {
				limit = { has_idea = KMT_jinyuanquan_inflation }
				swap_ideas = {
					remove_idea = KMT_jinyuanquan_inflation
					add_idea = KMT_jinyuanquan_inflation_2
				}
			}else_if = {
				limit = { has_idea = KMT_jinyuanquan_inflation_2 }
				swap_ideas = {
					remove_idea = KMT_jinyuanquan_inflation_2
					add_idea = KMT_jinyuanquan_inflation_3
				}
			}else_if = {
				limit = { has_idea = KMT_jinyuanquan_inflation_3 }
				swap_ideas = {
					remove_idea = KMT_jinyuanquan_inflation_3
					add_idea = KMT_jinyuanquan_inflation_4
				}
			}else_if = {
				limit = { has_idea = KMT_jinyuanquan_inflation_4 }
				remove_ideas = KMT_jinyuanquan_inflation_4
			}
		}
	}
	
	KMT_jyq_issue_new_legal_tender = {
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes 
		}
		icon = ger_mefo_bills
		visible = { 
			has_idea = KMT_jinyuanquan_inflation_4
			NOT = { has_idea = KMT_usa_aid_remove_inflation }
		}
		
		available = {
			NOT = { has_idea = KMT_usa_aid_remove_inflation }
		}
		
		cost = 100
		
		fire_only_once = yes
		
		days_remove = 150
		
		ai_will_do = {
			base = 10
		}
		
		cancel_if_not_visible = yes
		
		complete_effect = { add_stability = -0.1 }
		
		modifier = {
			political_power_cost = 0.1
			stability_weekly = -0.01
			consumer_goods_factor = 0.35
			production_speed_buildings_factor = -0.1
			industrial_capacity_factory = -0.1
		}
		
		remove_effect = { 
			add_political_power = 300
			add_stability = 0.45
			add_war_support = 0.1
			remove_ideas = KMT_jinyuanquan_inflation_4
		}
	}
}

KMT_dcat_operation_national_glory = {
	KMT_ng_army_manoeuvre = {
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes 
		}
		icon = generic_operation
		days_re_enable = 180
		visible = {
			NOT = {
				any_country = {
					has_country_flag = KMT_national_glory_target
					OR = {
						exists = yes
						NOT = { 
							is_subject_of = ROOT
							is_in_faction_with = ROOT
							OVERLORD = { is_in_faction_with = ROOT }
						}
					}
				}
			}
		}
		
		ai_will_do = {
			base = 10
		}
		
		available = {
			has_war = no
			num_divisions > 10
			has_equipment = { infantry_equipment > 1000 }
		}
		
		days_remove = 30
		
		modifier = {
			experience_gain_army = 0.5
		}
		
		complete_effect = {
			add_equipment_to_stockpile = { type = infantry_equipment amount = -1000 }
		}
		
	}
	
	KMT_ng_navy_manoeuvre = {
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes 
		}
		icon = generic_operation
		days_re_enable = 180
		visible = {
			NOT = {
				any_country = {
					has_country_flag = KMT_national_glory_target
					OR = {
						exists = yes
						NOT = { 
							is_subject_of = ROOT
							is_in_faction_with = ROOT
							OVERLORD = { is_in_faction_with = ROOT }
						}
					}
				}
			}
		}
		
		available = {
			has_war = no
			has_navy_size = { size > 50 }
			has_navy_size = { size > 30 type = convoy }
			OR = {
				has_navy_size = { size > 10 archetype = ship_hull_submarine }
				has_navy_size = { size > 10 archetype = ship_hull_light }
				has_navy_size = { size > 10 archetype = ship_hull_cruiser }
				has_navy_size = { size > 5 archetype = ship_hull_heavy }
				has_navy_size = { size > 1 archetype = ship_hull_carrier }
			}
		}
		
		ai_will_do = {
			base = 10
		}
		
		days_remove = 30
		
		modifier = {
			experience_gain_navy = 0.5
		}
		
		complete_effect = {
			add_equipment_to_stockpile = { type = convoy amount = -2 }
		}
	}
	
	KMT_ng_air_manoeuvre = {
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes 
		}
		icon = generic_operation
		days_re_enable = 180
		visible = {
			NOT = {
				any_country = {
					has_country_flag = KMT_national_glory_target
					OR = {
						exists = yes
						NOT = { 
							is_subject_of = ROOT
							is_in_faction_with = ROOT
							OVERLORD = { is_in_faction_with = ROOT }
						}
					}
				}
			}
		}
		
		ai_will_do = {
			base = 10
		}
		
		available = {
			has_war = no
			OR = {
				custom_trigger_tooltip = {
					check_variable = { num_deployed_planes > 300 }
					tooltip = KMT_more_deployed_plane_than30_tt
				}
				has_equipment = { small_plane_airframe > 200 }
				has_equipment = { medium_plane_fighter_airframe > 125 }
				has_equipment = { jet_fighter_equipment > 100 }
			}
			OR = {
				has_equipment = { small_plane_cas_airframe > 100 }
				has_equipment = { medium_plane_airframe > 100 }
				has_equipment = { jet_tac_bomber_equipment > 50 }
				has_equipment = { large_plane_airframe > 50 }
				has_equipment = { jet_strat_bomber_equipment > 25 }
			}
		}
		
		days_remove = 30
		
		modifier = {
			experience_gain_air = 0.5
		}
		
		complete_effect = {
		}
	}
	
	KMT_train_marine = {
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes 
		}
		icon = generic_military
		visible = {
			NOT = {
				any_country = {
					has_country_flag = KMT_national_glory_target
					OR = {
						exists = yes
						NOT = { 
							is_subject_of = ROOT
							is_in_faction_with = ROOT
							OVERLORD = { is_in_faction_with = ROOT }
						}
					}
				}
			}
		}
		
		available = {
			has_army_experience > 10
			has_navy_experience > 10
		}
		
		days_remove = 100
		
		fire_only_once = yes
		
		modifier = {
			experience_gain_army = -0.01
			experience_gain_navy = -0.01
		}
		
		ai_will_do = {
			base = 10
		}
		
		remove_effect = {
			add_tech_bonus = {
				uses = 1
				bonus = 1
				category = marine_tech
			}
			if = {
				limit = { can_research = marines }
				set_technology = { marines = 1 }
			}else_if = {
				limit = { can_research = marines2 }
				set_technology = { marines2 = 1 }
			}else_if = {
				limit = { can_research = marines3 }
				set_technology = { marines3 = 1 }
			}
			division_template = {
				name = "Hsinpian Luchantui"
				regiments = {
					marine = { x = 0 y = 0 }
					marine = { x = 0 y = 1 }
					marine = { x = 1 y = 0 }
					marine = { x = 1 y = 1 }
				}
				is_locked = yes
			}
			random_owned_controlled_state = {
				prioritize = { 524 }
				create_unit = {
					division = "name = \"Hsinpian 1. Luchantui\" division_template = \"Hsinpian Luchantui\" start_experience_factor = 0.35 "
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Hsinpian 2. Luchantui\" division_template = \"Hsinpian Luchantui\" start_experience_factor = 0.35 "
					owner = ROOT
				}
			}
			set_division_template_lock = { division_template = "Hsinpian Luchantui" is_locked = no }
		}
	}
	
	KMT_train_paratroopers = {
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes 
		}
		icon = generic_military
		visible = {
			NOT = {
				any_country = {
					has_country_flag = KMT_national_glory_target
					OR = {
						exists = yes
						NOT = { 
							is_subject_of = ROOT
							is_in_faction_with = ROOT
							OVERLORD = { is_in_faction_with = ROOT }
						}
					}
				}
			}
		}
		
		available = {
			has_army_experience > 10
			has_air_experience > 10
		}
		
		days_remove = 100
		
		fire_only_once = yes
		
		modifier = {
			experience_gain_army = -0.01
			experience_gain_air = -0.01
		}
		
		ai_will_do = {
			base = 10
		}
		
		remove_effect = {
			add_tech_bonus = {
				uses = 1
				bonus = 1
				category = para_tech
			}
			if = {
				limit = { can_research = paratroopers }
				set_technology = { paratroopers = 1 }
			}else_if = {
				limit = { can_research = paratroopers2 }
				set_technology = { paratroopers2 = 1 }
			}else_if = {
				limit = { can_research = paratroopers3 }
				set_technology = { paratroopers3 = 1 }
			}
			division_template = {
				name = "Hsinpian Sanping Tatui"
				regiments = {
					paratrooper = { x = 0 y = 0 }
					paratrooper = { x = 0 y = 1 }
					paratrooper = { x = 1 y = 0 }
					paratrooper = { x = 1 y = 1 }
				}
				is_locked = yes
			}
			random_owned_controlled_state = {
				prioritize = { 524 }
				create_unit = {
					division = "name = \"Hsinpian 1. Sanping Tatui\" division_template = \"Hsinpian Sanping Tatui\" start_experience_factor = 0.35 "
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Hsinpian 2. Sanping Tatui\" division_template = \"Hsinpian Sanping Tatui\" start_experience_factor = 0.35 "
					owner = ROOT
				}
			}
			set_division_template_lock = { division_template = "Hsinpian Sanping Tatui" is_locked = no }
		}
	}
	
	KMT_train_mountaineers = {
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes 
		}
		icon = generic_military
		visible = {
			NOT = {
				any_country = {
					has_country_flag = KMT_national_glory_target
					OR = {
						exists = yes
						NOT = { 
							is_subject_of = ROOT
							is_in_faction_with = ROOT
							OVERLORD = { is_in_faction_with = ROOT }
						}
					}
				}
			}
		}
		
		available = {
			has_army_experience > 20
		}
		
		days_remove = 100
		
		fire_only_once = yes
		
		modifier = {
			experience_gain_army = -0.02
		}
		
		ai_will_do = {
			base = 10
		}
		
		remove_effect = {
			add_tech_bonus = {
				uses = 1
				bonus = 1
				category = mountaineers_tech
			}
			if = {
				limit = { can_research = tech_mountaineers }
				set_technology = { tech_mountaineers = 1 }
			}else_if = {
				limit = { can_research = tech_mountaineers2 }
				set_technology = { tech_mountaineers2 = 1 }
			}else_if = {
				limit = { can_research = tech_mountaineers3 }
				set_technology = { tech_mountaineers3 = 1 }
			}
			division_template = {
				name = "Hsinpian Shanti Putui"
				regiments = {
					mountaineers = { x = 0 y = 0 }
					mountaineers = { x = 0 y = 1 }
					mountaineers = { x = 1 y = 0 }
					mountaineers = { x = 1 y = 1 }
				}
				is_locked = yes
			}
			random_owned_controlled_state = {
				prioritize = { 524 }
				create_unit = {
					division = "name = \"Hsinpian 1. Shanti Putui\" division_template = \"Hsinpian Shanti Putui\" start_experience_factor = 0.35 "
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Hsinpian 2. Shanti Putui\" division_template = \"Hsinpian Shanti Putui\" start_experience_factor = 0.35 "
					owner = ROOT
				}
			}
			set_division_template_lock = { division_template = "Hsinpian Shanti Putui" is_locked = no }
		}
	}
	
	KMT_entrust_the_white_group = {
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes 
		}
		icon = generic_political_discourse
		visible = {
			has_global_flag = CHI_warred_with_JAP
			NOT = {
				tag = PRC
				any_country = {
					has_country_flag = KMT_national_glory_target
					OR = {
						exists = yes
						NOT = { 
							is_subject_of = ROOT
							is_in_faction_with = ROOT
							OVERLORD = { is_in_faction_with = ROOT }
						}
					}
				}
			}
		}
		
		available = {
			amount_taken_ideas = {
				amount < 3
				slots = { high_command }
			}
		}
		
		ai_will_do = {
			base = 10
		}
		
		cost = 50
		
		complete_effect = {
			add_ideas = yasuji_okamura
		}
	}
	
	KMT_liberate_bandit_occupied_regions = {
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes 
		}
		icon = generic_intelligence_operation
		visible = {
			FROM = {
				has_country_flag = KMT_national_glory_target
				NOT = { 
					is_subject_of = ROOT
					is_in_faction_with = ROOT
					OVERLORD = { is_in_faction_with = ROOT }
				}
			}
			NOT = {	has_war_with = FROM }
		}
		
		target_trigger = {
			FROM = {
				has_country_flag = KMT_national_glory_target
				NOT = { 
					is_subject_of = ROOT
					is_in_faction_with = ROOT
					OVERLORD = { is_in_faction_with = ROOT }
				}
			}
		}
		
		available = {
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				strength_ratio = {
					tag = FROM
					ratio > 1.2
				}
				add = 10
			}
			modifier = {
				FROM = { is_subject = yes }
				factor = 0
			}
		}
		
		cost = 50
		
		days_remove = 60
		
		complete_effect = {
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
		
		targeted_modifier = {
			tag = FROM
			attack_bonus_against = 0.15
			breakthrough_bonus_against = 0.15
		}
	}
}

KMT_dcat_trautmann_mediation = {
	KMT_trautmann_mediation_mission = {
		icon = generic_political_discourse
		activation = { always = no }
		
		days_mission_timeout = 170
		is_good = no
		
		available = {
			OR = {
				has_global_flag = KMT_trautmann_fail_flag
				has_global_flag = KMT_trautmann_success_flag
				has_global_flag = KMT_foreign_intervention_in_sino_jap_war
				NOT = {
					JAP = { has_war_with = event_target:KMT_central_gov_tag }
				}
			}
		}
		
		complete_effect = {
			if = {
				limit = { tag = JAP }
				if = {
					limit = { has_global_flag = KMT_trautmann_success_flag }
					trautmann_truce_effect = yes
					news_event = { id = kns.46 hours = 2 }
				}else_if = {
					limit = { JAP = { has_war_with = event_target:KMT_central_gov_tag }}
					news_event = { id = kns.45 hours = 2 }
				}
			}else = {
				effect_tooltip = {
					if = {
						limit = { has_global_flag = KMT_trautmann_success_flag }
						news_event = { id = kns.46 hours = 2 }
					}else_if = {
						limit = { JAP = { has_war_with = event_target:KMT_central_gov_tag }}
						news_event = { id = kns.45 hours = 2 }
					}
				}
			}
			clr_global_flag = KMT_trautmann_mediation_flag
		}
		
		timeout_effect = {
			if = {
				limit = { tag = JAP }
				news_event = { id = kns.45 hours = 2 }
			}else_if = {
				limit = { JAP = { has_war_with = event_target:KMT_central_gov_tag }}
				effect_tooltip = {
					news_event = { id = kns.45 hours = 2 }
				}
			}
			clr_global_flag = KMT_trautmann_mediation_flag
			set_global_flag = KMT_trautmann_fail_flag
		}
	}
	
	KMT_mediation_from_germany = {
		allowed = { 
			tag = JAP
		}
		icon = generic_political_discourse
		visible = { 
			tag = JAP
			OR = {
				is_faction_leader = yes
				is_in_faction = no
			}
			GER = {
				exists = yes
				is_subject = no
				NOT = { 
					has_war_with = JAP
					has_war_with = event_target:KMT_central_gov_tag
				}
			}
			NOT = { has_global_flag = fall_of_nanjing }
			NOT = { has_global_flag = no_more_trautmann }
			NOT = { has_global_flag = KMT_trautmann_success_flag }
			NOT = { has_global_flag = KMT_trautmann_fail_flag }
			NOT = { has_global_flag = xian_civil_war }
			NOT = { has_global_flag = KMT_foreign_intervention_in_sino_jap_war }
			NOT = { any_country = { has_completed_focus = KMT_privilege_to_proletarians} }
			NOT = { any_country = { has_completed_focus = KMT_support_pro_japanese_faction} }
			has_war_with = event_target:KMT_central_gov_tag
			event_target:KMT_central_gov_tag = { 
				NOT = { tag = HYQ }
				surrender_progress < 0.25 
				is_subject = no
				OR = {
					is_faction_leader = yes
					is_in_faction = no
				}
			}
			NOT = { has_global_flag = KMT_trautmann_mediation_flag }
			threat < 0.3
		}
		
		available = {
			date < 1939.1.1
			event_target:KMT_central_gov_tag = { surrender_progress < 0.25 }
			NOT = { has_global_flag = fall_of_nanjing }
			GER = { has_civil_war = no }
			threat < 0.3
		}
		
		ai_will_do = { 
			base = 10000 
		}
		
		cost = 25
		
		fire_only_once = yes
		
		complete_effect = {
			GER = { country_event = { id = kmt.639 }}
		}
	}
	
	KMT_jap_raise_terms1 = {
		icon = generic_political_discourse
		allowed = { 
			tag = JAP
		}
		visible = { 
			tag = JAP
			has_global_flag = KMT_trautmann_mediation_flag
			check_variable = {
				global.KMT_trautmann_jap_demand_level < 1 
			}
		}
		
		available = {
			OR = {
				613 = {
					CONTROLLER = {
						OR = {
							tag = JAP
							is_subject_of = JAP
							is_in_faction_with = JAP
						}
					}
				}
				event_target:KMT_central_gov_tag = {
					surrender_progress > 0.4
				}
			}
		}
		
		ai_will_do = {
			base = 100
		}
		
		cost = 10
		
		complete_effect = {
			event_target:KMT_central_gov_tag = {
				add_days_mission_timeout = {
					mission = KMT_trautmann_mediation_mission
					days = 10
				}
				country_event = { id = kmt.642 }
			}
			add_days_mission_timeout = {
				mission = KMT_trautmann_mediation_mission
				days = 10
			}
			add_to_variable = { global.KMT_trautmann_jap_demand_level = 1 }
		}
	}
	
	KMT_chi_raise_terms = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_political_discourse
		visible = { 
			tag = event_target:KMT_central_gov_tag
			has_global_flag = KMT_trautmann_mediation_flag
		}
		
		available = {
			has_global_flag = KMT_defence_of_shanghai_successful
			has_full_control_of_state = 938
			surrender_progress < 0.35
		}
		
		ai_will_do = {
			base = 100
		}
		
		days_remove = 15
		
		fire_only_once = yes
		
		cost = 10
		
		cancel_trigger = {
			OR = {
				has_global_flag = KMT_trautmann_fail_flag
				has_global_flag = KMT_trautmann_success_flag
			}
		}
		
		complete_effect = {
			add_days_mission_timeout = {
				mission = KMT_trautmann_mediation_mission
				days = 45
			}
			JAP = {
				add_days_mission_timeout = {
					mission = KMT_trautmann_mediation_mission
					days = 45
				}
			}
		}
		
		remove_effect = {
			custom_effect_tooltip = KMT_trautmann_chi_demands_tt
			JAP = {
				country_event = { id = kmt.678 }
			}
			set_global_flag = KMT_trautmann_chi_demanded
		}
	}
	
	KMT_china_accept = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = eng_trade_unions_support
		visible = { 
			tag = event_target:KMT_central_gov_tag
			has_global_flag = KMT_trautmann_mediation_flag
		}
		
		complete_effect = {
			set_variable = { global.KMT_trautmann_current_jap_demand_level = global.KMT_trautmann_jap_demand_level }
		}
		
		available = {
			NOT = { has_active_mission = KMT_defence_of_shanghai_mission }
			NOT = {
				has_global_flag = {
					flag = KMT_trautmann_chi_demanded
					days < 10
				}
			}
		}
		
		cancel_trigger = {
			OR = {
				has_global_flag = KMT_trautmann_fail_flag
				check_variable = {
					global.KMT_trautmann_current_jap_demand_level < global.KMT_trautmann_jap_demand_level
				}
				has_global_flag = {
					flag = KMT_trautmann_chi_demanded
					days < 10
				}
			}
		}
		
		days_remove = 5
		
		ai_will_do = {
			base = 0
			modifier = {
				surrender_progress > 0.5
				add = 10
			}
			modifier = {
				check_variable = { global.KMT_trautmann_jap_demand_level > 0 }
				factor = 0
			}
			modifier = {
				has_war_with = PRC
				add = 1000
			}
		}
		
		remove_effect = {
			JAP = {
				country_event = { id = kmt.643 }
			}
		}
	}
	
	KMT_withdraw_from_negotiation = {
		allowed = { 
			OR = {
				is_chinese_nations_w_HYQ_allowed = yes 
				tag = JAP
			}
		}
		icon = generic_break_treaty
		visible = { 
			OR = {
				tag = event_target:KMT_central_gov_tag
				tag = JAP
			}
			has_global_flag = KMT_trautmann_mediation_flag
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				add = 100
				tag = JAP
				has_global_flag = KMT_trautmann_chi_demanded
				event_target:KMT_central_gov_tag = { surrender_progress > 0.4 }
			}
			modifier = {
				add = 100
				tag = JAP
				has_global_flag = KMT_trautmann_chi_demanded
				938 = {
					OWNER = {
						is_chinese_nations_w_HYQ = yes
						has_war_with = ROOT
					}
					CONTROLLER = {
						OR = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
							tag = ROOT
						}
					}
				}
			}
		}
		
		complete_effect = {
			set_global_flag = KMT_trautmann_fail_flag
			clr_global_flag = KMT_trautmann_mediation_flag
			if = {
				limit = { tag = JAP }
				event_target:KMT_central_gov_tag = { country_event = { id = kmt.646 }}
			}else = {
				JAP = { country_event = { id = kmt.646 }}
			}
			GER = { country_event = { id = kmt.646 }}
		}
	}
}

war_measures = {
	KMT_recruit_militia = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_military
		visible = {
			FROM = { 
				is_controlled_by = ROOT 
				is_owned_by = ROOT
			}
			OR = {
				has_completed_focus = KMT_sway_the_people
				has_completed_focus = KMT_local_militia_recruitment
				has_completed_focus = KMT_offensive_operations
			}
		}
	
		target_array = core_states
		
		state_target = yes
		
		ai_will_do = { 
			base = 0 
		}
		
		on_map_mode = map_only
		
		custom_cost_text = MCK_50cp
		
		custom_cost_trigger = { NOT = { command_power < 50 }}
		
		days_re_enable = 120
		
		complete_effect = {
			hidden_effect = { add_command_power = -50 }
			custom_effect_tooltip = KMT_delete_when_not_at_war_tt
			hidden_effect = {
				if = {
					limit = { NOT = { has_idea = KMT_militia_hidden_idea }}
					add_ideas = KMT_militia_hidden_idea
				}
			}
			FROM = {
				create_unit = {
					division = "name = \"Lin-shih Min-ping\" division_template = \"Lin-shih Min-ping\""
					owner = ROOT
				}
			}
		}
	}
}

KMT_dcat_ps_border_conflict = {
	KMT_attack_this_state = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_ignite_civil_war
		state_target = yes
		
		on_map_mode = map_only
		
		target_trigger = {
			FROM = {
				any_neighbor_state = { 
					is_owned_by = ROOT
					is_controlled_by = ROOT
				}
				NOT = { is_owned_by = ROOT }
				OWNER = { 
					is_valid_power_struggle_participant = yes 
				}
			}
		}
		
		visible = {
			FROM = {
				any_neighbor_state = { 
					is_owned_by = ROOT
					is_controlled_by = ROOT
					NOT = {
						has_border_war_between = {
							attacker = THIS
							defender = PREV
						}
					}
				}
				NOT = { is_owned_by = ROOT }
				OWNER = {
					#NOT = { is_in_array = { THIS.KMT_ps_alliance_array = ROOT }}
					is_valid_power_struggle_participant = yes
					has_full_control_of_state = FROM
					if = {
						limit = { NOT = { tag = PRC }}
						NOT = { is_in_faction_with = ROOT }
						ROOT = { NOT = { is_subject_of = PREV }}
					}
					NOT = { is_subject_of = ROOT }
				}
			}
			if = {
				limit = { has_completed_focus = KMT_devote_to_the_party_and_state }
				FROM = { NOT = { is_owned_by = event_target:KMT_central_gov_tag }}
			}
		}
		
		custom_cost_trigger = {
			command_power > 24
			has_political_power > 49
		}
		
		custom_cost_text = 25cp_50pp
		
		days_remove = 10
		
		available = { 
			if = {
				limit = { NOT = { tag = PRC }}
				num_divisions > 2
			}else = {
				OR = {
					AND = {
						num_divisions > 2
						FROM = {
							OWNER = {
								NOT = { is_in_faction_with = ROOT }
								ROOT = { NOT = { is_subject_of = PREV }}
							}
						}
					}
					AND = {
						any_state = { 
							any_neighbor_state = { state = FROM }
							is_owned_by = ROOT
							custom_trigger_tooltip = {
								tooltip = PRC_guerrilla_cell_requirement15_tt
								check_variable = { 
									var = PRC_state_guerrilla_cell_strength 
									value = 15
									compare = greater_than_or_equals
								}
							}
						}
						FROM = {
							owner = { 
								divisions_in_state = { 
									state = FROM 
									size < 5 
								}
							}
							is_capital = no
						}
					}
				}
			}
			FROM = {
				OWNER = { has_full_control_of_state = FROM }
			}
			custom_trigger_tooltip = {
				tooltip = KMT_ps_bw_target_trigger_tt
				FROM = {
					any_neighbor_state = {
						is_owned_by = ROOT
						ROOT = { has_full_control_of_state = PREV }
					}
				}
			}
			if = {
				limit = { has_completed_focus = KMT_counteroffensive_operations }
				custom_trigger_tooltip = {
					tooltip = KMT_has_been_attacked_by_from
					check_variable = { FROM.KMT_psbw_attacked_target@ROOT = 1 }
				}
			}
			if = {
				limit = { has_completed_focus = KMT_offensive_operations }
				FROM = {
					OWNER = {
						NOT = {
							tag = event_target:KMT_central_gov_tag
							has_completed_focus = KMT_devote_to_the_party_and_state
						}
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = KMT_owner_not_in_array
				FROM = {
					OWNER = {
						NOT = {
							is_in_array = { ROOT.KMT_ps_alliance_array = THIS }
						}
						NOT = {
							is_in_array = { THIS.KMT_ps_alliance_array = ROOT }
						}
					}
				}
			}
		}
		
		cancel_if_not_visible = yes
		
		complete_effect = {
			hidden_effect = {
				add_political_power = -50
				add_command_power = -50
				if = { 
					limit = { 
						is_ai = yes 
						NOT = { has_active_mission = KMT_ai_border_war_warning }
					}
					FROM = {
						OWNER = { 
							ROOT = { activate_targeted_decision = { target = PREV decision = KMT_ai_border_war_warning }}
						}
					}
				}
				if = { 
					limit = { 
						FROM = { 
							OWNER = { is_ai = yes }
							NOT = { has_active_mission = KMT_ai_border_war_warning }
						}
					}
					FROM = {
						OWNER = { 
							activate_targeted_decision = { target = ROOT decision = KMT_ai_border_war_warning }
						}
					}
				}
			}
		}
		
		remove_effect = {
			if = {
				limit = { 
					OR = {
						NOT = { tag = PRC }
						AND = {
							tag = PRC
							num_divisions > 2
						}
					}
				}
				hidden_effect = {
					FROM = {
						OWNER = { save_event_target_as = KMT_psbw_temp_defender_tag }
					}
					if = {
						limit = { 
							any_owned_state = { 
								any_neighbor_state = { state = FROM }
								is_controlled_by = ROOT 
								check_variable = { KMT_is_bw_prioritised_state@ROOT = 1 }
								NOT = { has_border_war_with = FROM }
							}
						}
						random_owned_controlled_state = {
							limit = { check_variable = { KMT_is_bw_prioritised_state@ROOT = 1 }}
							save_event_target_as = KMT_psbw_attacker_state
						}
					}else = {
						random_owned_controlled_state = {
							limit = { 
								any_neighbor_state = { state = FROM }
								NOT = { has_border_war_with = FROM }
							}
							save_global_event_target_as = KMT_psbw_attacker_state
						}
					}
				}
				event_target:KMT_psbw_temp_defender_tag = { 
					add_to_variable = { ROOT.KMT_ongoing_border_wars_against@THIS = 1 }
					set_variable = { ROOT.KMT_psbw_attacked_target@THIS = 1 }
				}
				start_border_war = {
					change_state_after_war = no
					attacker = {
						num_provinces = 3
						state = event_target:KMT_psbw_attacker_state
						modifier = ROOT.KMT_warlord_border_war_attacker_modifier
						on_win = kmt_powerstruggle.48
						on_lose = kmt_powerstruggle.50
						on_cancel = kmt_powerstruggle.51
					}
					defender = {
						state = FROM
						num_provinces = 3
						modifier = KMT_psbw_temp_defender_tag.KMT_warlord_border_war_defender_modifier
						on_win = kmt_powerstruggle.52
						on_lose = kmt_powerstruggle.53
						on_cancel = kmt_powerstruggle.54
					}
				}
			}else = {
				if = {
					limit = {
						any_owned_state = {
							check_variable = { 
								var = PRC_state_guerrilla_cell_strength 
								value = 15
								compare = greater_than_or_equals
							}
							check_variable = { KMT_is_bw_prioritised_state@ROOT = 1 }
							any_neighbor_state = { state = FROM }
						}
					}
					random_owned_state = {
						limit = {
							check_variable = { 
								var = PRC_state_guerrilla_cell_strength 
								value = 15
								compare = greater_than_or_equals
							}
							check_variable = { KMT_is_bw_prioritised_state@ROOT = 1 }
							any_neighbor_state = { state = FROM }
						}
						subtract_from_variable = { PRC_state_guerrilla_cell_strength = 10 }
					}
				}else = {
					random_owned_state = {
						limit = {
							check_variable = { 
								var = PRC_state_guerrilla_cell_strength 
								value = 15
								compare = greater_than_or_equals
							}
							any_neighbor_state = { state = FROM }
						}
						subtract_from_variable = { PRC_state_guerrilla_cell_strength = 10 }
					}
				}
				FROM = {
					if = {
						limit = { NOT = { has_state_flag = KMT_PRC_state_has_guerrilla_cell }}
						set_variable = { var = PRC_state_guerrilla_cell_strength value = 10 }
						set_variable = { var = PRC_state_establish_cell_tick_progress value = 0 }
						set_state_flag = KMT_PRC_state_has_guerrilla_cell
						clr_state_flag = PRC_cell_establishing_in_progress
					}else = {
						add_to_variable = { PRC_state_guerrilla_cell_strength = 10 }
					}
				}
				custom_effect_tooltip = PRC_use_gcs_border_war_tt
				if = {
					limit = {
						set_temp_variable = { FROM.PRC_temp_guerrilla_strength = FROM.PRC_state_guerrilla_cell_strength }
						multiply_temp_variable = { FROM.PRC_temp_guerrilla_strength = 0.1 }
						round_temp_variable = FROM.PRC_temp_guerrilla_strength
						FROM = {
							OWNER = {
								if = {
									limit = { check_variable = { FROM.PRC_temp_guerrilla_strength < 10 }}
									divisions_in_state = {
										state = FROM
										size > 10
									}
								}
								if = {
									limit = { check_variable = { FROM.PRC_temp_guerrilla_strength < 9 }}
									divisions_in_state = {
										state = FROM
										size > 9
									}
								}
								if = {
									limit = { check_variable = { FROM.PRC_temp_guerrilla_strength < 8 }}
									divisions_in_state = {
										state = FROM
										size > 8
									}
								}
								if = {
									limit = { check_variable = { FROM.PRC_temp_guerrilla_strength < 7 }}
									divisions_in_state = {
										state = FROM
										size > 7
									}
								}
								if = {
									limit = { check_variable = { FROM.PRC_temp_guerrilla_strength < 6 }}
									divisions_in_state = {
										state = FROM
										size > 6
									}
								}
								if = {
									limit = { check_variable = { FROM.PRC_temp_guerrilla_strength < 5 }}
									divisions_in_state = {
										state = FROM
										size > 5
									}
								}
								if = {
									limit = { check_variable = { FROM.PRC_temp_guerrilla_strength < 4 }}
									divisions_in_state = {
										state = FROM
										size > 4
									}
								}
								if = {
									limit = { check_variable = { FROM.PRC_temp_guerrilla_strength < 3 }}
									divisions_in_state = {
										state = FROM
										size > 3
									}
								}
								if = {
									limit = { check_variable = { FROM.PRC_temp_guerrilla_strength < 2 }}
									divisions_in_state = {
										state = FROM
										size > 2
									}
								}
								if = {
									limit = { check_variable = { FROM.PRC_temp_guerrilla_strength < 1 }}
									divisions_in_state = {
										state = FROM
										size > 1
									}
								}
							}
						}
					}
					FROM = {
						OWNER = { country_event = { id = prc.319 }}
					}
				}else = {
					ROOT = { transfer_state = FROM }
					FROM = {
						OWNER = { country_event = { id = prc.320 }}
					}
				}
				add_to_variable = { global.PRC_expansion_ire = 1 }
			}
		}
	}
	
	KMT_prioritise_this_origin = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = eng_trade_unions_demand
		state_target = yes
		
		on_map_mode = map_only
		
		target_array = owned_states
		
		target_trigger = {
			FROM = {
				any_neighbor_state = { 
					NOT = { is_owned_by = ROOT }
					OWNER = { is_valid_power_struggle_participant = yes }
				}
			}
		}
		
		visible = {
			FROM = {
				any_neighbor_state = { 
					NOT = { is_owned_by = ROOT }
					OWNER = { is_valid_power_struggle_participant = yes }
				}
			}
		}
		
		days_remove = -1
		
		available = { 
			has_full_control_of_state = FROM 
		}
		
		cancel_trigger = {
			check_variable = { FROM.KMT_is_bw_prioritised_state@ROOT = 0 }
		}
		
		complete_effect = {
			every_state = { set_variable = { KMT_is_bw_prioritised_state@ROOT = 0 }}
			set_variable = { FROM.KMT_is_bw_prioritised_state@ROOT = 1 }
		}
	}
	
	KMT_escalate_bw_to_actual_war = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_prepare_civil_war
		
		target_trigger = {
			FROM = {
				has_border_war_with = ROOT
			}
		}
		
		visible = {
			FROM = {
				has_border_war_with = ROOT
			}
		}
		
		
		custom_cost_trigger = {
			command_power > 49
			has_political_power > 99
		}
		
		custom_cost_text = 50cp_100pp
		
		available = { 
			custom_trigger_tooltip = {
				tooltip = KMT_at_least_2_bw
				check_variable = { ROOT.KMT_ongoing_border_wars_against@FROM > 1 }
			}
			num_divisions > 12
		}
		
		complete_effect = {
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
			FROM = { country_event = kmt_powerstruggle.49 }
		}
	}
	
	KMT_cancel_bw_against = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = eng_trade_unions_support
		
		target_trigger = {
			any_owned_state = {
				is_controlled_by = ROOT
				has_border_war_with = FROM
			}
			FROM = {
				NOT = { is_owned_by = ROOT }
				NOT = { is_controlled_by = ROOT }
			}
		}
		state_target = yes
		
		
		custom_cost_trigger = {
			command_power > 9
			has_political_power > 9
		}
		
		custom_cost_text = 10cp_10pp
		
		visible = {
			any_owned_state = {
				is_controlled_by = ROOT
				has_border_war_with = FROM
			}
			FROM = {
				NOT = { is_owned_by = ROOT }
				NOT = { is_controlled_by = ROOT }
			}
		}
		
		available = { 
		}
		
		complete_effect = {
			every_controlled_state = {
				limit = { has_border_war_with = FROM }
				cancel_border_war = {
					attacker = THIS
					defender = FROM
				}
			}
		}
	}
	
	KMT_ai_border_war_warning = {
		
		activation = {
			always = no
		}
		
		is_good = no
		
		war_with_target_on_remove = yes
		
		days_mission_timeout = 10
		
		timeout_effect = {}
		
		complete_effect = {}
	}
}

KMT_dcat_rail_way_construction = {
	KMT_zhushao_segment = {
	
		icon = generic_construction
		is_good = yes
		days_mission_timeout = 119
		
		available = {
			OR = {
				has_war = yes
				602 = { CONTROLLER = { has_war = yes }}
				978 = { CONTROLLER = { has_war = yes }}
			}
		}
		
		activation = { always = no }
		
		timeout_effect = {
			every_country = {
				limit = {
					OR = {
						tag = ROOT
						controls_state = 602
						controls_state = 978
					}
				}
				country_event = { id = kmt_rail.1 }
			}
			set_global_flag = zhushao_segment_completed
			build_railway = {
				level = 2
				path = { 7097 13143 12350 9982 13425 9970 }
			}
			build_railway = {
				level = 1
				path = { 9970 1120 12095 1047 }
			}
		}
	}
}

KMT_dcat_war_of_resistance = {
	KMT_supreme_council_of_national_defence = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_speech
		available = { has_war = yes }
		
		days_remove = -1
		
		available = {
			has_completed_focus = KMT_national_defense_council
		}
		
		ai_will_do = { base = 100 }
		
		fire_only_once = yes
		
		cancel_trigger = { has_war = no }
		
		modifier = {
			political_power_gain = 0.15
			command_power_gain = 1
			max_command_power = 100
		}
	}
	
	KMT_fire_in_changsha = {
		allowed = { always = no }
		icon = generic_scorched_earth
		visible = {
			602 = {
				OWNER = {
					OR = { 
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		available = {
			OR = {
				602 = {
					CONTROLLER = {
						OR = { 
							tag = ROOT
							is_subject_of = ROOT
						}
						NOT = {
							has_full_control_of_state = 602
						}
					}
				}
				602 = {
					any_neighbor_state = { CONTROLLER = { has_war_with = ROOT }}
				}
				any_country = {
					has_war_with = ROOT
					divisions_in_state = {
						state = 944
						size > 0
					}
				}
			}
		}

		highlight_states = {
			highlight_state_targets = { state = 602 }
		}
		
		fire_only_once = yes
		
		custom_cost_text = 75cp
		
		custom_cost_trigger = { 
			if = {
				limit = { is_ai = no }
				NOT = { command_power < 75 }
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				OR = {
					602 = {
						OWNER = {
							OR = {
								NOT = { controls_province = 9999 }
								NOT = { controls_province = 13441 }
								NOT = { controls_province = 1640 }
								NOT = { controls_province = 13143 }
								NOT = { controls_province = 12483 }
								NOT = { controls_province = 13439 }
							}
						}
					}
					944 = {	OWNER = { NOT = { controls_province = 10517 }}}
				}
				add = 100
			}
			modifier = {
				is_historical_focus_on = yes
				980 = { CONTROLLER = { has_war_with = ROOT }}
				add = 100
			}
		}
		
		complete_effect = {
			hidden_effect = { add_command_power = -75 }
			set_global_flag = KMT_changsha_fire_fired
			602 = {
				damage_building = {
					type = supply_node
					damage = 1
					province = 7097
				}
				if = {
					limit = { check_variable = { industrial_complex_level > 0 }}
					damage_building = {
						type = industrial_complex
						damage = 2
					}
				}
				if = {
					limit = { check_variable = { building_level@arms_factory > 0 }}
					damage_building = {
						type = arms_factory
						damage = 2
					}
				}
				if = {
					limit = { check_variable = { building_level@infrastructure > 0 }}
					damage_building = {
						type = infrastructure
						damage = 2
					}
				}
				if = {
					limit = { check_variable = { building_level@air_base > 0 }}
					damage_building = {
						type = air_base
						damage = 5
					}
				}
				if = {
					limit = { check_variable = { building_level@rail_way > 0 }}
					damage_building = {
						type = rail_way
						damage = 5
					}
				}
				if = {
					limit = { check_variable = { building_level@anti_air_building > 0 }}
					damage_building = {
						type = anti_air_building
						damage = 5
					}
				}
				if = {
					limit = { check_variable = { building_level@radar_station > 0 }}
					damage_building = {
						type = radar_station
						damage = 6
					}
				}
				if = {
					limit = { check_variable = { building_level@synthetic_refinery > 0 }}
					damage_building = {
						type = synthetic_refinery
						damage = 3
					}
				}
				if = {
					limit = { check_variable = { building_level@fuel_silo > 0 }}
					damage_building = {
						type = fuel_silo
						damage = 2
					}
				}
				if = {
					limit = { check_variable = { building_level@rocket_site > 0 }}
					damage_building = {
						type = rocket_site
						damage = 1
					}
				}
				add_dynamic_modifier = {
					modifier = KMT_changsha_fire
					days = 610
				}
			}
			hidden_effect = {
				news_event = { id = kns.59 hours = 1 }
			}
		}
	}
	
	KMT_huayuankou = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = hol_inundate_water_lines
		visible = { 
			607 = {
				OWNER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
						has_idea = KMT_united_front
					}
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = { base = 100 }
		
		available = {
			607 = {
				OWNER = { 
					NOT = { has_full_control_of_state = 607 }
					controls_state = 607
				}
			}
		}

		highlight_states = {
			highlight_state_targets = { state = 607 }
			highlight_provinces = {
				9958
				7656
				13306
				4066
				7126
				10079
				9937
				12036
				11916
				10040
				1161
				1001
				1121
				4005
				1076
				4123
				7181
			}
		}
		
		custom_cost_trigger = {
			if = {
				limit = { is_ai = no }
				NOT = { command_power < 75 }
			}
		}
		
		custom_cost_text = 75cp
		
		complete_effect = {
			add_political_power = -50
			hidden_effect = {
				add_command_power = -75
			}
			607 = {
				damage_building = {
					type = infrastructure
					damage = 1
				}
				add_province_modifier = {
					static_modifiers = { flooded }
					province = {
						id = 9958
						id = 13306
						id = 7656
						id = 4066
					}
				}
			}
			940 = {
				damage_building = {
					type = infrastructure
					damage = 1
				}
				add_province_modifier = {
					static_modifiers = { flooded }
					province = {
						id = 7126
						id = 10079
					}
				}
			}
			606 = {
				damage_building = {
					type = infrastructure
					damage = 5
				}
				damage_building = {
					type = rail_way
					damage = 5
				}
				add_province_modifier = {
					static_modifiers = { flooded }
					province = {
						id = 9937
						id = 4079
						id = 12036
						id = 10040
						id = 11916
					}
				}
			}
			598 = {
				damage_building = {
					type = infrastructure
					damage = 5
				}
				damage_building = {
					type = rail_way
					damage = 5
				}
				add_province_modifier = {
					static_modifiers = { flooded }
					province = {
						id = 1161
						id = 1001
						id = 4005
						id = 1121
						id = 1076
						id = 4123
					}
				}
			}
			set_global_flag = huayuankou_destroyed 
			hidden_effect = { 
				news_event = { id = news.409 } 
			}
		}
		
	}
	
	KMT_retreat_to_sichuan = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = SOV_place_hq
		visible = {
			NOT = { owns_state = 605 }
			tag = event_target:KMT_central_gov_tag
			NOT = { has_country_flag = KMT_chungking_capital }
			capital_scope = { NOT = { state = 605 }}
		}
		
		priority = 100
		
		available = {
			has_war = yes
			surrender_progress > 0.5
			605 = {
				OWNER = {
					custom_trigger_tooltip = {
						tooltip = KMT_has_idea_cg_warlords
						has_idea = cg_warlords
					}
					NOT = { tag = ROOT }
				}
				CONTROLLER = {
					NOT = { has_war_with = ROOT }
				}
			}
		}
		
		cost = 5
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 100
			modifier = {
				has_country_flag = KMT_wuhan_capital
				capital_scope = {
					any_neighbor_state = { 
						controller = { 
							NOT = { has_war_with = ROOT }
							has_full_control_of_state = THIS
						}
					}
					is_fully_controlled_by = ROOT 
					state = 980
				}
				592 = { controller = { NOT = { has_war_with = ROOT }}}
				factor = 0.1
			}
		}
		
		complete_effect = {
			605 = {
				OWNER = {
					country_event = { id = kmt.600 }
				}
			}
		}
	}
	
	KMT_retreat_to_wuhan = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = SOV_place_hq
		visible = {
			owns_state = 980
			controls_state = 980
			tag = event_target:KMT_central_gov_tag
			NOT = { has_country_flag = KMT_wuhan_capital }
			NOT = { has_country_flag = KMT_chungking_capital }
			capital_scope = { 
				state = 613
			}
		}
		
		priority = 100
		
		fire_only_once = yes
		
		cost = 5
		
		available = {
			has_war = yes
			capital_scope = {
				OR = {
					any_neighbor_state = { controller = { has_war_with = ROOT }}
					NOT = { is_fully_controlled_by = ROOT }
				}
			}
		}
		
		ai_will_do = {
			base = 25
			modifier = {	
				is_historical_focus_on = yes
				capital_scope = { 
					is_fully_controlled_by = ROOT 
					state = 613
				}
				date < 1938.11.17
				factor = 0
			}
		}
		
		complete_effect = {
			set_country_flag = KMT_wuhan_capital
			if = {
				limit = { capital_scope = { industrial_complex > 0 }}
				capital_scope = {
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
				980 = {
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { capital_scope = { arms_factory > 0 }}
				capital_scope = {
					remove_building = {
						type = arms_factory
						level = 1
					}
				}
				980 = {
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			set_capital = { state = 980 }
			add_victory_points = {
			  province = 4619
			  value = 28
			}
			add_victory_points = {
			  province = 7167
			  value = -8
			}
			add_victory_points = {
			  province = 11913
			  value = -20
			}
			remove_from_array = { 
				array = global.KMT_province_vp_array 
				index = 4619
			}
			add_to_array = { 
				array = global.KMT_province_vp_array 
				index = 4619
				value = 38
			}
			remove_from_array = { 
				array = global.KMT_province_vp_array 
				index = 7167
			}
			add_to_array = { 
				array = global.KMT_province_vp_array 
				index = 7167
				value = 0.1
			}
			remove_from_array = { 
				array = global.KMT_province_vp_array 
				index = 11913
			}
			add_to_array = { 
				array = global.KMT_province_vp_array 
				index = 11913
				value = 10
			}
			980 = {
				save_global_event_target_as = KMT_central_gov_capital_state
			}
			set_province_name = { id = 4619 name = KMT_VP_4619_wuhan }
		}
	}
	
	KMT_retreat_to_chungking = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = SOV_place_hq
		visible = {
			owns_state = 605
			controls_state = 605
			tag = event_target:KMT_central_gov_tag
			NOT = { has_country_flag = KMT_chungking_capital }
			capital_scope = { 
				OR = {
					state = 613
					state = 980
				}
			}
		}
		
		priority = 100
		
		cost = 5
		
		available = {
			has_war = yes
			capital_scope = {
				OR = {
					any_neighbor_state = { controller = { has_war_with = ROOT }}
					NOT = { is_fully_controlled_by = ROOT }
				}
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 25
			modifier = {	
				surrender_progress < 0.5
				factor = 0
			}
		}
		
		complete_effect = {
			set_country_flag = KMT_chungking_capital
			if = {
				limit = { capital_scope = { industrial_complex > 0 }}
				capital_scope = {
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
				605 = {
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { capital_scope = { arms_factory > 0 }}
				capital_scope = {
					remove_building = {
						type = arms_factory
						level = 1
					}
				}
				605 = {
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			set_capital = { state = 605 }
			if = {
				limit = { has_country_flag = KMT_wuhan_capital }
				add_victory_points = {
				  province = 4619
				  value = -20
				}
				remove_from_array = { 
					array = global.KMT_province_vp_array 
					index = 4619
				}
				add_to_array = { 
					array = global.KMT_province_vp_array 
					index = 4619
					value = 18
				}
			}else = {
				add_victory_points = {
				  province = 11913
				  value = -20
				}
				remove_from_array = { 
					array = global.KMT_province_vp_array 
					index = 11913
				}
				add_to_array = { 
					array = global.KMT_province_vp_array 
					index = 11913
					value = 10
				}
			}
			add_victory_points = {
			  province = 6999
			  value = 20
			}
			remove_from_array = { 
				array = global.KMT_province_vp_array 
				index = 6999
			}
			add_to_array = { 
				array = global.KMT_province_vp_array 
				index = 6999
				value = 30
			}
			605 = {
				save_global_event_target_as = KMT_central_gov_capital_state
			}
		}
	}
	
	KMT_rail_to_kweiyang = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_construction
		visible = {
			OR = {
				605 = {
					CONTROLLER = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
				748 = {
					CONTROLLER = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
				603 = {
					CONTROLLER = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
			}
		}
		
		available = {
			capital_scope = { state = 605 }
			num_of_civilian_factories > 15
			605 = {
				CONTROLLER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
					has_full_control_of_state = 605
				}
			}
			748 = {
				CONTROLLER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
					has_full_control_of_state = 748
				}
			}
			603 = {
				CONTROLLER = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
					has_full_control_of_state = 603
				}
			}
		}
		
		cancel_trigger = {
			OR = {
				605 = { CONTROLLER = { NOT = { 
					OR = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}}}
				748 = { CONTROLLER = { NOT = { 
					OR = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}}}
				603 = { CONTROLLER = { NOT = { 
					OR = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}}}
			}
		}
		ai_will_do = { 
			base = 5 
			modifier = {
				add = 25
				capital_scope = { state = 605 }
			}
			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}
		
		days_remove = 60
		
		fire_only_once = yes
		
		custom_cost_text = 100cp_100pp
		
		custom_cost_trigger = {
			NOT = { has_political_power < 100 }
			NOT = { command_power < 100 }
		}
		
		complete_effect = {
			hidden_effect = {
				add_political_power = -100
				add_command_power = -100
			}
		}
		
		modifier = {
			consumer_goods_factor = 0.02
		}
		
		remove_effect = {
			build_railway = {
				level = 1
				path = { 6999 4431 1010 4325 8095 10616 }
			}
			603 = {
				add_building_construction = {
					type = supply_node
					level = 1
					instant_build = yes
					province = 10616
				}
			}
		}
	}
	
	KMT_forced_conscription = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_military
		visible = { has_war = yes }
		
		ai_will_do = { 
			base = 0 
			modifier = {
				OR = {
					surrender_progress > 0.75
					has_manpower < 50000
				}
				add = 250
			}
		}
		
		custom_cost_text = 25cp_100pp
		
		custom_cost_trigger = {
			NOT = { command_power < 25 }
			NOT = { has_political_power < 100 }
		}
		
		complete_effect = {
			hidden_effect = {
				add_political_power = -100
				add_command_power = -25
			}
		}
		
		cancel_if_not_visible = yes
		
		days_remove = -1
		
		modifier = {
			research_speed_factor = -0.05
			experience_loss_factor = 0.025
			
			land_reinforce_rate = 0.05
			army_morale_factor = 0.1
			conscription = 0.1
			mobilization_speed = 0.5
			training_time_army_factor = -0.15
		}
	}
	
	KMT_improve_chungking_anti_air = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_air
		available = { 
			owns_state = 605 
			controls_state = 605
		}
		ai_will_do = { 
			base = 0
			modifier = {
				capital_scope = { state = 605 }
				add = 50
			}
		}
		
		custom_cost_trigger = { NOT = { command_power < 15 }}
		
		custom_cost_text = 15cp
		
		fire_only_once = yes
		
		complete_effect = {	
			hidden_effect = { add_command_power = -15 }
		}
		
		days_remove = 5
		
		remove_effect = {
			605 = {
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 6999
				}
			}
		}
	}
	
	KMT_appeal_to_nine_power_treaty_signatories = {
		icon = generic_air
		allowed = { always = no }
		visible = {
			any_country = {
				OR = {	
					tag = USA
					tag = ENG
					tag = FRA
					tag = GER
					tag = ITA
					tag = HOL
					tag = BEL
				}
				exists = yes
				is_subject = no
			}
		}
		available = { 
			any_country = {
				OR = {	
					tag = USA
					tag = ENG
					tag = FRA
					tag = GER
					tag = ITA
					tag = HOL
					tag = BEL
				}
				exists = yes
				is_subject = no
			}
			OR = {
				NOT = { controls_state = 938 }
				AND = {
					NOT = { owns_state = 938 }
					surrender_progress > 0.15
				}
			}
		}
		ai_will_do = { 
			base = 1000
		}
		
		fire_only_once = yes
		
		cost = 25
		
		fire_only_once = yes
		
		days_remove = 5
		
		cancel_if_not_visible = yes
		
		remove_effect = {
			every_country = {
				limit = {
					OR = {	
						tag = USA
						tag = ENG
						tag = FRA
						tag = GER
						tag = ITA
						tag = HOL
						tag = BEL
						tag = JAP
					}
					exists = yes
					is_subject = no
				}
				activate_mission = KMT_nptc_mission
				country_event = { id = kmt.674 }
			}
		}
	}
	
	KMT_prepare_for_battle_of_shanghai = {
		allowed = { is_chinese_nations_w_HYQ_allowed = yes }
		icon = generic_operation
		visible = { 
			owns_state = 938
			NOT = { has_global_flag = fall_of_shanghai_jap }
			NOT = { has_global_flag = KMT_battle_of_shanghai_lasted }
			NOT = { has_global_flag = no_shanghai_jap }
		}
		ai_will_do = { 
			base = 1000
		}
		
		available = { controls_state = 938 }
		
		custom_cost_trigger = { 
			NOT = { command_power < 15 }
		}
		
		custom_cost_text = 15cp
		
		cancel_trigger = {
			OR = {
				NOT = { controls_state = 938 }
				has_global_flag = no_shanghai_jap
				NOT = { has_war_with = JAP }
			}
		}
		
		fire_only_once = yes
		
		complete_effect = {	
			hidden_effect = { add_command_power = -15 }
			set_country_flag = KMT_prepare_battle_of_shanghai_flag
		}
		
		days_remove = 5
		
		cancel_effect = {
			clr_country_flag = KMT_prepare_battle_of_shanghai_flag
		}
		
		remove_effect = {
			if = {
				limit = { NOT = { has_global_flag = KMT_remilitarised_shanghai }}
				set_global_flag = KMT_remilitarised_shanghai
			}
			if = {
				limit = { 938 = { is_demilitarized_zone = yes }}
				938 = { set_demilitarized_zone = yes }
			}
			938 = {
				add_dynamic_modifier = {
					modifier = KMT_battle_of_shanghai
					scope = ROOT
					days = 100
				}
			}
			activate_mission = KMT_defence_of_shanghai_mission
			hidden_effect = {
				JAP = {
					country_event = { id = kmt.610 hours = 10 }
				}
			}
		}
	}
	
	KMT_defence_of_shanghai_mission = {
		icon = generic_ignite_civil_war
		activation = { always = no }
		
		is_good = no
		
		priority = 500
		
		available = {
			OR = {
				AND = {
					has_global_flag = KMT_JAP_troops_in_shanghai
					has_full_control_of_state = 938
				}
				NOT = { controls_state = 938 }
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					has_global_flag = KMT_JAP_troops_in_shanghai
				}
				if = {
					limit = {
						has_full_control_of_state = 938
					}
					add_war_support = 0.1
					add_political_power = 100
					set_global_flag = KMT_defence_of_shanghai_successful
				}else = {
					add_political_power = -50
					add_stability = -0.025
				}
			}
			if = {
				limit = { 938 = { has_dynamic_modifier = { modifier = KMT_battle_of_shanghai scope = ROOT }}}
				938 = { remove_dynamic_modifier = { modifier = KMT_battle_of_shanghai scope = ROOT }}
			}
			clr_country_flag = KMT_prepare_battle_of_shanghai_flag
		}
		
		days_mission_timeout = 100
		
		timeout_effect = {
			#custom_effect_tooltip = KMT_possibility_of_foreign_help_tt
			if = {
				limit = { has_global_flag = KMT_JAP_troops_in_shanghai }
				add_political_power = -50
			}
			clr_country_flag = KMT_prepare_battle_of_shanghai_flag
		}
	}
}

KMT_dcat_nine_power_treaty = {
	KMT_nptc_attend_mission = {
		days_mission_timeout = 10
		activation = { always = no }
		
		available = {
			NOT = {
				any_country = {
					has_active_mission = KMT_nptc_attend_mission
					NOT = { has_country_flag = KMT_attend_nptc_choice_made }
				}
			}
		}
		
		complete_effect = {
			if = {
				limit = {
					check_variable = { global.KMT_nptc_attendee_amt > 3 }
					any_country = { has_country_flag = KMT_attended_nptc }
					event_target:KMT_central_gov_tag = {
						has_war_with = JAP
					}
				}
				every_country = {
					limit = { has_country_flag = KMT_attended_nptc }
					activate_mission = KMT_nptc_mission
					country_event = { id = kmt.676 }
				}
			}else_if = { 
				limit = {
					event_target:KMT_central_gov_tag = {
						has_war_with = JAP
					}
				}
				event_target:KMT_central_gov_tag = { country_event = { id = kmt.675 }}
			}
		}
		
		timeout_effect = {
			if = {
				limit = {
					any_country = { has_country_flag = KMT_attended_nptc }
					event_target:KMT_central_gov_tag = {
						has_war_with = JAP
					}
				}
				every_country = {
					limit = { has_country_flag = KMT_attended_nptc }
					activate_mission = KMT_nptc_mission
					country_event = { id = kmt.676 }
				}
			}else_if = { 
				limit = {
					event_target:KMT_central_gov_tag = {
						has_war_with = JAP
					}
				}
				event_target:KMT_central_gov_tag = { country_event = { id = kmt.675 }}
			}
		}
	}
	
	KMT_nptc_mission = {
		days_mission_timeout = 30
		
		activation = { always = no }
		timeout_effect = {
			clr_country_flag = KMT_attended_nptc
		}
	}
	
	KMT_attend_conference = {
		allowed = { always = no }
		visible = { 
			has_active_mission = KMT_nptc_attend_mission 
			NOT = { has_country_flag = KMT_attend_nptc_choice_made }
		}
		
		ai_will_do = {
			base = 10
			modifier = {
				tag = GER
				has_government = fascism
				factor = 0
			}
			modifier = {
				OR = {
					has_war_with = event_target:KMT_central_gov_tag
					has_war_with = JAP
				}
				factor = 0
			}
		}
		
		complete_effect = {
			set_country_flag = KMT_attend_nptc_choice_made
			set_country_flag = KMT_attended_nptc
			add_to_variable = { global.KMT_nptc_attendee_amt = 1 }
		}
	}
	
	KMT_no_attend_conference = {
		allowed = { always = no }
		visible = { 
			has_active_mission = KMT_nptc_attend_mission 
			NOT = { has_country_flag = KMT_attend_nptc_choice_made }
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				tag = GER
				has_government = fascism
				add = 1
			}
			modifier = {
				OR = {
					has_war_with = event_target:KMT_central_gov_tag
					has_war_with = JAP
				}
				add = 1
			}
		}
		
		complete_effect = {
			every_other_country = {
				limit = { 
					OR = {
						has_active_mission = KMT_nptc_attend_mission 
						tag = event_target:KMT_central_gov_tag
					}
				}
				event_target:KMT_central_gov_tag = { country_event = { id = kmt.677 }}
			}
			set_country_flag = KMT_attend_nptc_choice_made
		}
	}
	
	
	KMT_urge_for_peace = {
		allowed = { always = no }
		visible = { 
			has_active_mission = KMT_nptc_mission 
			has_country_flag = KMT_attended_nptc
		}
		
		days_remove = -1
		
		cancel_trigger = {
			hidden_trigger = { 
				NOT = { has_country_flag = KMT_nptc_urge_for_peace_flag }
			}
		}
		
		cancel_effect = {
			subtract_from_variable = { global.KMT_nptc_ufp_amt = 1 }
		}
		
		complete_effect = {
			add_to_variable = { global.KMT_nptc_ufp_amt = 1 }
		}
	}
	
	KMT_ultimatum_to_japan = {		
		allowed = { always = no }
		visible = { 
			has_active_mission = KMT_nptc_mission 
			has_country_flag = KMT_attended_nptc
		}
		
		days_remove = -1
	}
	
	KMT_ultimatum_to_china = {
		allowed = { always = no }
		visible = { 
			has_active_mission = KMT_nptc_mission 
			has_country_flag = KMT_attended_nptc
		}
		
		days_remove = -1
	}
}

KMT_dcat_bop_KMTPRC = {
	
	KMT_high_communism_mission = {
		icon = SOV_secure_the_administration
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes
			NOT = { original_tag = PRC }
		}
		activation = {
			NOT = { has_government = communism }
			has_power_balance = {
				id = KMTPRC_coalition_government
			}
			communism > 0.5
		}
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		is_good = no
		
		days_mission_timeout = 60
		
		available = {
			OR = {
				NOT = { has_power_balance = { id = KMTPRC_coalition_government }}
				communism < 0.25
				has_government = communism
			}
		}
		
		complete_effect = {
			if = {
				limit = { has_power_balance = { id = KMTPRC_coalition_government }}
				add_power_balance_value = {
					id = KMTPRC_coalition_government
					value = 0.05
				}
			}else = {
				add_stability = 0.1
			}
		}
		
		timeout_effect = {
			add_popularity = {
				ideology = communism
				popularity = -0.25
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = -0.05
			}
		}
	}
	
	KMT_demote_ccp_generals = {
		icon = generic_army_support
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes
			NOT = { original_tag = PRC }
		}
		
		days_remove = 180
		
		available = {
		}
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		ai_will_do = {
			base = 0
			modifier = {
				power_balance_value = {
					id = KMTPRC_coalition_government
					value < 0.45
				}
				add = 25
			}
		}
		
		modifier = { experience_gain_army_factor = -0.1 }
		
		custom_cost_trigger = {
			NOT = { has_political_power < 50 }
			NOT = { command_power < 50 }
		}
		
		custom_cost_text = 50cp_50pp
		
		complete_effect = {
			hidden_effect = {
				add_political_power = -50
				add_command_power = -50
			}
			army_experience = -10
			PRC = {	
				country_event = { id = kmt.692 }
				hidden_effect = {
					add_power_balance_value = {
						id = KMTPRC_coalition_government
						value = 0.05
					}
				}
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = 0.05
			}
		}
	}
	
	KMT_demote_ccp_admirals = {
		icon = generic_naval
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes
			NOT = { original_tag = PRC }
		}
		
		days_remove = 180
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		ai_will_do = {
			base = 0
			modifier = {
				power_balance_value = {
					id = KMTPRC_coalition_government
					value < 0.45
				}
				add = 25
			}
		}
		
		available = {
		}
		
		modifier = { experience_gain_navy_factor = -0.1 }
		
		custom_cost_trigger = {
			NOT = { has_political_power < 50 }
			NOT = { command_power < 50 }
		}
		
		custom_cost_text = 50cp_50pp
		
		complete_effect = {
			hidden_effect = {
				add_political_power = -50
				add_command_power = -50
			}
			navy_experience = -10
			PRC = {	
				country_event = { id = kmt.693 }
				hidden_effect = {
					add_power_balance_value = {
						id = KMTPRC_coalition_government
						value = 0.05
					}
				}
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = 0.05
			}
		}
	}
	
	KMT_demote_ccp_air_officers = {
		icon = generic_air
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes
			NOT = { original_tag = PRC }
		}
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		days_remove = 180
		
		ai_will_do = {
			base = 0
			modifier = {
				power_balance_value = {
					id = KMTPRC_coalition_government
					value < 0.45
				}
				add = 25
			}
		}
		
		available = {
		}
		
		modifier = { experience_gain_air_factor = -0.1 }
		
		custom_cost_trigger = {
			NOT = { has_political_power < 50 }
			NOT = { command_power < 50 }
		}
		
		custom_cost_text = 50cp_50pp
		
		complete_effect = {
			hidden_effect = {
				add_political_power = -50
				add_command_power = -50
			}
			air_experience = -10
			PRC = {	
				country_event = { id = kmt.694 }
				hidden_effect = {
					add_power_balance_value = {
						id = KMTPRC_coalition_government
						value = 0.05
					}
				}
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = 0.05
			}
		}
	}
	
	KMT_anti_ccp_propaganda = {
		icon = eng_propaganda_campaigns
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes
			NOT = { original_tag = PRC }
		}
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		days_remove = 100
		
		ai_will_do = {
			base = 10
		}
		
		available = {
		}
		
		modifier = { political_power_cost = 0.05 }
		
		cost = 50
		
		complete_effect = {
			PRC = {	
				country_event = { id = kmt.699 }
				hidden_effect = {
					add_power_balance_value = {
						id = KMTPRC_coalition_government
						value = 0.05
					}
				}
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = 0.05
			}
		}
	}
	
	KMT_replace_ccp_officials = {
		icon = SWI_elect_confederation_president
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes
			NOT = { original_tag = PRC }
		}
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		days_remove = 360
		
		available = {
			if = { 
				limit = { NOT = { has_government = communism }}
				communism > 0.1
			}else = {
				power_balance_value = {
					id = KMTPRC_coalition_government
					value < -0.15
				}
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				power_balance_value = {
					id = KMTPRC_coalition_government
					value < 0.45
				}
				add = 25
			}
			modifier = {
				political_power_daily < 0.5
				add = -20
			}
			modifier = {
				power_balance_value = {
					id = KMTPRC_coalition_government
					value < 0.75
				}
				add = 100
			}
		}
		
		modifier = { 
			political_power_cost = -0.1 
			communism_drift = -0.001
		}
		
		cost = 100
		
		complete_effect = {
			PRC = {	
				country_event = { id = kmt.695 }
				hidden_effect = {
					add_power_balance_value = {
						id = KMTPRC_coalition_government
						value = 0.15
					}
				}
			}
			add_popularity = { 
				ideology = communism
				popularity = -0.1
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = 0.15
			}
		}
	}
	
	KMT_frame_ccp_figures = {
		icon = SWI_expand_covert_operations
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes
			NOT = { original_tag = PRC }
		}
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		days_remove = 80
		
		available = {
		}
		
		modifier = { political_power_cost = 0.1 }
		
		ai_will_do = {
			base = 10
		}
		
		cost = 75
		
		complete_effect = {
			PRC = {	
				country_event = { id = kmt.696 }
				hidden_effect = {
					add_power_balance_value = {
						id = KMTPRC_coalition_government
						value = 0.025
					}
				}
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = 0.025
			}
		}
		
		remove_effect = {
			add_to_variable = { global.KMT_bop_cg_hostility = 1 }
			custom_effect_tooltip = KMT_increase_cg_hostility_1_tt
		}
	}
	
	KMT_arrest_ccp_figures = {
		icon = generic_arrest
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes
			NOT = { original_tag = PRC }
		}
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		days_remove = 100
		
		ai_will_do = {
			base = 10
		}
		
		available = {
			power_balance_value = {
				id = KMTPRC_coalition_government
				value > 0.45 
			}
			OR = {
				custom_trigger_tooltip = {
					tooltip = KMT_bop_cg_hostility_mt1_tt
					check_variable = { global.KMT_bop_cg_hostility > 1 }
				}
				custom_trigger_tooltip = {
					tooltip = KMT_bop_prc_higher_hostility_than_cg_tt
					check_variable = { PRC.KMT_bop_prc_hostility > global.KMT_bop_cg_hostility  }
				}
			}
		}
		
		cost = 100
		
		complete_effect = {
			PRC = {	
				country_event = { id = kmt.697 }
				hidden_effect = {
					add_power_balance_value = {
						id = KMTPRC_coalition_government
						value = 0.05
					}
				}
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = 0.05
			}
		}
		
		remove_effect = {
			add_to_variable = { global.KMT_bop_cg_hostility = 1 }
			custom_effect_tooltip = KMT_increase_cg_hostility_1_tt
		}
	}
	
	KMT_mass_arrest_ccp_members = {
		icon = generic_arrest
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes
			NOT = { original_tag = PRC }
		}
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		days_remove = 150
		
		ai_will_do = {
			base = 10
		}
		
		available = {
			power_balance_value = {
				id = KMTPRC_coalition_government
				value > 0.55 
			}
			OR = {
				custom_trigger_tooltip = {
					tooltip = KMT_bop_cg_hostility_mt5_tt
					check_variable = { global.KMT_bop_cg_hostility > 5 }
				}
				custom_trigger_tooltip = {
					tooltip = KMT_bop_prc_hostility_mt3_tt
					check_variable = { PRC.KMT_bop_prc_hostility > 3 }
				}
			}
		}
		
		cost = 150
		
		modifier = {
			communism_drift = -0.01
		}
		
		complete_effect = {
			PRC = {	
				country_event = { id = kmt.698 }
				hidden_effect = {
					add_power_balance_value = {
						id = KMTPRC_coalition_government
						value = 0.1
					}
				}
			}
			add_popularity = {
				ideology = communism
				popularity = -0.1
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = 0.1
			}
		}
		
		remove_effect = {
			add_to_variable = { global.KMT_bop_cg_hostility = 3 }
			custom_effect_tooltip = KMT_increase_cg_hostility_3_tt
		}
	}
	
	KMT_denounce_the_ccp = {
		icon = generic_speech
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes
			NOT = { original_tag = PRC }
		}
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		days_remove = 250
		
		ai_will_do = {
			base = 10
		}
		
		available = {
			OR = {
				power_balance_value = {
					id = KMTPRC_coalition_government
					value > 0.75
				}
				custom_trigger_tooltip = {
					tooltip = KMT_bop_prc_hostility_mt20_tt
					check_variable = { PRC.KMT_bop_prc_hostility > 20 }
				}
			}
			OR = {
				custom_trigger_tooltip = {
					tooltip = KMT_bop_cg_hostility_mt10_tt
					check_variable = { global.KMT_bop_cg_hostility > 10 }
				}
				custom_trigger_tooltip = {
					tooltip = KMT_bop_prc_hostility_mt15_tt
					check_variable = { PRC.KMT_bop_prc_hostility > 15 }
				}
			}
		}
		
		cost = 150
		
		modifier = {
			communism_drift = -0.01
		}
		
		complete_effect = {
			PRC = {	
				country_event = { id = kmt.700 }
				hidden_effect = {
					add_power_balance_value = {
						id = KMTPRC_coalition_government
						value = 0.1
					}
				}
			}
			add_popularity = {
				ideology = communism
				popularity = -0.1
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = 0.1
			}
		}
		
		remove_effect = {
			add_to_variable = { global.KMT_bop_cg_hostility = 3 }
			custom_effect_tooltip = KMT_increase_cg_hostility_3_tt
		}
	}
	
	KMT_outlaws_the_ccp = {
		icon = generic_break_treaty
		allowed = { 
			is_chinese_nations_w_HYQ_allowed = yes
			NOT = { original_tag = PRC }
		}
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		ai_will_do = {
			base = 100
		}
		
		available = {
			is_power_balance_in_range = {
				id = KMTPRC_coalition_government
				range = KMTPRC_KMT_max
			}
			OR = {
				custom_trigger_tooltip = {
					tooltip = KMT_bop_cg_hostility_mt10_tt
					check_variable = { global.KMT_bop_cg_hostility > 10 }
				}
				custom_trigger_tooltip = {
					tooltip = KMT_bop_prc_hostility_mt15_tt
					check_variable = { PRC.KMT_bop_prc_hostility > 15 }
				}
			}
		}
		
		fire_only_once = yes
		
		cost = 150
		
		complete_effect = {
			PRC = {	
				country_event = { id = kmt.701 }
				hidden_effect = {
					add_power_balance_value = {
						id = KMTPRC_coalition_government
						value = 0.1
					}
				}
			}
			add_popularity = {
				ideology = communism
				popularity = -0.1
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = 0.1
			}
		}
		
		remove_effect = {
		}
	}
	
	############################################################
	#################   CCP DECISIONS    #######################
	############################################################
	
	PRC_spread_anti_central_propaganda = {
		icon = eng_propaganda_campaigns
		allowed = { original_tag = PRC }
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		days_remove = 150
		
		available = {
		}
		
		ai_will_do = {
			base = 50
			modifier = {
				political_power_daily < 0.5
				factor = 0.01
			}
		}
		
		cost = 35
		
		modifier = {
			political_power_cost = 0.1
		}
		
		complete_effect = {
			event_target:KMT_central_gov_tag = {	
				country_event = { id = kmt.704 }
				hidden_effect = {
					add_power_balance_value = {
						id = KMTPRC_coalition_government
						value = -0.1
					}
				}
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = -0.1
			}
		}
		
		remove_effect = {
		}
	}
	
	PRC_spread_communist_propaganda = {
		icon = SOV_the_stalin_constitution
		allowed = { original_tag = PRC }
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		days_remove = 150
		
		available = {
		}
		
		ai_will_do = {
			base = 50
			modifier = {
				political_power_daily < 0.5
				factor = 0.01
			}
		}
		
		cost = 35
		
		modifier = {
			political_power_cost = 0.1
		}
		
		complete_effect = {
			event_target:KMT_central_gov_tag = {	
				country_event = { id = kmt.705 }
				hidden_effect = {
					add_power_balance_value = {
						id = KMTPRC_coalition_government
						value = -0.05
					}
				}
				if = {
					limit = {
						OR = {
							has_government = communism
							PRC = { NOT = { has_government = communism }}
						}
					}
					add_political_power = -50
				}else = {					
					add_timed_idea = {
						idea = KMT_communist_propaganda
						days = 80
					}
				}
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = -0.05
			}
		}
		
		remove_effect = {
		}
	}
	
	PRC_infiltrate_administration = {
		icon = SWI_expand_covert_operations
		allowed = { original_tag = PRC }
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		days_remove = 210
		
		available = {
		}
		
		ai_will_do = {
			base = 50
			modifier = {
				political_power_daily < 0.5
				factor = 0.01
			}
		}
		
		cost = 100
		
		modifier = {
			political_power_cost = 0.1
		}
		
		complete_effect = {
			event_target:KMT_central_gov_tag = {	
				country_event = { id = kmt.706 }
				hidden_effect = {
					add_power_balance_value = {
						id = KMTPRC_coalition_government
						value = -0.1
					}
				}
				if = {
					limit = {
						OR = {
							has_government = communism
							PRC = { NOT = { has_government = communism }}
						}
					}
					add_political_power = -50
				}else = {					
					add_popularity = {
						ideology = communism
						popularity = 0.05
					}
				}
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = -0.1
			}
		}
		
		remove_effect = {
			event_target:KMT_central_gov_tag = {	
				country_event = { id = kmt.706 }
			}
		}
	}
	
	PRC_infiltrate_military = {
		icon = SWI_guisan_speech
		allowed = { original_tag = PRC }
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		days_remove = 210
		
		available = {
		}
		
		ai_will_do = {
			base = 50
		}
		
		custom_cost_text = 50cp_50pp
		
		custom_cost_trigger = {
			NOT = { has_political_power < 50 }
			NOT = { command_power < 50 }
		}
		
		modifier = {
			experience_gain_army = 0.01
		}
		
		complete_effect = {
			hidden_effect = {
				add_political_power = -50
				add_command_power = -50
				event_target:KMT_central_gov_tag = {	
					add_power_balance_value = {
						id = KMTPRC_coalition_government
						value = -0.05
					}
				}
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = -0.05
			}
		}
		
		remove_effect = {
			event_target:KMT_central_gov_tag = {	
				country_event = { id = kmt.707 }
			}
		}
	}
	
	PRC_propose_outrageous_reforms = {
		icon = generic_decision
		allowed = { original_tag = PRC }
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		days_remove = 100
		
		available = {
		}
		
		ai_will_do = {
			base = 50
		}
		
		cost = 100
		
		modifier = {
			political_power_gain = 0.25
		}
		
		complete_effect = {
			event_target:KMT_central_gov_tag = {	
				country_event = { id = kmt.708 }
				hidden_effect = {
					add_power_balance_value = {
						id = KMTPRC_coalition_government
						value = -0.05
					}
				}
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = -0.05
			}
		}
		
		remove_effect = {
			add_to_variable = { PRC.KMT_bop_prc_hostility = 1 }
			custom_effect_tooltip = KMT_increase_prc_hostility_1_tt
		}
	}
	
	PRC_denounce_central = {
		icon = generic_speech
		allowed = { original_tag = PRC }
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		days_remove = 180
		
		available = {
			custom_trigger_tooltip = {
				tooltip = KMT_bop_prc_hostility_mt3_tt
				check_variable = { PRC.KMT_bop_prc_hostility > 3 }
			}
		}
		
		ai_will_do = {
			base = 50
		}
		
		cost = 75
		
		modifier = {
		}
		
		complete_effect = {
			event_target:KMT_central_gov_tag = {	
				country_event = { id = kmt.709 }
				hidden_effect = {
					add_power_balance_value = {
						id = KMTPRC_coalition_government
						value = -0.05
					}
				}
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = -0.05
			}
		}
		
		remove_effect = {
			add_to_variable = { PRC.KMT_bop_prc_hostility = 2 }
			custom_effect_tooltip = KMT_increase_prc_hostility_2_tt
		}
	}
	
	PRC_anti_central_rally = {
		icon = generic_political_rally
		allowed = { original_tag = PRC }
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		days_remove = 180
		
		available = {
			custom_trigger_tooltip = {
				tooltip = KMT_bop_prc_hostility_mt0_tt
				check_variable = { PRC.KMT_bop_prc_hostility > 0 }
			}
		}
		
		ai_will_do = {
			base = 50
			modifier = {
				political_power_daily < 0.5
				factor = 0.01
			}
		}
		
		cost = 100
		
		modifier = {
			political_power_cost = 0.1
		}
		
		complete_effect = {
			event_target:KMT_central_gov_tag = {	
				country_event = { id = kmt.710 }
				hidden_effect = {
					add_power_balance_value = {
						id = KMTPRC_coalition_government
						value = -0.1
					}
				}
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = -0.1
			}
		}
		
		remove_effect = {
			add_to_variable = { PRC.KMT_bop_prc_hostility = 1 }
			custom_effect_tooltip = KMT_increase_prc_hostility_1_tt
		}
	}
	
	PRC_rally_workers = {
		icon = generic_civil_support
		allowed = { original_tag = PRC }
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		days_remove = 250
		
		available = {
			custom_trigger_tooltip = {
				tooltip = KMT_bop_prc_hostility_mt5_tt
				check_variable = { PRC.KMT_bop_prc_hostility > 5 }
			}
		}
		
		ai_will_do = {
			base = 50
			modifier = {
				political_power_daily < 0.5
				factor = 0.01
			}
		}
		
		cost = 100
		
		modifier = {
			political_power_cost = 0.1
		}
		
		complete_effect = {
			event_target:KMT_central_gov_tag = {	
				country_event = { id = kmt.711 }
				hidden_effect = {
					add_power_balance_value = {
						id = KMTPRC_coalition_government
						value = -0.1
					}
				}
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = -0.1
			}
		}
		
		remove_effect = {
			add_to_variable = { PRC.KMT_bop_prc_hostility = 2 }
			custom_effect_tooltip = KMT_increase_prc_hostility_2_tt
		}
	}
	
	PRC_expose_scandalous_deeds = {
		icon = generic_political_discourse
		allowed = { original_tag = PRC }
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		days_remove = 365
		
		available = {
			custom_trigger_tooltip = {
				tooltip = KMT_bop_prc_hostility_mt5_tt
				check_variable = { PRC.KMT_bop_prc_hostility > 5 }
			}
		}
		
		ai_will_do = {
			base = 50
			modifier = {
				political_power_daily < 0.5
				factor = 0
			}
		}
		
		cost = 75
		
		modifier = {
			political_power_cost = 0.15
		}
		
		complete_effect = {
			event_target:KMT_central_gov_tag = {	
				country_event = { id = kmt.712 }
				hidden_effect = {
					add_power_balance_value = {
						id = KMTPRC_coalition_government
						value = -0.1
					}
				}
				add_political_power = -75
			}
			add_power_balance_value = {
				id = KMTPRC_coalition_government
				value = -0.1
			}
		}
		
		remove_effect = {
			add_to_variable = { PRC.KMT_bop_prc_hostility = 1 }
			custom_effect_tooltip = KMT_increase_prc_hostility_1_tt
		}
	}
	
	PRC_demand_change_of_government = {
		icon = SOV_secure_the_administration
		allowed = { original_tag = PRC }
		
		visible = {
			has_power_balance = { id = KMTPRC_coalition_government }
		}
		
		cancel_if_not_visible = yes
		
		available = {
			is_power_balance_in_range = {
				id = KMTPRC_coalition_government
				range = KMTPRC_PRC_max
			}
			custom_trigger_tooltip = {
				tooltip = KMT_bop_prc_hostility_mt20_tt
				check_variable = { PRC.KMT_bop_prc_hostility > 20 }
			}
		}
		
		ai_will_do = {
			base = 100
		}
		
		fire_only_once = yes
		
		cost = 100
		
		modifier = {
		}
		
		complete_effect = {
			event_target:KMT_central_gov_tag = {	
				country_event = { id = kmt.713 }
			}
		}
	}
}

economy_decisions = {
	KMT_build_supply_hub_in_taiyuan = {
		ai_will_do = {
			base = 0
			modifier = {
				has_war = yes
				add = 10
			}
			modifier = {
				OR = {
					tag = JAP
					is_subject_of = JAP
					is_in_faction_with = JAP
				}
				date < 1946.1.1
				factor = 0
			}
		}
		
		visible = { 
			NOT = { has_global_flag = KMT_taiyuan_supply_hub_built }
			615 = {
				is_capital = no
			}
			OR = {
				controls_province = 1027
				controls_province = 1034
				controls_province = 1180
				controls_province = 1203
				controls_province = 1438
				controls_province = 1519
				controls_province = 1531
				controls_province = 1575
				controls_province = 4074
				controls_province = 4174
				controls_province = 4469
				controls_province = 4538
				controls_province = 4634
				controls_province = 7571
				controls_province = 10367
				controls_province = 10421
				controls_province = 10480
				controls_province = 10507
				controls_province = 12078
				controls_province = 12300
				controls_province = 12344
				controls_province = 12432
				controls_province = 13316
				controls_province = 13322
				controls_province = 13333
			}
		}
		
		available = {
			controls_province = 4174
		}
		
		modifier = { consumer_goods_factor = 0.02 }
		
		cost = 20
		
		days_remove = 90
		
		cancel_trigger = {
			NOT = { controls_province = 4174 }
		}
		
		remove_effect = {
			615 = {
				add_building_construction = {
					type = supply_node
					level = 1
					instant_build = yes
					province = 4174
				}
			}
			set_global_flag = KMT_taiyuan_supply_hub_built
		}
	}
}